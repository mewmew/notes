function MD5(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,i,r,o,a;return r=2147483648&e,o=2147483648&t,n=1073741824&e,i=1073741824&t,a=(1073741823&e)+(1073741823&t),n&i?2147483648^a^r^o:n|i?1073741824&a?3221225472^a^r^o:1073741824^a^r^o:a^r^o}function i(e,t,n){return e&t|~e&n}function r(e,t,n){return e&n|t&~n}function o(e,t,n){return e^t^n}function a(e,t,n){return t^(e|~n)}function s(e,r,o,a,s,l,c){return e=n(e,n(n(i(r,o,a),s),c)),n(t(e,l),r)}function l(e,i,o,a,s,l,c){return e=n(e,n(n(r(i,o,a),s),c)),n(t(e,l),i)}function c(e,i,r,a,s,l,c){return e=n(e,n(n(o(i,r,a),s),c)),n(t(e,l),i)}function u(e,i,r,o,s,l,c){return e=n(e,n(n(a(i,r,o),s),c)),n(t(e,l),i)}function d(e){for(var t,n=e.length,i=n+8,r=(i-i%64)/64,o=16*(r+1),a=Array(o-1),s=0,l=0;l<n;)t=(l-l%4)/4,s=l%4*8,a[t]=a[t]|e.charCodeAt(l)<<s,l++;return t=(l-l%4)/4,s=l%4*8,a[t]=a[t]|128<<s,a[o-2]=n<<3,a[o-1]=n>>>29,a}function f(e){var t,n,i="",r="";for(n=0;n<=3;n++)t=e>>>8*n&255,r="0"+t.toString(16),i+=r.substr(r.length-2,2);return i}function h(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}var p,g,m,v,y,b,w,S,k,C=Array(),T=7,x=12,L=17,A=22,E=5,M=9,D=14,N=20,_=4,I=11,O=16,q=23,R=6,F=10,P=15,B=21;for(e=h(e),C=d(e),b=1732584193,w=4023233417,S=2562383102,k=271733878,p=0;p<C.length;p+=16)g=b,m=w,v=S,y=k,b=s(b,w,S,k,C[p+0],T,3614090360),k=s(k,b,w,S,C[p+1],x,3905402710),S=s(S,k,b,w,C[p+2],L,606105819),w=s(w,S,k,b,C[p+3],A,3250441966),b=s(b,w,S,k,C[p+4],T,4118548399),k=s(k,b,w,S,C[p+5],x,1200080426),S=s(S,k,b,w,C[p+6],L,2821735955),w=s(w,S,k,b,C[p+7],A,4249261313),b=s(b,w,S,k,C[p+8],T,1770035416),k=s(k,b,w,S,C[p+9],x,2336552879),S=s(S,k,b,w,C[p+10],L,4294925233),w=s(w,S,k,b,C[p+11],A,2304563134),b=s(b,w,S,k,C[p+12],T,1804603682),k=s(k,b,w,S,C[p+13],x,4254626195),S=s(S,k,b,w,C[p+14],L,2792965006),w=s(w,S,k,b,C[p+15],A,1236535329),b=l(b,w,S,k,C[p+1],E,4129170786),k=l(k,b,w,S,C[p+6],M,3225465664),S=l(S,k,b,w,C[p+11],D,643717713),w=l(w,S,k,b,C[p+0],N,3921069994),b=l(b,w,S,k,C[p+5],E,3593408605),k=l(k,b,w,S,C[p+10],M,38016083),S=l(S,k,b,w,C[p+15],D,3634488961),w=l(w,S,k,b,C[p+4],N,3889429448),b=l(b,w,S,k,C[p+9],E,568446438),k=l(k,b,w,S,C[p+14],M,3275163606),S=l(S,k,b,w,C[p+3],D,4107603335),w=l(w,S,k,b,C[p+8],N,1163531501),b=l(b,w,S,k,C[p+13],E,2850285829),k=l(k,b,w,S,C[p+2],M,4243563512),S=l(S,k,b,w,C[p+7],D,1735328473),w=l(w,S,k,b,C[p+12],N,2368359562),b=c(b,w,S,k,C[p+5],_,4294588738),k=c(k,b,w,S,C[p+8],I,2272392833),S=c(S,k,b,w,C[p+11],O,1839030562),w=c(w,S,k,b,C[p+14],q,4259657740),b=c(b,w,S,k,C[p+1],_,2763975236),k=c(k,b,w,S,C[p+4],I,1272893353),S=c(S,k,b,w,C[p+7],O,4139469664),w=c(w,S,k,b,C[p+10],q,3200236656),b=c(b,w,S,k,C[p+13],_,681279174),k=c(k,b,w,S,C[p+0],I,3936430074),S=c(S,k,b,w,C[p+3],O,3572445317),w=c(w,S,k,b,C[p+6],q,76029189),b=c(b,w,S,k,C[p+9],_,3654602809),k=c(k,b,w,S,C[p+12],I,3873151461),S=c(S,k,b,w,C[p+15],O,530742520),w=c(w,S,k,b,C[p+2],q,3299628645),b=u(b,w,S,k,C[p+0],R,4096336452),k=u(k,b,w,S,C[p+7],F,1126891415),S=u(S,k,b,w,C[p+14],P,2878612391),w=u(w,S,k,b,C[p+5],B,4237533241),b=u(b,w,S,k,C[p+12],R,1700485571),k=u(k,b,w,S,C[p+3],F,2399980690),S=u(S,k,b,w,C[p+10],P,4293915773),w=u(w,S,k,b,C[p+1],B,2240044497),b=u(b,w,S,k,C[p+8],R,1873313359),k=u(k,b,w,S,C[p+15],F,4264355552),S=u(S,k,b,w,C[p+6],P,2734768916),w=u(w,S,k,b,C[p+13],B,1309151649),b=u(b,w,S,k,C[p+4],R,4149444226),k=u(k,b,w,S,C[p+11],F,3174756917),S=u(S,k,b,w,C[p+2],P,718787259),w=u(w,S,k,b,C[p+9],B,3951481745),b=n(b,g),w=n(w,m),S=n(S,v),k=n(k,y);var j=f(b)+f(w)+f(S)+f(k);return j.toLowerCase()}function json_encode(e){var t,n=this.window.JSON;try{if("object"==typeof n&&"function"==typeof n.stringify){if(t=n.stringify(e),void 0===t)throw new SyntaxError("json_encode");return t}var i=e,r=function(e){var t=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b"," ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},o=function(e,t){var n="",i="    ",a=0,s="",l="",c=0,u=n,d=[],f=t[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(e)),typeof f){case"string":return r(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(this.PHPJS_Resource&&f instanceof this.PHPJS_Resource||window.PHPJS_Resource&&f instanceof window.PHPJS_Resource)throw new SyntaxError("json_encode");if(n+=i,d=[],"[object Array]"===Object.prototype.toString.apply(f)){for(c=f.length,a=0;a<c;a+=1)d[a]=o(a,f)||"null";return l=0===d.length?"[]":n?"[\n"+n+d.join(",\n"+n)+"\n"+u+"]":"["+d.join(",")+"]",n=u,l}for(s in f)Object.hasOwnProperty.call(f,s)&&(l=o(s,f),l&&d.push(r(s)+(n?": ":":")+l));return l=0===d.length?"{}":n?"{\n"+n+d.join(",\n"+n)+"\n"+u+"}":"{"+d.join(",")+"}",n=u,l;case"undefined":case"function":default:throw new SyntaxError("json_encode")}};return o("",{"":i})}catch(a){if(!(a instanceof SyntaxError))throw new Error("Unexpected error type in json_encode()");return this.php_js=this.php_js||{},this.php_js.last_error_json=4,null}}function getClickURL(){var e=document.getElementById("canonical");if(e)return e=e.href;var e=self.clickURL||document.location.href;return e=e.replace(/\?.*/,""),e.replace(/[&?]$/,"")}function getMeta(e){for(var t=document.getElementsByTagName("meta"),n=0;n<t.length;n++)if(t[n].name&&e&&t[n].name.toLowerCase()==e.toLowerCase())return t[n].content}function getMetaOg(e){for(var t=document.getElementsByTagName("meta"),n=0;n<t.length;n++){var i=$(t[n]).attr("property");if(e==i)return t[n].content}}function getClickTitle(){var e=getMetaOg("og:title");e||(e=getMeta("headline")),e||(e=document.title.replace(/(.*?)\s*(\-\-?\s*)?new york magazine\s*$/i,"$1")),e=e.replace(/^\s*|\s*$/g,"");var t;try{t=utility.symbolsToEntities(e)}catch(n){t=e}return t}function getClickExpire(){return self.clickExpire?clickExpire:""}function getClickSummary(){return self.clickSummary?clickSummary:""}function getClickImage(){return self.clickImage?clickImage:""}function disableZoom(e){var t=document.querySelector('meta[name="viewport"]');t&&(t.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui")}function enableZoom(e){var t=document.querySelector('meta[name="viewport"]');t&&(t.content=originalViewportContent)}function envConfigs(){var e,t,n,i,r,o,a,s,l,c,u="http://tammanyhall.qa.nymetro.com",d=document.domain;"undefined"!=typeof NYM.hostForVulture&&(d=NYM.hostForVulture),d.match("homepagenginx.")?(e="357847397554",i="qa.nymetro.com",n="http://origin-cache.qa.nymetro.com",t="http://tammanyhall.qa.nymetro.com",r="http://qa.nymag.com"):d.match("dev.")?(d.match(".grubstreet.com")?(i="grubstreet",o=304356,s="http://dev.grubstreet.com"):d.match(".vulture.com")?(e="219204411496650",i="vulture",o=304355,s="http://dev.vulture.com"):d.match(".thecut.com")?(o=304357,i="thecut",s="http://dev.nymetro.biz"):location.pathname.indexOf("/daily/intelligencer/")>-1?(o=304449,i="daily-intelligencer",s="http://dev.nymetro.biz"):d.match("localhost.")?(o=304980,i="grubstreet",s="http://qa.grubstreet.com"):(e="164574351267",i="nymag",o=304354,s="http://dev.nymetro.biz"),n="http://origin-cache.dev.nymetro.com",t="http://tammanyhall.qa.nymetro.com",r="http://newsletterplay.dev.nymag.biz",a="dev"):d.match("qa.")?(d.match(".grubstreet.com")?(e="123010931104252",i="grubstreet",o=304356,s="http://qa.grubstreet.com"):d.match(".vulture.com")?(e="217988618287532",i="vulture",o=304355,s="http://qa.vulture.com"):d.match(".thecut.com")?(e="357847397554",i="thecut",o=304357,s="http://qa.www.thecut.com"):location.pathname.indexOf("/daily/intelligencer/")>-1?(e="357847397554",i="daily-intelligencer",o=304449,s="http://qa.nymag.com"):location.pathname.indexOf("/scienceofus/")>-1?(e="1404914123112780",i="scienceofus",o=304802,s="http://factory.qa.nymetro.com"):(e="357847397554",i="nymag",o=304354,s="http://qa.nymag.com"),n="http://origin-cache.qa.nymetro.com",t="http://tammanyhall.qa.nymetro.com",r="http://qa.nymag.com",a="qa"):d.match("stg.")?(d.match(".grubstreet.com")?(e="",i="grubstreet",o=304356,s="http://stg.grubstreet.com"):d.match(".vulture.com")?(e="162498493853207",i="vulture",o=304355,s="http://stg.vulture.com"):d.match(".thecut.com")?(e="134556739904777",i="thecut",o=304357,s="http://stg.thecut.com"):location.pathname.indexOf("/daily/intelligencer/")>-1?(e="134556739904777",i="daily-intelligencer",o=304449,s="http://stg.nymetro.com"):(e="134556739904777",i="nymag",o=304354,s="http://stg.nymetro.com"),n="http://origin-cache.stg.nymetro.com",t="https://secure.stg.nymetro.com",r="http://stg.nymetro.com",a="stg"):(d.match(".grubstreet.com")?(e="206283005644",i="grubstreet",o=352283,s="http://www.grubstreet.com"):d.match(".vulture.com")?(e="158902697551841",i="vulture",o=349269,s="http://www.vulture.com"):d.match(".thecut.com")?(e="120608177953522",i="thecut",o=349271,s="http://www.thecut.com"):location.pathname.indexOf("/daily/intelligencer/")>-1?(e="120608177953522",i="daily-intelligencer",o=351883,s="http://nymag.com"):location.pathname.indexOf("/scienceofus/")>-1?(e="1429541410625247",i="scienceofus",o=356016,s="http://nymag.com"):(e="120608177953522",i="nymag",o=352059,s="http://nymag.com"),n="https://cache.nymag.com",t="https://secure.nymag.com",r="http://nymag.com",l="http://zor.livefyre.com/wjs/v3.0/javascripts/livefyre.js",c="nymedia.fyre.co",a="production"),NYM.loginReg.getFB_appid=e,NYM.loginReg.secureDomain=t,NYM.loginReg.frontEndAssetURL=n,NYM.loginReg.currentSite=i,NYM.loginReg.newsletterURL=r,NYM.loginReg.livefyreSiteId=o,NYM.loginReg.livefyrelibrary=l,NYM.loginReg.livefyreNetwork=c,NYM.loginReg.livefyreTokenURL=u,NYM.loginReg.domainEnv=a,NYM.loginReg.refererFrom=s}function Visitor(e,t){if(!e)throw"Visitor requires Adobe Marketing Cloud Org ID";var n=this;n.version="1.3.2";var i=window,r=i.Visitor;i.s_c_in||(i.s_c_il=[],i.s_c_in=0),n._c="Visitor",n._il=i.s_c_il,n._in=i.s_c_in,n._il[n._in]=n,i.s_c_in++;var o=i.document,a=i.O;a||(a=null);var s=i.P;s||(s=!0);var l=i.N;l||(l=!1),n.C=function(e){var t,n,i=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i&=i;return i},n.m=function(e){var t,n="0123456789",i="",r="",o=8,a=10,s=10;if(1==e){for(n+="ABCDEF",e=0;16>e;e++)t=Math.floor(Math.random()*o),i+=n.substring(t,t+1),t=Math.floor(Math.random()*o),r+=n.substring(t,t+1),o=16;return i+"-"+r}for(e=0;19>e;e++)t=Math.floor(Math.random()*a),i+=n.substring(t,t+1),0==e&&9==t?a=3:(1==e||2==e)&&10!=a&&2>t?a=10:2<e&&(a=10),t=Math.floor(Math.random()*s),r+=n.substring(t,t+1),0==e&&9==t?s=3:(1==e||2==e)&&10!=s&&2>t?s=10:2<e&&(s=10);return i+r},n.I=function(){var e;if(!e&&i.location&&(e=i.location.hostname),e)if(/^[0-9.]+$/.test(e))e="";else{var t=e.split("."),n=t.length-1,r=n-1;if(1<n&&2>=t[n].length&&(2==t[n-1].length||0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,nd,".indexOf(","+t[n]+","))&&r--,0<r)for(e="";n>=r;)e=t[n]+(e?".":"")+e,n--}return e},n.cookieRead=function(e){var e=encodeURIComponent(e),t=(";"+o.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),i=0>n?n:t.indexOf(";",n+1);return 0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>i?t.length:i))},n.cookieWrite=function(e,t,i){var r,a=n.cookieLifetime,t=""+t,a=a?(""+a).toUpperCase():"";return i&&"SESSION"!=a&&"NONE"!=a?(r=""!=t?parseInt(a?a:0):-60)?(i=new Date,i.setTime(i.getTime()+1e3*r)):1==i&&(i=new Date,r=i.getYear(),i.setYear(r+2+(1900>r?1900:0))):i=0,e&&"NONE"!=a?(o.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(i?" expires="+i.toGMTString()+";":"")+(n.cookieDomain?" domain="+n.cookieDomain+";":""),n.cookieRead(e)==t):0},n.e=a,n.w=function(e,t){try{"function"==typeof e?e.apply(i,t):e[1].apply(e[0],t)}catch(n){}},n.L=function(e,t){t&&(n.e==a&&(n.e={}),void 0==n.e[e]&&(n.e[e]=[]),n.e[e].push(t))},n.l=function(e,t){if(n.e!=a){var i=n.e[e];if(i)for(;0<i.length;)n.w(i.shift(),t)}},n.j=a,n.J=function(e,t,i){!t&&i&&i();var r=o.getElementsByTagName("HEAD")[0],s=o.createElement("SCRIPT");s.type="text/javascript",s.setAttribute("async","async"),s.src=t,r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),i&&(n.j==a&&(n.j={}),n.j[e]=setTimeout(i,n.loadTimeout))},n.H=function(e){n.j!=a&&n.j[e]&&(clearTimeout(n.j[e]),n.j[e]=0)},n.D=l,n.F=l,n.isAllowed=function(){return!n.D&&(n.D=s,n.cookieRead(n.cookieName)||n.cookieWrite(n.cookieName,"T",1))&&(n.F=s),n.F},n.a=a,n.c=a;var c=n.V;c||(c="MC");var u=n.Y;u||(u="MCMID");var d=n.X;d||(d="MCCIDH");var f=n.W;f||(f="MCAS");var h=n.T;h||(h="A");var p=n.Q;p||(p="MCAID");var g=n.U;g||(g="AAM");var m=n.S;m||(m="MCAAMLH");var v=n.R;v||(v="MCAAMB");var y=n.Z;if(y||(y="NONE"),n.t=0,n.B=function(){if(!n.t){var e=n.version;if(n.audienceManagerServer&&(e+="|"+n.audienceManagerServer),n.audienceManagerServerSecure&&(e+="|"+n.audienceManagerServerSecure),n.audienceManagerCustomerIDDPIDs)for(var t in n.audienceManagerCustomerIDDPIDs)!Object.prototype[t]&&n.audienceManagerCustomerIDDPIDs[t]&&(e+=t+"="+n.audienceManagerCustomerIDDPIDs[t]);n.t=n.C(e)}return n.t},n.G=l,n.h=function(){if(!n.G){n.G=s;var e,t,i,r=n.B(),o=l,c=n.cookieRead(n.cookieName),u=new Date;if(n.a==a&&(n.a={}),c&&"T"!=c)for(c=c.split("|"),c[0].match(/^[\-0-9]+$/)&&(parseInt(c[0])!=r&&(o=s),c.shift()),1==c.length%2&&c.pop(),r=0;r<c.length;r+=2)e=c[r].split("-"),t=e[0],i=c[r+1],e=1<e.length?parseInt(e[1]):0,o&&(t==d&&(i=""),0<e&&(e=u.getTime()/1e3-60)),t&&i&&(n.d(t,i,1),0<e&&(n.a["expire"+t]=e,u.getTime()>=1e3*e&&(n.c||(n.c={}),n.c[t]=s)));!n.b(p)&&(c=n.cookieRead("s_vi"))&&(c=c.split("|"),1<c.length&&0<=c[0].indexOf("v1")&&(i=c[1],r=i.indexOf("["),0<=r&&(i=i.substring(0,r)),i&&i.match(/^[0-9a-fA-F\-]+$/)&&n.d(p,i)))}},n.M=function(){var e,t,i=n.B();for(e in n.a)!Object.prototype[e]&&n.a[e]&&"expire"!=e.substring(0,6)&&(t=n.a[e],i+=(i?"|":"")+e+(n.a["expire"+e]?"-"+n.a["expire"+e]:"")+"|"+t);n.cookieWrite(n.cookieName,i,1)},n.b=function(e,t){return n.a==a||!t&&n.c&&n.c[e]?a:n.a[e]},n.d=function(e,t,i){n.a==a&&(n.a={}),n.a[e]=t,i||n.M()},n.p=function(e,t){var i=new Date;i.setTime(i.getTime()+1e3*t),n.a==a&&(n.a={}),n.a["expire"+e]=Math.floor(i.getTime()/1e3),0>t&&(n.c||(n.c={}),n.c[e]=s)},n.A=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&(e=e.toUpperCase(),"NOTARGET"==e&&(e=y)),!e||e!=y&&!e.match(/^[0-9a-fA-F\-]+$/))&&(e=""),e},n.i=function(e,t){if(n.H(e),n.g!=a&&(n.g[e]=l),e==c){var i=n.b(u);if(!i){if(i="object"==typeof t&&t.mid?t.mid:n.A(t),!i){if(n.r)return void n.getAnalyticsVisitorID(null,!1,!0);i=n.m()}n.d(u,i)}i&&i!=y||(i=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&n.i(g,t),n.r&&t.mid&&n.i(h,{id:t.id})),n.l(u,[i])}if(e==g&&"object"==typeof t){i=604800,void 0!=t.id_sync_ttl&&t.id_sync_ttl&&(i=parseInt(t.id_sync_ttl));var r=n.b(m);r||((r=t.d_region)||(r=t.dcs_region),r&&(n.p(m,i),n.d(m,r))),r||(r=""),n.l(m,[r]),r=n.b(v),(t.d_blob||t.blob)&&((r=t.d_blob)||(r=t.blob),n.p(v,i),n.d(v,r)),r||(r=""),n.l(v,[r]),!t.error_msg&&n.o&&n.d(d,n.o)}e==h&&(i=n.b(p),i||((i=n.A(t))?n.p(v,-1):i=y,n.d(p,i)),i&&i!=y||(i=""),n.l(p,[i]))},n.g=a,n.n=function(e,t,i,r){var o,l="";return n.isAllowed()&&(n.h(),l=n.b(e),!l&&(e==u?o=c:e==m||e==v?o=g:e==p&&(o=h),o))?(!t||n.g!=a&&n.g[o]||(n.g==a&&(n.g={}),n.g[o]=s,n.J(o,t,function(){if(!n.b(e)){var t="";e==u&&(t=n.m()),n.i(o,t)}})),n.L(e,i),t||n.i(o,{id:y}),""):(e!=u&&e!=p||l!=y||(l="",r=s),i&&r&&n.w(i,[l]),l)},n._setMarketingCloudFields=function(e){n.h(),n.i(c,e)},n.setMarketingCloudVisitorID=function(e){n._setMarketingCloudFields(e)},n.r=l,n.getMarketingCloudVisitorID=function(e,t){return n.isAllowed()?(n.marketingCloudServer&&0>n.marketingCloudServer.indexOf(".demdex.net")&&(n.r=s),n.n(u,n.s("_setMarketingCloudFields"),e,t)):""},n.K=function(){n.getAudienceManagerBlob()},n.f={},n.z=l,n.o="",n.setCustomerIDs=function(e){if(n.f=e,n.isAllowed()){n.h();var t,i,e=n.b(d),r="";e||(e=0);for(t in n.f)i=n.f[t],!Object.prototype[t]&&i&&(r+=(r?"|":"")+t+"|"+i);n.o=n.C(r),n.o!=e&&(n.z=s,n.K())}},n.getCustomerIDs=function(){return n.f},n._setAnalyticsFields=function(e){n.h(),n.i(h,e)},n.setAnalyticsVisitorID=function(e){n._setAnalyticsFields(e)},n.getAnalyticsVisitorID=function(e,t,i){if(n.isAllowed()){var r="";if(i||(r=n.getMarketingCloudVisitorID(function(){n.getAnalyticsVisitorID(e,s)})),r||i){var o=i?n.marketingCloudServer:n.trackingServer,a="";return n.loadSSL&&(i?n.marketingCloudServerSecure&&(o=n.marketingCloudServerSecure):n.trackingServerSecure&&(o=n.trackingServerSecure)),o&&(a="http"+(n.loadSSL?"s":"")+"://"+o+"/id?callback=s_c_il%5B"+n._in+"%5D._set"+(i?"MarketingCloud":"Analytics")+"Fields&mcorgid="+encodeURIComponent(n.marketingCloudOrgID)+(r?"&mid="+r:"")),n.n(i?u:p,a,e,t)}}return""},n._setAudienceManagerFields=function(e){n.h(),n.i(g,e)},n.s=function(e){var t,i,r=n.audienceManagerServer,o="",a=n.b(u),l=n.b(v,s),c=n.b(p),c=c&&c!=y?"&d_cid_ic=AVID%01"+encodeURIComponent(c):"",d="";if(n.loadSSL&&n.audienceManagerServerSecure&&(r=n.audienceManagerServerSecure),r){if(n.f)for(t in n.f)!Object.prototype[t]&&(o=n.f[t])&&(c+="&d_cid_ic="+encodeURIComponent(t)+"%01"+encodeURIComponent(o),n.audienceManagerCustomerIDDPIDs&&(i=n.audienceManagerCustomerIDDPIDs[t])&&(d+="&d_cid="+i+"%01"+encodeURIComponent(o)));e||(e="_setAudienceManagerFields"),o="http"+(n.loadSSL?"s":"")+"://"+r+"/id?d_rtbd=json&d_ver=2"+(!a&&n.r?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(n.marketingCloudOrgID)+(a?"&d_mid="+a:"")+(l?"&d_blob="+encodeURIComponent(l):"")+c+d+"&d_cb=s_c_il%5B"+n._in+"%5D."+e}return o},n.getAudienceManagerLocationHint=function(e,t){if(n.isAllowed()&&n.getMarketingCloudVisitorID(function(){n.getAudienceManagerLocationHint(e,s)})){var i=n.b(p);if(i||(i=n.getAnalyticsVisitorID(function(){n.getAudienceManagerLocationHint(e,s)})),i)return n.n(m,n.s(),e,t)}return""},n.getAudienceManagerBlob=function(e,t){if(n.isAllowed()&&n.getMarketingCloudVisitorID(function(){n.getAudienceManagerBlob(e,s)})){var i=n.b(p);if(i||(i=n.getAnalyticsVisitorID(function(){n.getAudienceManagerBlob(e,s)})),i)return i=n.s(),n.z&&n.p(v,-1),n.n(v,i,e,t)}return""},r.AUTH_STATE_UNAUTHENTICATED=0,r.AUTH_STATE_AUTHENTICATED=1,r.AUTH_STATE_ASSUMED_AUTHENTICATED=2,r.AUTH_STATE_LOGGEDOUT=3,n.setAuthState=function(e){n.isAllowed()&&(n.h(),n.d(f,e))},n.getAuthState=function(){return n.isAllowed()?(n.h(),n.b(f)):0},n.k="",n.q={},n.u="",n.v={},n.getSupplementalDataID=function(e,t){!n.k&&!t&&(n.k=n.m(1));var i=n.k;return n.u&&!n.v[e]?(i=n.u,n.v[e]=s):i&&(n.q[e]&&(n.u=n.k,n.v=n.q,n.k=i=t?"":n.m(1),n.q={}),i&&(n.q[e]=s)),i},0>e.indexOf("@")&&(e+="@AdobeOrg"),n.marketingCloudOrgID=e,n.namespace=t,n.cookieName="AMCV_"+e,n.cookieDomain=n.I(),n.cookieDomain==i.location.hostname&&(n.cookieDomain=""),t){var r="AMCV_"+t,b=n.cookieRead(n.cookieName),w=n.cookieRead(r);!b&&w&&(n.cookieWrite(n.cookieName,w,1),n.cookieWrite(r,"",-60))}n.loadSSL=0<=i.location.protocol.toLowerCase().indexOf("https"),n.loadTimeout=500,n.marketingCloudServer=n.audienceManagerServer="dpm.demdex.net"}function AppMeasurement(){var e=this;e.version="1.4.1";var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e._c="s_c";var n=t.sb;n||(n=null);var i,r,o=t;try{for(i=o.parent,r=o.location;i&&i.location&&r&&""+i.location!=""+r&&o.location&&""+i.location!=""+o.location&&i.location.host==r.host;)o=i,i=o.parent}catch(a){}e.eb=function(e){try{console.log(e)}catch(t){}},e.ta=function(e){return""+parseInt(e)==""+e},e.replace=function(e,t,n){return!e||e.indexOf(t)<0?e:e.split(t).join(n)},e.escape=function(t){var n,i;if(!t)return t;for(t=encodeURIComponent(t),n=0;n<7;n++)i="+~!*()'".substring(n,n+1),t.indexOf(i)>=0&&(t=e.replace(t,i,"%"+i.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=t.indexOf("+")>=0?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(n){}return unescape(t)},e.Va=function(){var n,i=t.location.hostname,r=e.fpCookieDomainPeriods;if(r||(r=e.cookieDomainPeriods),i&&!e.cookieDomain&&!/^[0-9.]+$/.test(i)&&(r=r?parseInt(r):2,r=r>2?r:2,n=i.lastIndexOf("."),n>=0)){for(;n>=0&&r>1;)n=i.lastIndexOf(".",n-1),r--;e.cookieDomain=n>0?i.substring(n):i}return e.cookieDomain},e.c_r=e.cookieRead=function(t){t=e.escape(t);var n=" "+e.d.cookie,i=n.indexOf(" "+t+"="),r=i<0?i:n.indexOf(";",i);return t=i<0?"":e.unescape(n.substring(i+2+t.length,r<0?n.length:r)),"[[B]]"!=t?t:""},e.c_w=e.cookieWrite=function(t,n,i){var r,o=e.Va(),a=e.cookieLifetime;return n=""+n,a=a?(""+a).toUpperCase():"",i&&"SESSION"!=a&&"NONE"!=a&&((r=""!=n?parseInt(a?a:0):-60)?(i=new Date,i.setTime(i.getTime()+1e3*r)):1==i&&(i=new Date,r=i.getYear(),i.setYear(r+5+(r<1900?1900:0)))),t&&"NONE"!=a?(e.d.cookie=t+"="+e.escape(""!=n?n:"[[B]]")+"; path=/;"+(i&&"SESSION"!=a?" expires="+i.toGMTString()+";":"")+(o?" domain="+o+";":""),e.cookieRead(t)==n):0},e.C=[],e.B=function(t,n,i){if(e.ma)return 0;e.maxDelay||(e.maxDelay=250);var r=0,o=(new Date).getTime()+e.maxDelay,a=e.d.qb,s=["webkitvisibilitychange","visibilitychange"];if(a||(a=e.d.rb),a&&"prerender"==a){if(!e.X)for(e.X=1,i=0;i<s.length;i++)e.d.addEventListener(s[i],function(){var t=e.d.qb;t||(t=e.d.rb),"visible"==t&&(e.X=0,e.delayReady())});r=1,o=0}else i||e.q("_d")&&(r=1);return r&&(e.C.push({m:t,a:n,t:o}),e.X||setTimeout(e.delayReady,e.maxDelay)),r},e.delayReady=function(){var t,n=(new Date).getTime(),i=0;for(e.q("_d")&&(i=1);e.C.length>0;){if(t=e.C.shift(),i&&!t.t&&t.t>n){e.C.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.ma=1,e[t.m].apply(e,t.a),e.ma=0}},e.setAccount=e.sa=function(t){var n,i;if(!e.B("setAccount",arguments))if(e.account=t,e.allAccounts)for(n=e.allAccounts.concat(t.split(",")),e.allAccounts=[],n.sort(),i=0;i<n.length;i++)(0==i||n[i-1]!=n[i])&&e.allAccounts.push(n[i]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,n){var i,r,o,a,s="";for(o=r="",e.lightProfileID?(i=e.H,(s=e.lightTrackVars)&&(s=","+s+","+e.ba.join(",")+",")):(i=e.c,(e.pe||e.linkType)&&(s=e.linkTrackVars,r=e.linkTrackEvents,e.pe&&(o=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[o])&&(s=e[o].pb,r=e[o].ob)),s&&(s=","+s+","+e.z.join(",")+","),r&&s&&(s+=",events,")),n&&(n=","+n+","),r=0;r<i.length;r++)o=i[r],(a=e[o])&&(!s||s.indexOf(","+o+",")>=0)&&(!n||n.indexOf(","+o+",")>=0)&&t(o,a)},e.J=function(t,n,i,r,o){var a,s,l,c,u="",d=0;if("contextData"==t&&(t="c"),n){for(a in n)if(!Object.prototype[a]&&(!o||a.substring(0,o.length)==o)&&n[a]&&(!i||i.indexOf(","+(r?r+".":"")+a+",")>=0)){if(l=!1,d)for(s=0;s<d.length;s++)a.substring(0,d[s].length)==d[s]&&(l=!0);if(!l&&(""==u&&(u+="&"+t+"."),s=n[a],o&&(a=a.substring(o.length)),a.length>0))if(l=a.indexOf("."),l>0)s=a.substring(0,l),l=(o?o:"")+s+".",d||(d=[]),d.push(l),u+=e.J(s,n,i,r,l);else if("boolean"==typeof s&&(s=s?"true":"false"),s){if("retrieveLightData"==r&&o.indexOf(".contextData.")<0)switch(l=a.substring(0,4),c=a.substring(4),a){case"transactionID":a="xact";break;case"channel":a="ch";break;case"campaign":a="v0";break;default:e.ta(c)&&("prop"==l?a="c"+c:"eVar"==l?a="v"+c:"list"==l?a="l"+c:"hier"==l&&(a="h"+c,s=s.substring(0,255)))}u+="&"+e.escape(a)+"="+e.escape(s)}}""!=u&&(u+="&."+t)}return u},e.Xa=function(){var t,n,i,r,o,a,s,l,c="",u="",d="",f=n="";for(e.lightProfileID?(t=e.H,(u=e.lightTrackVars)&&(u=","+u+","+e.ba.join(",")+",")):(t=e.c,(e.pe||e.linkType)&&(u=e.linkTrackVars,d=e.linkTrackEvents,e.pe&&(n=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[n])&&(u=e[n].pb,d=e[n].ob)),u&&(u=","+u+","+e.z.join(",")+","),d&&(d=","+d+",",u&&(u+=",events,")),e.events2&&(f+=(""!=f?",":"")+e.events2)),e.AudienceManagement&&e.AudienceManagement.isReady()&&(c+=e.J("d",e.AudienceManagement.getEventCallConfigParams())),n=0;n<t.length;n++){if(r=t[n],o=e[r],i=r.substring(0,4),a=r.substring(4),!o&&"events"==r&&f&&(o=f,f=""),o&&(!u||u.indexOf(","+r+",")>=0)){switch(r){case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"authState":r="as";break;case"pageURL":r="g",o.length>255&&(e.pageURLRest=o.substring(255),o=o.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",e.ssl&&e.visitorMigrationServerSecure&&(o="");break;case"visitorMigrationServerSecure":r="vmf",!e.ssl&&e.visitorMigrationServer&&(o="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"latitude":r="lat";break;case"longitude":r="lon";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"events":if(f&&(o+=(""!=o?",":"")+f),d)for(a=o.split(","),o="",i=0;i<a.length;i++)s=a[i],l=s.indexOf("="),l>=0&&(s=s.substring(0,l)),l=s.indexOf(":"),l>=0&&(s=s.substring(0,l)),d.indexOf(","+s+",")>=0&&(o+=(o?",":"")+a[i]);break;case"events2":o="";break;case"contextData":c+=e.J("c",e[r],u,r),o="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",e.lightProfileID||(o="");break;case"lightIncrementBy":r="mti",e.lightProfileID||(o="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(c+=e.J("mts",e[r],u,r)),o="";break;default:e.ta(a)&&("prop"==i?r="c"+a:"eVar"==i?r="v"+a:"list"==i?r="l"+a:"hier"==i&&(r="h"+a,o=o.substring(0,255)))}o&&(c+="&"+r+"="+("pev"!=r.substring(0,3)?e.escape(o):o))}"pev3"==r&&e.g&&(c+=e.g)}return c},e.u=function(e){var t=e.tagName;return""+e.wb!="undefined"||""+e.ib!="undefined"&&"HTML"!=(""+e.ib).toUpperCase()?"":(t=t&&t.toUpperCase?t.toUpperCase():"","SHAPE"==t&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},e.oa=function(e){var t,n,i,r=e.href?e.href:"";return t=r.indexOf(":"),n=r.indexOf("?"),i=r.indexOf("/"),r&&(t<0||n>=0&&t>n||i>=0&&t>i)&&(n=e.protocol&&e.protocol.length>1?e.protocol:l.protocol?l.protocol:"",t=l.pathname.lastIndexOf("/"),r=(n?n+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,t<0?0:t)+"/":"")+r),r},e.D=function(t){var n,i,r=e.u(t),o="",a=0;return r&&(n=t.protocol,i=t.onclick,!t.href||"A"!=r&&"AREA"!=r||i&&n&&!(n.toLowerCase().indexOf("javascript")<0)?i?(o=e.replace(e.replace(e.replace(e.replace(""+i,"\r",""),"\n",""),"\t","")," ",""),a=2):"INPUT"==r||"SUBMIT"==r?(t.value?o=t.value:t.innerText?o=t.innerText:t.textContent&&(o=t.textContent),a=3):t.src&&"IMAGE"==r&&(o=t.src):o=e.oa(t),o)?{id:o.substring(0,100),type:a}:0},e.tb=function(t){for(var n=e.u(t),i=e.D(t);t&&!i&&"BODY"!=n;)(t=t.parentElement?t.parentElement:t.parentNode)&&(n=e.u(t),i=e.D(t));return i&&"BODY"!=n||(t=0),t&&(n=t.onclick?""+t.onclick:"",n.indexOf(".tl(")>=0||n.indexOf(".trackLink(")>=0)&&(t=0),t},e.hb=function(){var n,i,r,o,a=e.linkObject,s=e.linkType,l=e.linkURL;if(e.ca=1,a||(e.ca=0,a=e.clickObject),a){for(n=e.u(a),i=e.D(a);a&&!i&&"BODY"!=n;)(a=a.parentElement?a.parentElement:a.parentNode)&&(n=e.u(a),i=e.D(a));if(i&&"BODY"!=n||(a=0),a){var c=a.onclick?""+a.onclick:"";(c.indexOf(".tl(")>=0||c.indexOf(".trackLink(")>=0)&&(a=0)}}else e.ca=1;if(!l&&a&&(l=e.oa(a)),l&&!e.linkLeaveQueryString&&(r=l.indexOf("?"),r>=0&&(l=l.substring(0,r))),!s&&l){var u,d=0,f=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(c=l.toLowerCase(),r=c.indexOf("?"),o=c.indexOf("#"),r>=0?o>=0&&o<r&&(r=o):r=o,r>=0&&(c=c.substring(0,r)),r=e.linkDownloadFileTypes.toLowerCase().split(","),o=0;o<r.length;o++)(u=r[o])&&c.substring(c.length-(u.length+1))=="."+u&&(s="d");if(e.trackExternalLinks&&!s&&(c=l.toLowerCase(),e.ra(c))&&(e.linkInternalFilters||(e.linkInternalFilters=t.location.hostname),r=0,e.linkExternalFilters?(r=e.linkExternalFilters.toLowerCase().split(","),d=1):e.linkInternalFilters&&(r=e.linkInternalFilters.toLowerCase().split(",")),r)){for(o=0;o<r.length;o++)u=r[o],c.indexOf(u)>=0&&(f=1);f?d&&(s="e"):d||(s="e")}}e.linkObject=a,e.linkURL=l,e.linkType=s,(e.trackClickMap||e.trackInlineStats)&&(e.g="",a&&(s=e.pageName,l=1,a=a.sourceIndex,s||(s=e.pageURL,l=0),t.s_objectID&&(i.id=t.s_objectID,a=i.type=1),s&&i&&i.id&&n&&(e.g="&pid="+e.escape(s.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(i.id.substring(0,100))+(i.type?"&oidt="+i.type:"")+"&ot="+n+(a?"&oi="+a:""))))},e.Ya=function(){var t=e.ca,n=e.linkType,i=e.linkURL,r=e.linkName;if(n&&(i||r)&&(n=n.toLowerCase(),"d"!=n&&"e"!=n&&(n="o"),e.pe="lnk_"+n,e.pev1=i?e.escape(i):"",e.pev2=r?e.escape(r):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats){n={},i=0;var o,a,s,l=e.cookieRead("s_sq"),c=l?l.split("&"):0;if(l=0,c)for(o=0;o<c.length;o++)a=c[o].split("="),r=e.unescape(a[0]).split(","),a=e.unescape(a[1]),n[a]=r;if(r=e.account.split(","),t||e.g){t&&!e.g&&(l=1);for(a in n)if(!Object.prototype[a])for(o=0;o<r.length;o++)for(l&&(s=n[a].join(","),s==e.account&&(e.g+=("&"!=a.charAt(0)?"&":"")+a,n[a]=[],i=1)),c=0;c<n[a].length;c++)s=n[a][c],s==r[o]&&(l&&(e.g+="&u="+e.escape(s)+("&"!=a.charAt(0)?"&":"")+a+"&u=0"),n[a].splice(c,1),i=1);if(t||(i=1),i){l="",o=2,!t&&e.g&&(l=e.escape(r.join(","))+"="+e.escape(e.g),o=1);for(a in n)!Object.prototype[a]&&o>0&&n[a].length>0&&(l+=(l?"&":"")+e.escape(n[a].join(","))+"="+e.escape(a),o--);e.cookieWrite("s_sq",l)}}}return t},e.Za=function(){if(!e.nb){var t,n,i=new Date,r=o.location,a=n=t="",s="",l="",c="1.2",u=e.cookieWrite("s_cc","true",0)?"Y":"N",d="",f="";if(i.setUTCDate&&(c="1.3",(0).toPrecision&&(c="1.5",i=[],i.forEach))){c="1.6",n=0,t={};try{n=new Iterator(t),n.next&&(c="1.7",i.reduce&&(c="1.8",c.trim&&(c="1.8.1",Date.parse&&(c="1.8.2",Object.create&&(c="1.8.5")))))}catch(h){}}t=screen.width+"x"+screen.height,a=navigator.javaEnabled()?"Y":"N",n=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,s=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,l=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight;try{e.b.addBehavior("#default#homePage"),d=e.b.ub(r)?"Y":"N"}catch(p){}try{e.b.addBehavior("#default#clientCaps"),f=e.b.connectionType}catch(g){}e.resolution=t,e.colorDepth=n,e.javascriptVersion=c,e.javaEnabled=a,e.cookiesEnabled=u,e.browserWidth=s,e.browserHeight=l,e.connectionType=f,e.homepage=d,e.nb=1}},e.I={},e.loadModule=function(n,i){var r=e.I[n];if(!r){r=t["AppMeasurement_Module_"+n]?new t["AppMeasurement_Module_"+n](e):{},e.I[n]=e[n]=r,r.Fa=function(){return r.Ja},r.Ka=function(t){(r.Ja=t)&&(e[n+"_onLoad"]=t,e.B(n+"_onLoad",[e,r],1)||t(e,r))};try{Object.defineProperty?Object.defineProperty(r,"onLoad",{get:r.Fa,set:r.Ka}):r._olc=1}catch(o){
r._olc=1}}i&&(e[n+"_onLoad"]=i,e.B(n+"_onLoad",[e,r],1)||i(e,r))},e.q=function(t){var n,i;for(n in e.I)if(!Object.prototype[n]&&(i=e.I[n])&&(i._olc&&i.onLoad&&(i._olc=0,i.onLoad(e,i)),i[t]&&i[t]()))return 1;return 0},e.bb=function(){var t=Math.floor(1e13*Math.random()),n=e.visitorSampling,i=e.visitorSamplingGroup;i="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(i?"_"+i:"");var r=e.cookieRead(i);if(n){if(r&&(r=parseInt(r)),!r){if(!e.cookieWrite(i,t))return 0;r=t}if(r%1e4>v)return 0}return 1},e.K=function(t,n){var i,r,o,a,s,l;for(i=0;i<2;i++)for(r=i>0?e.ia:e.c,o=0;o<r.length;o++)if(a=r[o],(s=t[a])||t["!"+a]){if(!n&&("contextData"==a||"retrieveLightData"==a)&&e[a])for(l in e[a])s[l]||(s[l]=e[a][l]);e[a]=s}},e.Aa=function(t,n){var i,r,o,a;for(i=0;i<2;i++)for(r=i>0?e.ia:e.c,o=0;o<r.length;o++)a=r[o],t[a]=e[a],!n&&!t[a]&&(t["!"+a]=1)},e.Ua=function(e){var t,n,i,r,o,a,s=0,l="",c="";if(e&&e.length>255&&(t=""+e,n=t.indexOf("?"),n>0&&(a=t.substring(n+1),t=t.substring(0,n),r=t.toLowerCase(),i=0,"http://"==r.substring(0,7)?i+=7:"https://"==r.substring(0,8)&&(i+=8),n=r.indexOf("/",i),n>0&&(r=r.substring(i,n),o=t.substring(n),t=t.substring(0,n),r.indexOf("google")>=0?s=",q,ie,start,search_key,word,kw,cd,":r.indexOf("yahoo.co")>=0&&(s=",p,ei,"),s&&a)))){if((e=a.split("&"))&&e.length>1){for(i=0;i<e.length;i++)r=e[i],n=r.indexOf("="),n>0&&s.indexOf(","+r.substring(0,n)+",")>=0?l+=(l?"&":"")+r:c+=(c?"&":"")+r;l&&c?a=l+"&"+c:c=""}n=253-(a.length-c.length)-t.length,e=t+(n>0?o.substring(0,n):"")+"?"+a}return e},e.U=!1,e.O=!1,e.Ia=function(t){e.marketingCloudVisitorID=t,e.O=!0,e.k()},e.R=!1,e.L=!1,e.Ca=function(t){e.analyticsVisitorID=t,e.L=!0,e.k()},e.T=!1,e.N=!1,e.Ea=function(t){e.audienceManagerLocationHint=t,e.N=!0,e.k()},e.S=!1,e.M=!1,e.Da=function(t){e.audienceManagerBlob=t,e.M=!0,e.k()},e.isReadyToTrack=function(){var t=!0,n=e.visitor;return n&&n.isAllowed()&&(!e.U&&!e.marketingCloudVisitorID&&n.getMarketingCloudVisitorID&&(e.U=!0,e.marketingCloudVisitorID=n.getMarketingCloudVisitorID([e,e.Ia]),e.marketingCloudVisitorID)&&(e.O=!0),!e.R&&!e.analyticsVisitorID&&n.getAnalyticsVisitorID&&(e.R=!0,e.analyticsVisitorID=n.getAnalyticsVisitorID([e,e.Ca]),e.analyticsVisitorID)&&(e.L=!0),!e.T&&!e.audienceManagerLocationHint&&n.getAudienceManagerLocationHint&&(e.T=!0,e.audienceManagerLocationHint=n.getAudienceManagerLocationHint([e,e.Ea]),e.audienceManagerLocationHint)&&(e.N=!0),!e.S&&!e.audienceManagerBlob&&n.getAudienceManagerBlob&&(e.S=!0,e.audienceManagerBlob=n.getAudienceManagerBlob([e,e.Da]),e.audienceManagerBlob)&&(e.M=!0),(e.U&&!e.O&&!e.marketingCloudVisitorID||e.R&&!e.L&&!e.analyticsVisitorID||e.T&&!e.N&&!e.audienceManagerLocationHint||e.S&&!e.M&&!e.audienceManagerBlob)&&(t=!1)),t},e.j=n,e.l=0,e.callbackWhenReadyToTrack=function(t,i,r){var o;o={},o.Oa=t,o.Na=i,o.La=r,e.j==n&&(e.j=[]),e.j.push(o),0==e.l&&(e.l=setInterval(e.k,100))},e.k=function(){var t;if(e.isReadyToTrack()&&(e.l&&(clearInterval(e.l),e.l=0),e.j!=n))for(;e.j.length>0;)t=e.j.shift(),t.Na.apply(t.Oa,t.La)},e.Ga=function(t){var i,r,o=n,a=n;if(!e.isReadyToTrack()){if(i=[],t!=n)for(r in o={},t)o[r]=t[r];return a={},e.Aa(a,!0),i.push(o),i.push(a),e.callbackWhenReadyToTrack(e,e.track,i),!0}return!1},e.Wa=function(){var t,n=e.cookieRead("s_fid"),i="",r="";t=8;var o=4;if(!n||n.indexOf("-")<0){for(n=0;n<16;n++)t=Math.floor(Math.random()*t),i+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*o),r+="0123456789ABCDEF".substring(t,t+1),t=o=16;n=i+"-"+r}return e.cookieWrite("s_fid",n,1)||(n=0),n},e.t=e.track=function(n,i){var r,a=new Date,s="s"+Math.floor(a.getTime()/108e5)%10+Math.floor(1e13*Math.random()),l=a.getYear();l="t="+e.escape(a.getDate()+"/"+a.getMonth()+"/"+(l<1900?l+1900:l)+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+" "+a.getDay()+" "+a.getTimezoneOffset()),e.visitor&&(e.visitor.getAuthState&&(e.authState=e.visitor.getAuthState()),!e.supplementalDataID&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,!e.expectSupplementalData))),e.q("_s"),e.B("track",arguments)||(e.Ga(n)||(i&&e.K(i),n&&(r={},e.Aa(r,0),e.K(n)),e.bb()&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.Wa()),e.hb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(a.getTime()/1e3)),a=t.location,e.pageURL||(e.pageURL=a.href?a.href:a),e.referrer||e.Ba||(e.referrer=o.document.referrer,e.Ba=1),e.referrer=e.Ua(e.referrer),e.q("_g")),e.Ya()&&!e.abort&&(e.Za(),l+=e.Xa(),e.gb(s,l),e.q("_t"),e.referrer=""))),n&&e.K(r,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.clickObject=e.linkURL=e.linkName=e.linkType=t.vb=e.pe=e.pev1=e.pev2=e.pev3=e.g=0)},e.tl=e.trackLink=function(t,n,i,r,o){return e.linkObject=t,e.linkType=n,e.linkName=i,o&&(e.i=t,e.p=o),e.track(r)},e.trackLight=function(t,n,i,r){return e.lightProfileID=t,e.lightStoreForSeconds=n,e.lightIncrementBy=i,e.track(r)},e.clearVars=function(){var t,n;for(t=0;t<e.c.length;t++)n=e.c[t],("prop"==n.substring(0,4)||"eVar"==n.substring(0,4)||"hier"==n.substring(0,4)||"list"==n.substring(0,4)||"channel"==n||"events"==n||"eventList"==n||"products"==n||"productList"==n||"purchaseID"==n||"transactionID"==n||"state"==n||"zip"==n||"campaign"==n)&&(e[n]=void 0)},e.tagContainerMarker="",e.gb=function(t,n){var i,r=e.trackingServer;i="";var o=e.dc,a="sc.",s=e.visitorNamespace;r?e.trackingServerSecure&&e.ssl&&(r=e.trackingServerSecure):(s||(s=e.account,r=s.indexOf(","),r>=0&&(s=s.substring(0,r)),s=s.replace(/[^A-Za-z0-9]/g,"")),i||(i="2o7.net"),o=o?(""+o).toLowerCase():"d1","2o7.net"==i&&("d1"==o?o="112":"d2"==o&&(o="122"),a=""),r=s+"."+o+"."+a+i),i=e.ssl?"https://":"http://",o=e.AudienceManagement&&e.AudienceManagement.isReady(),i+=r+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(o?"10":"1")+"/JS-"+e.version+(e.mb?"T":"")+(e.tagContainerMarker?"-"+e.tagContainerMarker:"")+"/"+t+"?AQB=1&ndh=1&pf=1&"+(o?"callback=s_c_il["+e._in+"].AudienceManagement.passData&":"")+n+"&AQE=1",e.Sa(i),e.Y()},e.Sa=function(t){e.e||e.$a(),e.e.push(t),e.aa=e.r(),e.za()},e.$a=function(){e.e=e.cb(),e.e||(e.e=[])},e.cb=function(){var n,i;if(e.fa()){try{(i=t.localStorage.getItem(e.da()))&&(n=t.JSON.parse(i))}catch(r){}return n}},e.fa=function(){var n=!0;return e.trackOffline&&e.offlineFilename&&t.localStorage&&t.JSON||(n=!1),n},e.pa=function(){var t=0;return e.e&&(t=e.e.length),e.v&&t++,t},e.Y=function(){if(!e.v)if(e.qa=n,e.ea)e.aa>e.G&&e.xa(e.e),e.ha(500);else{var t=e.Ma();t>0?e.ha(t):(t=e.na())&&(e.v=1,e.fb(t),e.jb(t))}},e.ha=function(t){e.qa||(t||(t=0),e.qa=setTimeout(e.Y,t))},e.Ma=function(){var t;return!e.trackOffline||e.offlineThrottleDelay<=0?0:(t=e.r()-e.wa,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.na=function(){if(e.e.length>0)return e.e.shift()},e.fb=function(t){if(e.debugTracking){var n="AppMeasurement Debug: "+t;t=t.split("&");var i;for(i=0;i<t.length;i++)n+="\n\t"+e.unescape(t[i]);e.eb(n)}},e.Ha=function(){return e.marketingCloudVisitorID||e.analyticsVisitorID},e.Q=!1;var s;try{s=JSON.parse('{"x":"y"}')}catch(c){s=null}s&&"y"==s.x?(e.Q=!0,e.P=function(e){return JSON.parse(e)}):t.$&&t.$.parseJSON?(e.P=function(e){return t.$.parseJSON(e)},e.Q=!0):e.P=function(){return null},e.jb=function(n){var i,r,o;if(e.Ha()&&n.length>2047&&("undefined"!=typeof XMLHttpRequest&&(i=new XMLHttpRequest,"withCredentials"in i?r=1:i=0),!i&&"undefined"!=typeof XDomainRequest&&(i=new XDomainRequest,r=2),i&&e.AudienceManagement&&e.AudienceManagement.isReady())&&(e.Q?i.ja=!0:i=0),!i&&e.ab&&(n=n.substring(0,2047)),!i&&e.d.createElement&&e.AudienceManagement&&e.AudienceManagement.isReady()&&(i=e.d.createElement("SCRIPT"))&&"async"in i&&((o=(o=e.d.getElementsByTagName("HEAD"))&&o[0]?o[0]:e.d.body)?(i.type="text/javascript",i.setAttribute("async","async"),r=3):i=0),i||(i=new Image,i.alt=""),i.la=function(){try{e.ga&&(clearTimeout(e.ga),e.ga=0),i.timeout&&(clearTimeout(i.timeout),i.timeout=0)}catch(t){}},i.onload=i.lb=function(){if(i.la(),e.Ra(),e.V(),e.v=0,e.Y(),i.ja){i.ja=!1;try{var t=e.P(i.responseText);AudienceManagement.passData(t)}catch(n){}}},i.onabort=i.onerror=i.Ta=function(){i.la(),(e.trackOffline||e.ea)&&e.v&&e.e.unshift(e.Qa),e.v=0,e.aa>e.G&&e.xa(e.e),e.V(),e.ha(500)},i.onreadystatechange=function(){4==i.readyState&&(200==i.status?i.lb():i.Ta())},e.wa=e.r(),1==r||2==r){var a=n.indexOf("?");o=n.substring(0,a),a=n.substring(a+1),a=a.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==r?(i.open("POST",o,!0),i.send(a)):2==r&&(i.open("POST",o),i.send(a))}else if(i.src=n,3==r){if(e.ua)try{o.removeChild(e.ua)}catch(s){}o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),e.ua=e.Pa}i.abort&&(e.ga=setTimeout(i.abort,5e3)),e.Qa=n,e.Pa=t["s_i_"+e.replace(e.account,",","_")]=i,(e.useForcedLinkTracking&&e.A||e.p)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.W=setTimeout(e.V,e.forcedLinkTrackingTimeout))},e.Ra=function(){if(e.fa()&&!(e.va>e.G))try{t.localStorage.removeItem(e.da()),e.va=e.r()}catch(n){}},e.xa=function(n){if(e.fa()){e.za();try{t.localStorage.setItem(e.da(),t.JSON.stringify(n)),e.G=e.r()}catch(i){}}},e.za=function(){if(e.trackOffline)for((!e.offlineLimit||e.offlineLimit<=0)&&(e.offlineLimit=10);e.e.length>e.offlineLimit;)e.na()},e.forceOffline=function(){e.ea=!0},e.forceOnline=function(){e.ea=!1},e.da=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.r=function(){return(new Date).getTime()},e.ra=function(e){return e=e.toLowerCase(),0!=e.indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},e.setTagContainer=function(t){var n,i,r;for(e.mb=t,n=0;n<e._il.length;n++)if((i=e._il[n])&&"s_l"==i._c&&i.tagContainerName==t){if(e.K(i),i.lmq)for(n=0;n<i.lmq.length;n++)r=i.lmq[n],e.loadModule(r.n);if(i.ml)for(r in i.ml)if(e[r])for(n in t=e[r],r=i.ml[r])!Object.prototype[n]&&("function"!=typeof r[n]||(""+r[n]).indexOf("s_c_il")<0)&&(t[n]=r[n]);if(i.mmq)for(n=0;n<i.mmq.length;n++)r=i.mmq[n],e[r.m]&&(t=e[r.m],t[r.f]&&"function"==typeof t[r.f]&&(r.a?t[r.f].apply(t,r.a):t[r.f].apply(t)));if(i.tq)for(n=0;n<i.tq.length;n++)e.track(i.tq[n]);i.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(n,i,r){var o;return i||(i=e.pageURL?e.pageURL:t.location),r||(r="&"),n&&i&&(i=""+i,o=i.indexOf("?"),o>=0&&(i=r+i.substring(o+1)+r,o=i.indexOf(r+n+"="),o>=0&&(i=i.substring(o+r.length+n.length+1),o=i.indexOf(r),o>=0&&(i=i.substring(0,o)),i.length>0)))?e.unescape(i):""}},e.z=["supplementalDataID","timestamp","dynamicVariablePrefix","visitorID","marketingCloudVisitorID","analyticsVisitorID","audienceManagerLocationHint","authState","fid","vmk","visitorMigrationKey","visitorMigrationServer","visitorMigrationServerSecure","charSet","visitorNamespace","cookieDomainPeriods","fpCookieDomainPeriods","cookieLifetime","pageName","pageURL","referrer","contextData","currencyCode","lightProfileID","lightStoreForSeconds","lightIncrementBy","retrieveLightProfiles","deleteLightProfiles","retrieveLightData","pe","pev1","pev2","pev3","pageURLRest"],e.c=e.z.concat(["purchaseID","variableProvider","channel","server","pageType","transactionID","campaign","state","zip","events","events2","products","audienceManagerBlob","tnt"]),e.ba=["timestamp","charSet","visitorNamespace","cookieDomainPeriods","cookieLifetime","contextData","lightProfileID","lightStoreForSeconds","lightIncrementBy"],e.H=e.ba.slice(0),e.ia=["account","allAccounts","debugTracking","visitor","trackOffline","offlineLimit","offlineThrottleDelay","offlineFilename","usePlugins","doPlugins","configURL","visitorSampling","visitorSamplingGroup","linkObject","clickObject","linkURL","linkName","linkType","trackDownloadLinks","trackExternalLinks","trackClickMap","trackInlineStats","linkLeaveQueryString","linkTrackVars","linkTrackEvents","linkDownloadFileTypes","linkExternalFilters","linkInternalFilters","useForcedLinkTracking","forcedLinkTrackingTimeout","trackingServer","trackingServerSecure","ssl","abort","mobile","dc","lightTrackVars","maxDelay","expectSupplementalData","AudienceManagement"];for(i=0;i<=250;i++)i<76&&(e.c.push("prop"+i),e.H.push("prop"+i)),e.c.push("eVar"+i),e.H.push("eVar"+i),i<6&&e.c.push("hier"+i),i<4&&e.c.push("list"+i);i=["latitude","longitude","resolution","colorDepth","javascriptVersion","javaEnabled","cookiesEnabled","browserWidth","browserHeight","connectionType","homepage"],e.c=e.c.concat(i),e.z=e.z.concat(i),e.ssl=t.location.protocol.toLowerCase().indexOf("https")>=0,e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.wa=0,e.aa=0,e.G=0,e.va=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=t,e.d=t.document;try{e.ab="Microsoft Internet Explorer"==navigator.appName}catch(u){}e.V=function(){e.W&&(t.clearTimeout(e.W),e.W=n),e.i&&e.A&&e.i.dispatchEvent(e.A),e.p&&("function"==typeof e.p?e.p():e.i&&e.i.href&&(e.d.location=e.i.href)),e.i=e.A=e.p=0},e.ya=function(){e.b=e.d.body,e.b?(e.o=function(n){var i,r,o,a,s;if(!(e.d&&e.d.getElementById("cppXYctnr")||n&&n["s_fe_"+e._in])){if(e.ka){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.o,!0),void(e.ka=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.o,!1)}else e.useForcedLinkTracking=0;e.clickObject=n.srcElement?n.srcElement:n.target;try{if(!e.clickObject||e.F&&e.F==e.clickObject||!(e.clickObject.tagName||e.clickObject.parentElement||e.clickObject.parentNode))e.clickObject=0;else{var l=e.F=e.clickObject;if(e.Z&&(clearTimeout(e.Z),e.Z=0),e.Z=setTimeout(function(){e.F==l&&(e.F=0)},1e4),o=e.pa(),e.track(),o<e.pa()&&e.useForcedLinkTracking&&n.target){for(a=n.target;a&&a!=e.b&&"A"!=a.tagName.toUpperCase()&&"AREA"!=a.tagName.toUpperCase();)a=a.parentNode;if(a&&(s=a.href,e.ra(s)||(s=0),r=a.target,n.target.dispatchEvent&&s&&(!r||"_self"==r||"_top"==r||"_parent"==r||t.name&&r==t.name))){try{i=e.d.createEvent("MouseEvents")}catch(c){i=new t.MouseEvent}if(i){try{i.initMouseEvent("click",n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}catch(u){i=0}i&&(i["s_fe_"+e._in]=i.s_fe=1,n.stopPropagation(),n.kb&&n.kb(),n.preventDefault(),e.i=n.target,e.A=i)}}}}}catch(d){e.clickObject=0}}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.o):e.b&&e.b.addEventListener&&(navigator&&(navigator.userAgent.indexOf("WebKit")>=0&&e.d.createEvent||navigator.userAgent.indexOf("Firefox/2")>=0&&t.MouseEvent)&&(e.ka=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.o,!0)),e.b.addEventListener("click",e.o,!1))):setTimeout(e.ya,30)},e.ya()}function s_gi(e){var t,n,i,r,o,a=window.s_c_il,s=e.split(","),l=0;if(a)for(n=0;!l&&n<a.length;){if(t=a[n],"s_c"==t._c&&(t.account||t.oun))if(t.account&&t.account==e)l=1;else for(i=t.account?t.account:t.oun,i=t.allAccounts?t.allAccounts:i.split(","),r=0;r<s.length;r++)for(o=0;o<i.length;o++)s[r]==i[o]&&(l=1);n++}return l||(t=new AppMeasurement),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function s_pgicq(){var e,t,n,i=window,r=i.s_giq;if(r)for(e=0;e<r.length;e++)t=r[e],n=s_gi(t.oun),n.setAccount(t.un),n.setTagContainer(t.tagContainerName);i.s_giq=0}function toggleTrack(e){var t=$(e.target).closest("section");t.toggleClass("readless")}function removeFranklin(e){$(document).trigger("nym.refreshAdRepeat");var t=$(e.target).parent();"index"===t.attr("data-sort-by")?$(".shows-list").removeClass("franklin"):$(".shows-list").addClass("franklin")}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=oe.type(e);return"function"!==n&&!oe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ge.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return Z.call(t,e)>-1!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return oe.each(e.match(Se)||[],function(e,n){t[n]=!0}),t}function a(){X.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a),oe.ready()}function s(){this.expando=oe.expando+s.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Ee,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ae.test(n)?oe.parseJSON(n):n)}catch(r){}Le.set(e,t,n)}else n=void 0;return n}function c(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return oe.css(e,t,"")},l=s(),c=n&&n[3]||(oe.cssNumber[t]?"":"px"),u=(oe.cssNumber[t]||"px"!==c&&+l)&&De.exec(oe.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do o=o||".5",u/=o,oe.style(e,t,u+c);while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function u(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],n):n}function d(e,t){for(var n=0,i=e.length;i>n;n++)xe.set(e[n],"globalEval",!t||xe.get(t[n],"globalEval"))}function f(e,t,n,i,r){for(var o,a,s,l,c,f,h=t.createDocumentFragment(),p=[],g=0,m=e.length;m>g;g++)if(o=e[g],o||0===o)if("object"===oe.type(o))oe.merge(p,o.nodeType?[o]:o);else if(Fe.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(Oe.exec(o)||["",""])[1].toLowerCase(),l=Re[s]||Re._default,a.innerHTML=l[1]+oe.htmlPrefilter(o)+l[2],f=l[0];f--;)a=a.lastChild;oe.merge(p,a.childNodes),a=h.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(h.textContent="",g=0;o=p[g++];)if(i&&oe.inArray(o,i)>-1)r&&r.push(o);else if(c=oe.contains(o.ownerDocument,o),a=u(h.appendChild(o),"script"),c&&d(a),n)for(f=0;o=a[f++];)qe.test(o.type||"")&&n.push(o);return h}function h(){return!0}function p(){return!1}function g(){try{return X.activeElement}catch(e){}}function m(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)m(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=p;else if(!r)return e;return 1===o&&(a=r,r=function(e){return oe().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=oe.guid++)),e.each(function(){oe.event.add(this,t,r,i,n)})}function v(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=Ue.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(xe.hasData(e)&&(o=xe.access(e),a=xe.set(t,o),c=o.events)){delete a.handle,a.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)oe.event.add(t,r,c[r][n])}Le.hasData(e)&&(s=Le.access(e),l=oe.extend({},s),Le.set(t,l))}}function S(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ie.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function k(e,t,n,i){t=J.apply([],t);var r,o,a,s,l,c,d=0,h=e.length,p=h-1,g=t[0],m=oe.isFunction(g);if(m||h>1&&"string"==typeof g&&!ie.checkClone&&Ve.test(g))return e.each(function(r){var o=e.eq(r);m&&(t[0]=g.call(this,r,o.html())),k(o,t,n,i)});if(h&&(r=f(t,e[0].ownerDocument,!1,e,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=oe.map(u(r,"script"),y),s=a.length;h>d;d++)l=r,d!==p&&(l=oe.clone(l,!0,!0),s&&oe.merge(a,u(l,"script"))),n.call(e[d],l,d);if(s)for(c=a[a.length-1].ownerDocument,oe.map(a,b),d=0;s>d;d++)l=a[d],qe.test(l.type||"")&&!xe.access(l,"globalEval")&&oe.contains(c,l)&&(l.src?oe._evalUrl&&oe._evalUrl(l.src):oe.globalEval(l.textContent.replace(We,"")))}return e}function C(e,t,n){for(var i,r=t?oe.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||oe.cleanData(u(i)),i.parentNode&&(n&&oe.contains(i.ownerDocument,i)&&d(u(i,"script")),i.parentNode.removeChild(i));return e}function T(e,t){var n=oe(t.createElement(e)).appendTo(t.body),i=oe.css(n[0],"display");return n.detach(),i}function x(e){var t=X,n=ze[e];return n||(n=T(e,t),"none"!==n&&n||(Ye=(Ye||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ye[0].contentDocument,t.write(),t.close(),n=T(e,t),Ye.detach()),ze[e]=n),n}function L(e,t,n){var i,r,o,a,s=e.style;return n=n||Ke(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||oe.contains(e.ownerDocument,e)||(a=oe.style(e,t)),n&&!ie.pixelMarginRight()&&Xe.test(a)&&Ge.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),void 0!==a?a+"":a}function A(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function E(e){if(e in it)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if(e=nt[n]+t,e in it)return e}function M(e,t,n){var i=De.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function D(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=oe.css(e,n+Ne[o],!0,r)),i?("content"===n&&(a-=oe.css(e,"padding"+Ne[o],!0,r)),"margin"!==n&&(a-=oe.css(e,"border"+Ne[o]+"Width",!0,r))):(a+=oe.css(e,"padding"+Ne[o],!0,r),"padding"!==n&&(a+=oe.css(e,"border"+Ne[o]+"Width",!0,r)));return a}function N(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Ke(e),a="border-box"===oe.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=L(e,t,o),(0>r||null==r)&&(r=e.style[t]),Xe.test(r))return r;i=a&&(ie.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+D(e,t,n||(a?"border":"content"),i,o)+"px"}function _(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=xe.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&_e(i)&&(o[a]=xe.access(i,"olddisplay",x(i.nodeName)))):(r=_e(i),"none"===n&&r||xe.set(i,"olddisplay",r?n:oe.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function I(e,t,n,i,r){return new I.prototype.init(e,t,n,i,r)}function O(){return e.setTimeout(function(){rt=void 0}),rt=oe.now()}function q(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=Ne[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function R(e,t,n){for(var i,r=(B.tweeners[t]||[]).concat(B.tweeners["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function F(e,t,n){var i,r,o,a,s,l,c,u,d=this,f={},h=e.style,p=e.nodeType&&_e(e),g=xe.get(e,"fxshow");n.queue||(s=oe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,oe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=oe.css(e,"display"),u="none"===c?xe.get(e,"olddisplay")||x(e.nodeName):c,"inline"===u&&"none"===oe.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],at.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}f[i]=g&&g[i]||oe.style(e,i)}else c=void 0;if(oe.isEmptyObject(f))"inline"===("none"===c?x(e.nodeName):c)&&(h.display=c);else{g?"hidden"in g&&(p=g.hidden):g=xe.access(e,"fxshow",{}),o&&(g.hidden=!p),p?oe(e).show():d.done(function(){oe(e).hide()}),d.done(function(){var t;xe.remove(e,"fxshow");for(t in f)oe.style(e,t,f[t])});for(i in f)a=R(p?g[i]:0,i,d),i in g||(g[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function P(e,t){var n,i,r,o,a;for(n in e)if(i=oe.camelCase(n),r=t[i],o=e[n],oe.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=oe.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function B(e,t,n){var i,r,o=0,a=B.prefilters.length,s=oe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=rt||O(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||O(),duration:n.duration,tweens:[],createTween:function(t,n){var i=oe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(P(u,c.opts.specialEasing);a>o;o++)if(i=B.prefilters[o].call(c,e,u,c.opts))return oe.isFunction(i.stop)&&(oe._queueHooks(c.elem,c.opts.queue).stop=oe.proxy(i.stop,i)),i;return oe.map(u,R,c),oe.isFunction(c.opts.start)&&c.opts.start.call(e,c),oe.fx.timer(oe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function j(e){return e.getAttribute&&e.getAttribute("class")||""}function H(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(Se)||[];if(oe.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function $(e,t,n,i){function r(s){var l;return o[s]=!0,oe.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===Lt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function V(e,t){var n,i,r=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&oe.extend(!0,e,i),e}function U(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function W(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function Y(e,t,n,i){var r;if(oe.isArray(t))oe.each(t,function(t,r){n||Dt.test(e)?i(e,r):Y(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==oe.type(t))i(e,t);else for(r in t)Y(e+"["+r+"]",t[r],n,i)}function z(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var G=[],X=e.document,K=G.slice,J=G.concat,Q=G.push,Z=G.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,ie={},re="2.2.4",oe=function(e,t){return new oe.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([\da-z])/gi,ce=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:re,constructor:oe,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return oe.each(this,e)},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Q,sort:G.sort,splice:G.splice},oe.extend=oe.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||oe.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(c&&i&&(oe.isPlainObject(i)||(r=oe.isArray(i)))?(r?(r=!1,o=n&&oe.isArray(n)?n:[]):o=n&&oe.isPlainObject(n)?n:{},a[t]=oe.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},oe.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!oe.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=oe.trim(e),e&&(1===e.indexOf("use strict")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(se,"ms-").replace(le,ce)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,r=0;if(n(e))for(i=e.length;i>r&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?oe.merge(i,"string"==typeof e?[e]:e):Q.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o,a=0,s=[];if(n(e))for(r=e.length;r>a;a++)o=t(e[a],a,i),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,i),null!=o&&s.push(o);return J.apply([],s)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),oe.isFunction(e)?(i=K.call(arguments,2),r=function(){return e.apply(t||this,i.concat(K.call(arguments)))},r.guid=e.guid=e.guid||oe.guid++,r):void 0},now:Date.now,support:ie}),"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=G[Symbol.iterator]),oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,i){var r,o,a,s,l,c,d,h,p=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!i&&((t?t.ownerDocument||t:j)!==_&&N(t),t=t||_,O)){if(11!==g&&(c=ve.exec(e)))if(r=c[1]){if(9===g){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(p&&(a=p.getElementById(r))&&P(t,a)&&a.id===r)return n.push(a),n}else{if(c[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&S.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(r)),n}if(S.qsa&&!W[e+" "]&&(!q||!q.test(e))){
if(1!==g)p=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=B),d=x(e),o=d.length,l=fe.test(s)?"#"+s:"[id='"+s+"']";o--;)d[o]=l+" "+f(d[o]);h=d.join(","),p=ye.test(e)&&u(t.parentNode)||t}if(h)try{return Q.apply(n,p.querySelectorAll(h)),n}catch(m){}finally{s===B&&t.removeAttribute("id")}}}return A(e.replace(se,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function r(e){var t=_.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)k.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=$++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c,u=[H,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(c=t[B]||(t[B]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(s=l[i])&&s[0]===H&&s[1]===o)return u[2]=s[2];if(l[i]=u,u[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function m(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function v(e,t,n,r,o,a){return r&&!r[B]&&(r=v(r)),o&&!o[B]&&(o=v(o,a)),i(function(i,a,s,l){var c,u,d,f=[],h=[],p=a.length,v=i||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:m(v,f,e,s,l),b=n?o||(i?e:p||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(c=m(b,h),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[h[u]]=!(y[h[u]]=d));if(i){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?ee(i,d):f[u])>-1&&(i[c]=!(a[c]=d))}}else b=m(b===a?b.splice(p,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function y(e){for(var t,n,i,r=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),c=h(function(e){return ee(t,e)>-1},a,!0),u=[function(e,n,i){var r=!o&&(i||n!==E)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];r>s;s++)if(n=k.relative[e[s].type])u=[h(p(u),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[B]){for(i=++s;r>i&&!k.relative[e[i].type];i++);return v(s>1&&p(u),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&f(e))}u.push(n)}return p(u)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,c){var u,d,f,h=0,p="0",g=i&&[],v=[],y=E,b=i||o&&k.find.TAG("*",c),w=H+=null==y?1:Math.random()||.1,S=b.length;for(c&&(E=a===_||a||c);p!==S&&null!=(u=b[p]);p++){if(o&&u){for(d=0,a||u.ownerDocument===_||(N(u),s=!O);f=e[d++];)if(f(u,a||_,s)){l.push(u);break}c&&(H=w)}r&&((u=!f&&u)&&h--,i&&g.push(u))}if(h+=p,r&&p!==h){for(d=0;f=n[d++];)f(g,v,a,s);if(i){if(h>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(l));v=m(v)}Q.apply(l,v),c&&!i&&v.length>0&&h+n.length>1&&t.uniqueSort(l)}return c&&(H=w,E=y),g};return r?i(a):a}var w,S,k,C,T,x,L,A,E,M,D,N,_,I,O,q,R,F,P,B="sizzle"+1*new Date,j=e.document,H=0,$=0,V=n(),U=n(),W=n(),Y=function(e,t){return e===t&&(D=!0),0},z=1<<31,G={}.hasOwnProperty,X=[],K=X.pop,J=X.push,Q=X.push,Z=X.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),fe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Se=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ke=function(){N()};try{Q.apply(X=Z.call(j.childNodes),j.childNodes),X[j.childNodes.length].nodeType}catch(Ce){Q={apply:X.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}S=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},N=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:j;return i!==_&&9===i.nodeType&&i.documentElement?(_=i,I=_.documentElement,O=!T(_),(n=_.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),S.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),S.getElementsByTagName=r(function(e){return e.appendChild(_.createComment("")),!e.getElementsByTagName("*").length}),S.getElementsByClassName=me.test(_.getElementsByClassName),S.getById=r(function(e){return I.appendChild(e).id=B,!_.getElementsByName||!_.getElementsByName(B).length}),S.getById?(k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}},k.filter.ID=function(e){var t=e.replace(we,Se);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(we,Se);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=S.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):S.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.CLASS=S.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&O?t.getElementsByClassName(e):void 0},R=[],q=[],(S.qsa=me.test(_.querySelectorAll))&&(r(function(e){I.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||q.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||q.push("~="),e.querySelectorAll(":checked").length||q.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||q.push(".#.+[+~]")}),r(function(e){var t=_.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&q.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),q.push(",.*:")})),(S.matchesSelector=me.test(F=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(e){S.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),R.push("!=",oe)}),q=q.length&&new RegExp(q.join("|")),R=R.length&&new RegExp(R.join("|")),t=me.test(I.compareDocumentPosition),P=t||me.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!S.sortDetached&&t.compareDocumentPosition(e)===n?e===_||e.ownerDocument===j&&P(j,e)?-1:t===_||t.ownerDocument===j&&P(j,t)?1:M?ee(M,e)-ee(M,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!r||!o)return e===_?-1:t===_?1:r?-1:o?1:M?ee(M,e)-ee(M,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===j?-1:l[i]===j?1:0},_):_},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==_&&N(e),n=n.replace(ue,"='$1']"),S.matchesSelector&&O&&!W[n+" "]&&(!R||!R.test(n))&&(!q||!q.test(n)))try{var i=F.call(e,n);if(i||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,_,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==_&&N(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==_&&N(e);var n=k.attrHandle[t.toLowerCase()],i=n&&G.call(k.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==i?i:S.attributes||!O?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(D=!S.detectDuplicates,M=!S.sortStable&&e.slice(0),e.sort(Y),D){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return M=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},k=t.selectors={cacheLength:50,createPseudo:i,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Se),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Se),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=x(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Se).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,h,p,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(f=m,d=f[B]||(f[B]={}),u=d[f.uniqueID]||(d[f.uniqueID]={}),c=u[e]||[],h=c[0]===H&&c[1],b=h&&c[2],f=h&&m.childNodes[h];f=++h&&f&&f[g]||(b=h=0)||p.pop();)if(1===f.nodeType&&++b&&f===t){u[e]=[H,h,b];break}}else if(y&&(f=t,d=f[B]||(f[B]={}),u=d[f.uniqueID]||(d[f.uniqueID]={}),c=u[e]||[],h=c[0]===H&&c[1],b=h),b===!1)for(;(f=++h&&f&&f[g]||(b=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&(d=f[B]||(f[B]={}),u=d[f.uniqueID]||(d[f.uniqueID]={}),u[e]=[H,b]),f!==t)););return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(e,n){var r,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(r=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=L(e.replace(se,"$1"));return r[B]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(we,Se),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Se).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return d.prototype=k.filters=k.pseudos,k.setFilters=new d,x=t.tokenize=function(e,n){var i,r,o,a,s,l,c,u=U[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=k.preFilter;s;){i&&!(r=le.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ce.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se," ")}),s=s.slice(i.length));for(a in k.filter)!(r=he[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):U(e,l).slice(0)},L=t.compile=function(e,t){var n,i=[],r=[],o=W[e+" "];if(!o){for(t||(t=x(e)),n=t.length;n--;)o=y(t[n]),o[B]?i.push(o):r.push(o);o=W(e,b(r,i)),o.selector=e}return o},A=t.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,d=!i&&x(e=c.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&S.getById&&9===t.nodeType&&O&&k.relative[o[1].type]){if(t=(k.find.ID(a.matches[0].replace(we,Se),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=he.needsContext.test(e)?0:o.length;r--&&(a=o[r],!k.relative[s=a.type]);)if((l=k.find[s])&&(i=l(a.matches[0].replace(we,Se),ye.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&f(o),!e)return Q.apply(n,i),n;break}}return(c||L(e,d))(i,t,!O,n,!t||ye.test(e)&&u(t.parentNode)||t),n},S.sortStable=B.split("").sort(Y).join("")===B,S.detectDuplicates=!!D,N(),S.sortDetached=r(function(e){return 1&e.compareDocumentPosition(_.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),S.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);oe.find=ue,oe.expr=ue.selectors,oe.expr[":"]=oe.expr.pseudos,oe.uniqueSort=oe.unique=ue.uniqueSort,oe.text=ue.getText,oe.isXMLDoc=ue.isXML,oe.contains=ue.contains;var de=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&oe(e).is(n))break;i.push(e)}return i},fe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},he=oe.expr.match.needsContext,pe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ge=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?oe.find.matchesSelector(i,e)?[i]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;n>t;t++)if(oe.contains(r[t],this))return!0}));for(t=0;n>t;t++)oe.find(e,r[t],i);return i=this.pushStack(n>1?oe.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&he.test(e)?oe(e):e||[],!1).length}});var me,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=oe.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||me,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ve.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),pe.test(i[1])&&oe.isPlainObject(t))for(i in t)oe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=X.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?void 0!==n.ready?n.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};ye.prototype=oe.fn,me=oe(X);var be=/^(?:parents|prev(?:Until|All))/,we={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(oe.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=he.test(e)||"string"!=typeof e?oe(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?Z.call(oe(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return de(e,"parentNode")},parentsUntil:function(e,t,n){return de(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return de(e,"nextSibling")},prevAll:function(e){return de(e,"previousSibling")},nextUntil:function(e,t,n){return de(e,"nextSibling",n)},prevUntil:function(e,t,n){return de(e,"previousSibling",n)},siblings:function(e){return fe((e.parentNode||{}).firstChild,e)},children:function(e){return fe(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,i){var r=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=oe.filter(i,r)),this.length>1&&(we[e]||oe.uniqueSort(r),be.test(e)&&r.reverse()),this.pushStack(r)}});var Se=/\S+/g;oe.Callbacks=function(e){e="string"==typeof e?o(e):oe.extend({},e);var t,n,i,r,a=[],s=[],l=-1,c=function(){for(r=e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,r&&(a=n?[]:"")},u={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function i(t){oe.each(t,function(t,n){oe.isFunction(n)?e.unique&&u.has(n)||a.push(n):n&&n.length&&"string"!==oe.type(n)&&i(n)})}(arguments),n&&!t&&c()),this},remove:function(){return oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(e){return e?oe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=s=[],n||(a=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var a=oe.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,i):i}},r={};return i.pipe=i.then,oe.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=K.call(arguments),a=o.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,l=1===s?e:oe.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?K.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&oe.isFunction(o[r].promise)?o[r].promise().progress(c(r,n,t)).done(c(r,i,o)).fail(l.reject):--s;return s||l.resolveWith(i,o),l.promise()}});var ke;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(e===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,e!==!0&&--oe.readyWait>0||(ke.resolveWith(X,[oe]),oe.fn.triggerHandler&&(oe(X).triggerHandler("ready"),oe(X).off("ready"))))}}),oe.ready.promise=function(t){return ke||(ke=oe.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?e.setTimeout(oe.ready):(X.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a))),ke.promise(t)},oe.ready.promise();var Ce=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===oe.type(n)){r=!0;for(s in n)Ce(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,oe.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(oe(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o},Te=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};s.uid=1,s.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Te(e))return{};var t=e[this.expando];return t||(t={},Te(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,oe.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{oe.isArray(t)?i=t.concat(t.map(oe.camelCase)):(r=oe.camelCase(t),t in o?i=[t,r]:(i=r,i=i in o?[i]:i.match(Se)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===t||oe.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!oe.isEmptyObject(t)}};var xe=new s,Le=new s,Ae=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/[A-Z]/g;oe.extend({hasData:function(e){return Le.hasData(e)||xe.hasData(e)},data:function(e,t,n){return Le.access(e,t,n)},removeData:function(e,t){Le.remove(e,t)},_data:function(e,t,n){return xe.access(e,t,n)},_removeData:function(e,t){xe.remove(e,t)}}),oe.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=Le.get(o),1===o.nodeType&&!xe.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=oe.camelCase(i.slice(5)),l(o,i,r[i])));xe.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Le.set(this,e)}):Ce(this,function(t){var n,i;if(o&&void 0===t){if(n=Le.get(o,e)||Le.get(o,e.replace(Ee,"-$&").toLowerCase()),void 0!==n)return n;if(i=oe.camelCase(e),n=Le.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else i=oe.camelCase(e),this.each(function(){var n=Le.get(this,i);Le.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&Le.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Le.remove(this,e)})}}),oe.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=xe.get(e,t),n&&(!i||oe.isArray(n)?i=xe.access(e,t,oe.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),i=n.length,r=n.shift(),o=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return xe.get(e,n)||xe.access(e,n,{empty:oe.Callbacks("once memory").add(function(){xe.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?oe.queue(this[0],e):void 0===t?this:this.each(function(){var n=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=oe.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=xe.get(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Me=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,De=new RegExp("^(?:([+-])=|)("+Me+")([a-z%]*)$","i"),Ne=["Top","Right","Bottom","Left"],_e=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Ie=/^(?:checkbox|radio)$/i,Oe=/<([\w:-]+)/,qe=/^$|\/(?:java|ecma)script/i,Re={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Re.optgroup=Re.option,Re.tbody=Re.tfoot=Re.colgroup=Re.caption=Re.thead,Re.th=Re.td;var Fe=/<|&#?\w+;/;!function(){var e=X.createDocumentFragment(),t=e.appendChild(X.createElement("div")),n=X.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Pe=/^key/,Be=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,je=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,d,f,h,p,g,m=xe.get(e);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=oe.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return"undefined"!=typeof oe&&oe.event.triggered!==t.type?oe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Se)||[""],c=t.length;c--;)s=je.exec(t[c])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h&&(d=oe.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=oe.event.special[h]||{},u=oe.extend({type:h,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&oe.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=l[h])||(f=l[h]=[],f.delegateCount=0,d.setup&&d.setup.call(e,i,p,a)!==!1||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),oe.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,f,h,p,g,m=xe.hasData(e)&&xe.get(e);if(m&&(l=m.events)){for(t=(t||"").match(Se)||[""],c=t.length;c--;)if(s=je.exec(t[c])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h){for(d=oe.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,f=l[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)u=f[o],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&d.teardown.call(e,p,m.handle)!==!1||oe.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)oe.event.remove(e,h+t[c],n,i,!0);oe.isEmptyObject(l)&&xe.remove(e,"handle events")}},dispatch:function(e){e=oe.event.fix(e);var t,n,i,r,o,a=[],s=K.call(arguments),l=(xe.get(this,"events")||{})[e.type]||[],c=oe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=oe.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,
n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,i=((oe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?oe(r,this).index(l)>-1:oe.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||X,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Be.test(r)?this.mouseHooks:Pe.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new oe.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:p):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||oe.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.fn.extend({on:function(e,t,n,i){return m(this,e,t,n,i)},one:function(e,t,n,i){return m(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,oe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=p),this.each(function(){oe.event.remove(this,e,n,t)})}});var He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,$e=/<script|<style|<link/i,Ve=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^true\/(.*)/,We=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(e){return e.replace(He,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=oe.contains(e.ownerDocument,e);if(!(ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(a=u(s),o=u(e),i=0,r=o.length;r>i;i++)S(o[i],a[i]);if(t)if(n)for(o=o||u(e),a=a||u(s),i=0,r=o.length;r>i;i++)w(o[i],a[i]);else w(e,s);return a=u(s,"script"),a.length>0&&d(a,!l&&u(e,"script")),s},cleanData:function(e){for(var t,n,i,r=oe.event.special,o=0;void 0!==(n=e[o]);o++)if(Te(n)){if(t=n[xe.expando]){if(t.events)for(i in t.events)r[i]?oe.event.remove(n,i):oe.removeEvent(n,i,t.handle);n[xe.expando]=void 0}n[Le.expando]&&(n[Le.expando]=void 0)}}}),oe.fn.extend({domManip:k,detach:function(e){return C(this,e,!0)},remove:function(e){return C(this,e)},text:function(e){return Ce(this,function(e){return void 0===e?oe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(u(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return Ce(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!$e.test(e)&&!Re[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=oe.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(oe.cleanData(u(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return k(this,arguments,function(t){var n=this.parentNode;oe.inArray(this,e)<0&&(oe.cleanData(u(this)),n&&n.replaceChild(t,this))},e)}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,i=[],r=oe(e),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),oe(r[a])[t](n),Q.apply(i,n.get());return this.pushStack(i)}});var Ye,ze={HTML:"block",BODY:"block"},Ge=/^margin/,Xe=new RegExp("^("+Me+")(?!px)[a-z%]+$","i"),Ke=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Je=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},Qe=X.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Qe.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,s.style.marginRight="50%",r="4px"===t.marginRight,Qe.removeChild(a)}var n,i,r,o,a=X.createElement("div"),s=X.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),oe.extend(ie,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},pixelMarginRight:function(){return null==i&&t(),r},reliableMarginLeft:function(){return null==i&&t(),o},reliableMarginRight:function(){var t,n=s.appendChild(X.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Qe.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),Qe.removeChild(a),s.removeChild(n),t}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","O","Moz","ms"],it=X.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=L(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=oe.camelCase(t),l=e.style;return t=oe.cssProps[s]||(oe.cssProps[s]=E(s)||s),a=oe.cssHooks[t]||oe.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=De.exec(n))&&r[1]&&(n=c(e,t,r),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(oe.cssNumber[s]?"":"px")),ie.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,a,s=oe.camelCase(t);return t=oe.cssProps[s]||(oe.cssProps[s]=E(s)||s),a=oe.cssHooks[t]||oe.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=L(e,t,i)),"normal"===r&&t in tt&&(r=tt[t]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,n,i){return n?Ze.test(oe.css(e,"display"))&&0===e.offsetWidth?Je(e,et,function(){return N(e,t,i)}):N(e,t,i):void 0},set:function(e,n,i){var r,o=i&&Ke(e),a=i&&D(e,t,i,"border-box"===oe.css(e,"boxSizing",!1,o),o);return a&&(r=De.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=oe.css(e,t)),M(e,n,a)}}}),oe.cssHooks.marginLeft=A(ie.reliableMarginLeft,function(e,t){return t?(parseFloat(L(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),oe.cssHooks.marginRight=A(ie.reliableMarginRight,function(e,t){return t?Je(e,{display:"inline-block"},L,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Ne[i]+t]=o[i]||o[i-2]||o[0];return r}},Ge.test(e)||(oe.cssHooks[e+t].set=M)}),oe.fn.extend({css:function(e,t){return Ce(this,function(e,t,n){var i,r,o={},a=0;if(oe.isArray(t)){for(i=Ke(e),r=t.length;r>a;a++)o[t[a]]=oe.css(e,t[a],!1,i);return o}return void 0!==n?oe.style(e,t,n):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){_e(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=I,I.prototype={constructor:I,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||oe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[oe.cssProps[e.prop]]&&!oe.cssHooks[e.prop]?e.elem[e.prop]=e.now:oe.style(e.elem,e.prop,e.now+e.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},oe.fx=I.prototype.init,oe.fx.step={};var rt,ot,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;oe.Animation=oe.extend(B,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return c(n.elem,e,De.exec(t),n),n}]},tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.match(Se);for(var n,i=0,r=e.length;r>i;i++)n=e[i],B.tweeners[n]=B.tweeners[n]||[],B.tweeners[n].unshift(t)},prefilters:[F],prefilter:function(e,t){t?B.prefilters.unshift(e):B.prefilters.push(e)}}),oe.speed=function(e,t,n){var i=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return i.duration=oe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in oe.fx.speeds?oe.fx.speeds[i.duration]:oe.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){oe.isFunction(i.old)&&i.old.call(this),i.queue&&oe.dequeue(this,i.queue)},i},oe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(_e).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=oe.isEmptyObject(e),o=oe.speed(t,n,i),a=function(){var t=B(this,oe.extend({},e),o);(r||xe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=oe.timers,a=xe.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&st.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=xe.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=oe.timers,a=i?i.length:0;for(n.finish=!0,oe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(q(t,!0),e,i,r)}}),oe.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),oe.timers=[],oe.fx.tick=function(){var e,t=0,n=oe.timers;for(rt=oe.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||oe.fx.stop(),rt=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ot||(ot=e.setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){e.clearInterval(ot),ot=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(t,n){return t=oe.fx?oe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=X.createElement("input"),t=X.createElement("select"),n=t.appendChild(X.createElement("option"));e.type="checkbox",ie.checkOn=""!==e.value,ie.optSelected=n.selected,t.disabled=!0,ie.optDisabled=!n.disabled,e=X.createElement("input"),e.value="t",e.type="radio",ie.radioValue="t"===e.value}();var lt,ct=oe.expr.attrHandle;oe.fn.extend({attr:function(e,t){return Ce(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?oe.prop(e,t,n):(1===o&&oe.isXMLDoc(e)||(t=t.toLowerCase(),r=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void oe.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=oe.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(Se);if(o&&1===e.nodeType)for(;n=o[r++];)i=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),lt={set:function(e,t,n){return t===!1?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ct[t]||oe.find.attr;ct[t]=function(e,t,i){var r,o;return i||(o=ct[t],ct[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,ct[t]=o),r}});var ut=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return Ce(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})}}),oe.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&oe.isXMLDoc(e)||(t=oe.propFix[t]||t,r=oe.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ie.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var ft=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,j(this)))});if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[l++];)if(r=j(n),i=1===n.nodeType&&(" "+r+" ").replace(ft," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=oe.trim(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,j(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[l++];)if(r=j(n),i=1===n.nodeType&&(" "+r+" ").replace(ft," ")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=oe.trim(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,j(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=oe(this),o=e.match(Se)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||(t=j(this),t&&xe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":xe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+j(n)+" ").replace(ft," ").indexOf(t)>-1)return!0;return!1}});var ht=/\r/g,pt=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=oe.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,oe(this).val()):e,null==r?r="":"number"==typeof r?r+="":oe.isArray(r)&&(r=oe.map(r,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=oe.valHooks[r.type]||oe.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ht,""):null==n?"":n)):void 0}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e)).replace(pt," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],(n.selected||l===r)&&(ie.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=oe.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=oe.inArray(oe.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>-1:void 0}},ie.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var gt=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(t,n,i,r){var o,a,s,l,c,u,d,f=[i||X],h=ne.call(t,"type")?t.type:t,p=ne.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||X,3!==i.nodeType&&8!==i.nodeType&&!gt.test(h+oe.event.triggered)&&(h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[oe.expando]?t:new oe.Event(h,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:oe.makeArray(n,[t]),d=oe.event.special[h]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!oe.isWindow(i)){for(l=d.delegateType||h,gt.test(l+h)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||X)&&f.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||h,u=(xe.get(a,"events")||{})[t.type]&&xe.get(a,"handle"),u&&u.apply(a,n),u=c&&a[c],u&&u.apply&&Te(a)&&(t.result=u.apply(a,n),t.result===!1&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),n)!==!1||!Te(i)||c&&oe.isFunction(i[h])&&!oe.isWindow(i)&&(s=i[c],s&&(i[c]=null),oe.event.triggered=h,i[h](),oe.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(e,t,n){var i=oe.extend(new oe.Event,n,{type:e,isSimulated:!0});oe.event.trigger(i,null,t)}}),oe.fn.extend({trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?oe.event.trigger(e,t,n,!0):void 0}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ie.focusin="onfocusin"in e,ie.focusin||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){oe.event.simulate(t,e.target,oe.event.fix(e))};oe.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=xe.access(i,t);r||i.addEventListener(e,n,!0),xe.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=xe.access(i,t)-1;r?xe.access(i,t,r):(i.removeEventListener(e,n,!0),xe.remove(i,t))}}});var mt=e.location,vt=oe.now(),yt=/\?/;oe.parseJSON=function(e){return JSON.parse(e+"")},oe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),n};var bt=/#.*$/,wt=/([?&])_=[^&]*/,St=/^(.*?):[ \t]*([^\r\n]*)$/gm,kt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ct=/^(?:GET|HEAD)$/,Tt=/^\/\//,xt={},Lt={},At="*/".concat("*"),Et=X.createElement("a");Et.href=mt.href,oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt.href,type:"GET",isLocal:kt.test(mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":At,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,oe.ajaxSettings),t):V(oe.ajaxSettings,e)},ajaxPrefilter:H(xt),ajaxTransport:H(Lt),ajax:function(t,n){function i(t,n,i,s){var c,d,y,b,S,C=n;2!==w&&(w=2,l&&e.clearTimeout(l),r=void 0,a=s||"",k.readyState=t>0?4:0,c=t>=200&&300>t||304===t,i&&(b=U(f,k,i)),b=W(f,b,k,c),c?(f.ifModified&&(S=k.getResponseHeader("Last-Modified"),S&&(oe.lastModified[o]=S),S=k.getResponseHeader("etag"),S&&(oe.etag[o]=S)),204===t||"HEAD"===f.type?C="nocontent":304===t?C="notmodified":(C=b.state,d=b.data,y=b.error,c=!y)):(y=C,!t&&C||(C="error",0>t&&(t=0))),k.status=t,k.statusText=(n||C)+"",c?g.resolveWith(h,[d,C,k]):g.rejectWith(h,[k,C,y]),k.statusCode(v),v=void 0,u&&p.trigger(c?"ajaxSuccess":"ajaxError",[k,f,c?d:y]),m.fireWith(h,[k,C]),u&&(p.trigger("ajaxComplete",[k,f]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,a,s,l,c,u,d,f=oe.ajaxSetup({},n),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?oe(h):oe.event,g=oe.Deferred(),m=oe.Callbacks("once memory"),v=f.statusCode||{},y={},b={},w=0,S="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=St.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||S;return r&&r.abort(t),i(0,t),this}};if(g.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,f.url=((t||f.url||mt.href)+"").replace(bt,"").replace(Tt,mt.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=oe.trim(f.dataType||"*").toLowerCase().match(Se)||[""],null==f.crossDomain){c=X.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Et.protocol+"//"+Et.host!=c.protocol+"//"+c.host}catch(C){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=oe.param(f.data,f.traditional)),$(xt,f,n,k),2===w)return k;u=oe.event&&f.global,u&&0===oe.active++&&oe.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ct.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(yt.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=wt.test(o)?o.replace(wt,"$1_="+vt++):o+(yt.test(o)?"&":"?")+"_="+vt++)),f.ifModified&&(oe.lastModified[o]&&k.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&k.setRequestHeader("If-None-Match",oe.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+At+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)k.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(f.beforeSend.call(h,k,f)===!1||2===w))return k.abort();S="abort";for(d in{success:1,error:1,complete:1})k[d](f[d]);if(r=$(Lt,f,n,k)){if(k.readyState=1,u&&p.trigger("ajaxSend",[k,f]),2===w)return k;f.async&&f.timeout>0&&(l=e.setTimeout(function(){k.abort("timeout")},f.timeout));try{w=1,r.send(y,i)}catch(C){if(!(2>w))throw C;i(-1,C)}}else i(-1,"No Transport");return k},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,n,i,r){return oe.isFunction(n)&&(r=r||i,i=n,n=void 0),oe.ajax(oe.extend({url:e,type:t,dataType:r,data:n,success:i},oe.isPlainObject(e)&&e))}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return!oe.expr.filters.visible(e)},oe.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Mt=/%20/g,Dt=/\[\]$/,Nt=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var n,i=[],r=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){r(this.name,this.value)});else for(n in e)Y(n,e[n],t,r);return i.join("&").replace(Mt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&It.test(this.nodeName)&&!_t.test(e)&&(this.checked||!Ie.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}}):{name:t.name,value:n.replace(Nt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Ot={0:200,1223:204},qt=oe.ajaxSettings.xhr();ie.cors=!!qt&&"withCredentials"in qt,ie.ajax=qt=!!qt,oe.ajaxTransport(function(t){var n,i;return ie.cors||qt&&!t.crossDomain?{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ot[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){
n&&i()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=oe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Rt=[],Ft=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rt.pop()||oe.expando+"_"+vt++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(Ft.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ft.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ft,"$1"+r):t.jsonp!==!1&&(t.url+=(yt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||oe.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===o?oe(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Rt.push(r)),a&&oe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var i=pe.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=f([e],t,r),r&&r.length&&oe(r).remove(),oe.merge([],i.childNodes))};var Pt=oe.fn.load;oe.fn.load=function(e,t,n){if("string"!=typeof e&&Pt)return Pt.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=oe.trim(e.slice(s)),e=e.slice(0,s)),oe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&oe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?oe("<div>").append(oe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length},oe.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c,u=oe.css(e,"position"),d=oe(e),f={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=oe.css(e,"top"),l=oe.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,n,oe.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+r),"using"in t?t.using.call(e,f):d.css(f)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,oe.contains(t,i)?(r=i.getBoundingClientRect(),n=z(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(i=e.offset()),i.top+=oe.css(e[0],"borderTopWidth",!0),i.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-oe.css(n,"marginTop",!0),left:t.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||Qe})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;oe.fn[e]=function(i){return Ce(this,function(e,i,r){var o=z(e);return void 0===r?o?o[t]:e[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r)},e,i,arguments.length)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=A(ie.pixelPosition,function(e,n){return n?(n=L(e,t),Xe.test(n)?oe(e).position()[t]+"px":n):void 0})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){oe.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return Ce(this,function(t,n,i){var r;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?oe.css(t,n,a):oe.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),oe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var Bt=e.jQuery,jt=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=jt),t&&e.jQuery===oe&&(e.jQuery=Bt),oe},t||(e.jQuery=e.$=oe),oe}),null===window.location.href.match("/embed/")&&!function(){var e="6034623",t=function(){var e=document.querySelector(".omniture");return e&&"undefined"!=typeof e.getAttribute("data-hierarchy")?e.getAttribute("data-hierarchy"):"Uncategorized"}(),n=function(){var e=document.location.href,t=e.indexOf("#"),n=e.indexOf("?");return t===-1&&n===-1?e:t>0&&(t<n||n===-1)?e.substr(0,t):e.substr(0,n)}(),i=new Image;i.src=("https:"===document.location.protocol?"https://sb":"http://b")+".scorecardresearch.com/b?c1=2&c2="+e+"&c3=nymag.dev&c4="+n+"&c5=&c6=&c7="+escape(document.location.href)+"&c8="+escape(t)+"&c9="+escape(document.referrer)+"&c10="+escape(screen.width+"x"+screen.height)+"&c15=&rn="+(new Date).getTime()}(),window.fbAsyncInit=function(){FB.init({appId:document.querySelector("meta[property='fb:app_id']").getAttribute("content"),xfbml:!0,version:"v2.0"})},function(e,t,n){var i,r=e.getElementsByTagName(t)[0];e.getElementById(n)||(i=e.createElement(t),i.id=n,i.src="//connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(i,r))}(document,"script","facebook-jssdk"),function(){!function(e,t,n,i,r,o,a){e.fbq||(r=e.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},e._fbq||(e._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],o=t.createElement(n),o.async=!0,o.src=i,a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(o,a))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","1149741648399382"),fbq("track","PageView")}(),function(){var e=new Image(1,1);e.onerror=e.onload=function(){e.onerror=e.onload=null},e.src=["//secure-us.imrworldwide.com/cgi-bin/m?ci=us-703858h&cg=0&cc=1&si=",escape(window.location.href),"&rp=",escape(document.referrer),"&ts=compact&rnd=",(new Date).getTime()].join("")}(),!function(e,t,n){"use strict";"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):t[e]=n()}("NYMA",this,function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError("'this' is null or undefined");var i=Object(this),r=i.length>>>0;if(0===r)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),o>=r)return-1;for(n=Math.max(o>=0?o:r-Math.abs(o),0);r>n;){if(n in i&&i[n]===e)return n;n++}return-1});var e=function(e){var t={swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",sortPluginsFor:[/palemoon/i]};this.options=this.extend(e,t),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map};return e.prototype={extend:function(e,t){if(null==e)return t;for(var n in e)null!=e[n]&&t[n]!==e[n]&&(t[n]=e[n]);return t},log:function(e){window.console&&console.log(e)},get:function(e){var t=[];t=this.userAgentKey(t),t=this.languageKey(t),t=this.colorDepthKey(t),t=this.screenResolutionKey(t),t=this.timezoneOffsetKey(t),t=this.sessionStorageKey(t),t=this.localStorageKey(t),t=this.indexedDbKey(t),t=this.addBehaviorKey(t),t=this.openDatabaseKey(t),t=this.cpuClassKey(t),t=this.platformKey(t),t=this.doNotTrackKey(t),t=this.pluginsKey(t),t=this.canvasKey(t),t=this.webglKey(t),t=this.adBlockKey(t),t=this.hasLiedLanguagesKey(t),t=this.hasLiedResolutionKey(t),t=this.hasLiedOsKey(t),t=this.hasLiedBrowserKey(t),t=this.touchSupportKey(t);var n=this;this.fontsKey(t,function(t){var i=n.x64hash128(t.join("~~~"),31);return e(i)})},userAgentKey:function(e){return this.options.excludeUserAgent||e.push(navigator.userAgent),e},languageKey:function(e){return this.options.excludeLanguage||e.push(navigator.language),e},colorDepthKey:function(e){return this.options.excludeColorDepth||e.push(screen.colorDepth),e},screenResolutionKey:function(e){return this.options.excludeScreenResolution?e:this.getScreenResolution(e)},getScreenResolution:function(e){var t,n;return t=this.options.detectScreenOrientation?screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height]:[screen.height,screen.width],"undefined"!=typeof t&&e.push(t),screen.availWidth&&screen.availHeight&&(n=this.options.detectScreenOrientation?screen.availHeight>screen.availWidth?[screen.availHeight,screen.availWidth]:[screen.availWidth,screen.availHeight]:[screen.availHeight,screen.availWidth]),"undefined"!=typeof n&&e.push(n),e},timezoneOffsetKey:function(e){return this.options.excludeTimezoneOffset||e.push((new Date).getTimezoneOffset()),e},sessionStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&e.push("sessionStorageKey"),e},localStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&e.push("localStorageKey"),e},indexedDbKey:function(e){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&e.push("indexedDbKey"),e},addBehaviorKey:function(e){return document.body&&!this.options.excludeAddBehavior&&document.body.addBehavior&&e.push("addBehaviorKey"),e},openDatabaseKey:function(e){return!this.options.excludeOpenDatabase&&window.openDatabase&&e.push("openDatabase"),e},cpuClassKey:function(e){return this.options.excludeCpuClass||e.push(this.getNavigatorCpuClass()),e},platformKey:function(e){return this.options.excludePlatform||e.push(this.getNavigatorPlatform()),e},doNotTrackKey:function(e){return this.options.excludeDoNotTrack||e.push(this.getDoNotTrack()),e},canvasKey:function(e){return!this.options.excludeCanvas&&this.isCanvasSupported()&&e.push(this.getCanvasFp()),e},webglKey:function(e){return this.options.excludeWebGL?e:this.isWebGlSupported()?(e.push(this.getWebglFp()),e):e},adBlockKey:function(e){return this.options.excludeAdBlock||e.push(this.getAdBlock()),e},hasLiedLanguagesKey:function(e){return this.options.excludeHasLiedLanguages||e.push(this.getHasLiedLanguages()),e},hasLiedResolutionKey:function(e){return this.options.excludeHasLiedResolution||e.push(this.getHasLiedResolution()),e},hasLiedOsKey:function(e){return this.options.excludeHasLiedOs||e.push(this.getHasLiedOs()),e},hasLiedBrowserKey:function(e){return this.options.excludeHasLiedBrowser||e.push(this.getHasLiedBrowser()),e},fontsKey:function(e,t){return this.options.excludeJsFonts?this.flashFontsKey(e,t):this.jsFontsKey(e,t)},flashFontsKey:function(e,t){return this.options.excludeFlashFonts?t(e):this.hasSwfObjectLoaded()&&this.hasMinFlashInstalled()?"undefined"==typeof this.options.swfPath?t(e):void this.loadSwfAndDetectFonts(function(n){e.push(n.join(";")),t(e)}):t(e)},jsFontsKey:function(e,t){return setTimeout(function(){var n=["monospace","sans-serif","serif"],i="mmmmmmmmmmlli",r="72px",o=document.getElementsByTagName("body")[0],a=document.createElement("span");a.style.fontSize=r,a.innerHTML=i;var s={},l={};for(var c in n)a.style.fontFamily=n[c],o.appendChild(a),s[n[c]]=a.offsetWidth,l[n[c]]=a.offsetHeight,o.removeChild(a);for(var u=function(e){var t=!1;for(var i in n){a.style.fontFamily=e+","+n[i],o.appendChild(a);var r=a.offsetWidth!==s[n[i]]||a.offsetHeight!==l[n[i]];o.removeChild(a),t=t||r}return t},d=["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andale Mono","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Bitstream Vera Sans Mono","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Book Antiqua","Bookman Old Style","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Calibri","Californian FB","Calisto MT","Calligrapher","Cambria","Cambria Math","Candara","CaslonOpnface BT","Castellar","Centaur","Century","Century Gothic","Century Schoolbook","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Comic Sans","Comic Sans MS","Consolas","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Courier","Courier New","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","Devanagari Sangam MN","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","Estrangelo Edessa","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","Franklin Gothic","Franklin Gothic Book","Franklin Gothic Demi","Franklin Gothic Demi Cond","Franklin Gothic Heavy","Franklin Gothic Medium","Franklin Gothic Medium Cond","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Garamond","Gautami","Geeza Pro","Geneva","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","Georgia","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Helvetica","Helvetica Neue","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Impact","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Sans Serif","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Monaco","Mongolian Baiti","MONO","Monotype Corsiva","MoolBoran","Mrs Eaves","MS Gothic","MS LineDraw","MS Mincho","MS Outlook","MS PGothic","MS PMincho","MS Reference Sans Serif","MS Reference Specialty","MS Sans Serif","MS Serif","MS UI Gothic","MT Extra","MUSEO","MV Boli","MYRIAD","MYRIAD PRO","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Palatino","Palatino Linotype","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tahoma","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Times","Times New Roman","Times New Roman PS","Traditional Arabic","Trajan","TRAJAN PRO","Trebuchet MS","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Verdana","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","Wingdings","Wingdings 2","Wingdings 3","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"],f=[],h=0,p=d.length;p>h;h++)u(d[h])&&f.push(d[h]);e.push(f.join(";")),t(e)},1)},pluginsKey:function(e){return e.push(this.isIE()?this.getIEPluginsString():this.getRegularPluginsString()),e},getRegularPluginsString:function(){for(var e=[],t=0,n=navigator.plugins.length;n>t;t++)e.push(navigator.plugins[t]);return this.pluginsShouldBeSorted()&&(e=e.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),this.map(e,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){var e=["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"];return this.map(e,function(e){try{return new ActiveXObject(e),e}catch(t){return null}}).join(";")}return""},pluginsShouldBeSorted:function(){for(var e=!1,t=0,n=this.options.sortPluginsFor.length;n>t;t++){var i=this.options.sortPluginsFor[t];if(navigator.userAgent.match(i)){e=!0;break}}return e},touchSupportKey:function(e){return this.options.excludeTouchSupport||e.push(this.getTouchSupport()),e},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasIndexedDB:function(){return!!window.indexedDB},getNavigatorCpuClass:function(){return navigator.cpuClass?"navigatorCpuClass: "+navigator.cpuClass:"navigatorCpuClass: unknown"},getNavigatorPlatform:function(){return navigator.platform?"navigatorPlatform: "+navigator.platform:"navigatorPlatform: unknown"},getDoNotTrack:function(){return navigator.doNotTrack?"doNotTrack: "+navigator.doNotTrack:"doNotTrack: unknown"},getTouchSupport:function(){var e=0,t=!1;"undefined"!=typeof navigator.maxTouchPoints?e=navigator.maxTouchPoints:"undefined"!=typeof navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(n){}var i="ontouchstart"in window;return[e,t,i]},getCanvasFp:function(){var e=[],t=document.createElement("canvas");t.width=2e3,t.height=200,t.style.display="inline";var n=t.getContext("2d");try{n.globalCompositeOperation="screen"}catch(i){}return e.push("canvas blending:"+("screen"===n.globalCompositeOperation?"yes":"no")),n.rect(0,0,10,10),n.rect(2,2,6,6),e.push("canvas winding:"+(n.isPointInPath(5,5,"evenodd")===!1?"yes":"no")),n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.font="11pt no-real-font-123",n.fillText("Cwm fjordbank glyphs vext quiz, ",2,15),n.fillStyle="rgba(102, 204, 0, 0.7)",n.font="18pt Arial",n.fillText("Cwm fjordbank glyphs vext quiz, ",4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),e.push("canvas fp:"+t.toDataURL()),e.join("~")},getWebglFp:function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"},n=function(e){var t,n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");return n?(t=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===t&&(t=2),t):null};if(e=this.getWebglCanvas(),!e)return null;var i=[],r="attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}",o="precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}",a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a);var s=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW),a.itemSize=3,a.numItems=3;var l=e.createProgram(),c=e.createShader(e.VERTEX_SHADER);e.shaderSource(c,r),e.compileShader(c);var u=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(u,o),e.compileShader(u),e.attachShader(l,c),e.attachShader(l,u),e.linkProgram(l),e.useProgram(l),l.vertexPosAttrib=e.getAttribLocation(l,"attrVertex"),l.offsetUniform=e.getUniformLocation(l,"uniformOffset"),e.enableVertexAttribArray(l.vertexPosArray),e.vertexAttribPointer(l.vertexPosAttrib,a.itemSize,e.FLOAT,!1,0,0),e.uniform2f(l.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,a.numItems),null!=e.canvas&&i.push(e.canvas.toDataURL()),i.push("extensions:"+e.getSupportedExtensions().join(";")),i.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),i.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),i.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),i.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),i.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),i.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),i.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),i.push("webgl max anisotropy:"+n(e)),i.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),i.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),i.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),i.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),i.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),i.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),i.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),i.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),i.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),i.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),i.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),i.push("webgl red bits:"+e.getParameter(e.RED_BITS)),i.push("webgl renderer:"+e.getParameter(e.RENDERER)),i.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),i.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),i.push("webgl vendor:"+e.getParameter(e.VENDOR)),i.push("webgl version:"+e.getParameter(e.VERSION)),e.getShaderPrecisionFormat?(i.push("webgl vertex shader high float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision),i.push("webgl vertex shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMin),i.push("webgl vertex shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMax),i.push("webgl vertex shader medium float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision),i.push("webgl vertex shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMin),i.push("webgl vertex shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMax),i.push("webgl vertex shader low float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).precision),i.push("webgl vertex shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMin),i.push("webgl vertex shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMax),i.push("webgl fragment shader high float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision),i.push("webgl fragment shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMin),i.push("webgl fragment shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMax),i.push("webgl fragment shader medium float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision),i.push("webgl fragment shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMin),i.push("webgl fragment shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMax),i.push("webgl fragment shader low float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).precision),i.push("webgl fragment shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMin),i.push("webgl fragment shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMax),i.push("webgl vertex shader high int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).precision),i.push("webgl vertex shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMin),i.push("webgl vertex shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMax),i.push("webgl vertex shader medium int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).precision),i.push("webgl vertex shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMin),i.push("webgl vertex shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMax),i.push("webgl vertex shader low int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).precision),i.push("webgl vertex shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMin),i.push("webgl vertex shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMax),i.push("webgl fragment shader high int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).precision),i.push("webgl fragment shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMin),i.push("webgl fragment shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMax),i.push("webgl fragment shader medium int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).precision),i.push("webgl fragment shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMin),i.push("webgl fragment shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMax),i.push("webgl fragment shader low int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).precision),i.push("webgl fragment shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMin),i.push("webgl fragment shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMax),i.join("~")):i.join("~")},getAdBlock:function(){var e=document.createElement("div");return e.setAttribute("id","ads"),document.body.appendChild(e),!document.getElementById("ads")},getHasLiedLanguages:function(){if("undefined"!=typeof navigator.languages)try{var e=navigator.languages[0].substr(0,2);if(e!==navigator.language.substr(0,2))return!0}catch(t){return!0}return!1},getHasLiedResolution:function(){return screen.width<screen.availWidth||screen.height<screen.availHeight},getHasLiedOs:function(){var e,t=navigator.userAgent,n=navigator.oscpu,i=navigator.platform;e=t.toLowerCase().indexOf("windows phone")>=0?"Windows Phone":t.toLowerCase().indexOf("win")>=0?"Windows":t.toLowerCase().indexOf("android")>=0?"Android":t.toLowerCase().indexOf("linux")>=0?"Linux":t.toLowerCase().indexOf("iPhone")>=0||t.toLowerCase().indexOf("iPad")>=0?"iOS":t.toLowerCase().indexOf("mac")>=0?"Mac":"Other";
var r;if(r="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,r&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e)return!0;if("undefined"!=typeof n){if(n.toLowerCase().indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(n.toLowerCase().indexOf("linux")>=0&&"Linux"!==e&&"Android"!==e)return!0;if(n.toLowerCase().indexOf("mac")>=0&&"Mac"!==e&&"iOS"!==e)return!0;if(0===n.toLowerCase().indexOf("win")&&0===n.toLowerCase().indexOf("linux")&&n.toLowerCase().indexOf("mac")>=0&&"other"!==e)return!0}return i.toLowerCase().indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e||((i.toLowerCase().indexOf("linux")>=0||i.toLowerCase().indexOf("android")>=0||i.toLowerCase().indexOf("pike")>=0)&&"Linux"!==e&&"Android"!==e||((i.toLowerCase().indexOf("mac")>=0||i.toLowerCase().indexOf("ipad")>=0||i.toLowerCase().indexOf("ipod")>=0||i.toLowerCase().indexOf("iphone")>=0)&&"Mac"!==e&&"iOS"!==e||(0===i.toLowerCase().indexOf("win")&&0===i.toLowerCase().indexOf("linux")&&i.toLowerCase().indexOf("mac")>=0&&"other"!==e||"undefined"==typeof navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e)))},getHasLiedBrowser:function(){var e,t=navigator.userAgent,n=navigator.productSub;if(e=t.toLowerCase().indexOf("firefox")>=0?"Firefox":t.toLowerCase().indexOf("opera")>=0||t.toLowerCase().indexOf("opr")>=0?"Opera":t.toLowerCase().indexOf("chrome")>=0?"Chrome":t.toLowerCase().indexOf("safari")>=0?"Safari":t.toLowerCase().indexOf("trident")>=0?"Internet Explorer":"Other",("Chrome"===e||"Safari"===e||"Opera"===e)&&"20030107"!==n)return!0;var i=eval.toString().length;if(37===i&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===i&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===i&&"Chrome"!==e&&"Opera"!==e&&"Other"!==e)return!0;var r;try{throw"a"}catch(o){try{o.toSource(),r=!0}catch(a){r=!1}}return!(!r||"Firefox"===e||"Other"===e)},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var e=document.createElement("canvas"),t=e.getContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"));return!!window.WebGLRenderingContext&&!!t},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},hasSwfObjectLoaded:function(){return"undefined"!=typeof window.swfobject},hasMinFlashInstalled:function(){return swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var e=document.createElement("div");e.setAttribute("id",this.options.swfContainerId),document.body.appendChild(e)},loadSwfAndDetectFonts:function(e){var t="___fp_swf_loaded";window[t]=function(t){e(t)};var n=this.options.swfContainerId;this.addFlashDivNode();var i={onReady:t},r={allowScriptAccess:"always",menu:"false"};swfobject.embedSWF(this.options.swfPath,n,"1","1","9.0.0",!1,i,r,{})},getWebglCanvas:function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(n){}return t||(t=null),t},each:function(e,t,n){if(null!==e)if(this.nativeForEach&&e.forEach===this.nativeForEach)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,r=e.length;r>i;i++)if(t.call(n,e[i],i,e)==={})return}else for(var o in e)if(e.hasOwnProperty(o)&&t.call(n,e[o],o,e)==={})return},map:function(e,t,n){var i=[];return null==e?i:this.nativeMap&&e.map===this.nativeMap?e.map(t,n):(this.each(e,function(e,r,o){i[i.length]=t.call(n,e,r,o)}),i)},x64Add:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},x64Multiply:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},x64Rotl:function(e,t){return t%=64,32===t?[e[1],e[0]]:32>t?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},x64LeftShift:function(e,t){return t%=64,0===t?e:32>t?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},x64Xor:function(e,t){return[e[0]^t[0],e[1]^t[1]]},x64Fmix:function(e){return e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[4283543511,3981806797]),e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[3301882366,444984403]),e=this.x64Xor(e,[0,e[0]>>>1])},x64hash128:function(e,t){e=e||"",t=t||0;for(var n=e.length%16,i=e.length-n,r=[0,t],o=[0,t],a=[0,0],s=[0,0],l=[2277735313,289559509],c=[1291169091,658871167],u=0;i>u;u+=16)a=[255&e.charCodeAt(u+4)|(255&e.charCodeAt(u+5))<<8|(255&e.charCodeAt(u+6))<<16|(255&e.charCodeAt(u+7))<<24,255&e.charCodeAt(u)|(255&e.charCodeAt(u+1))<<8|(255&e.charCodeAt(u+2))<<16|(255&e.charCodeAt(u+3))<<24],s=[255&e.charCodeAt(u+12)|(255&e.charCodeAt(u+13))<<8|(255&e.charCodeAt(u+14))<<16|(255&e.charCodeAt(u+15))<<24,255&e.charCodeAt(u+8)|(255&e.charCodeAt(u+9))<<8|(255&e.charCodeAt(u+10))<<16|(255&e.charCodeAt(u+11))<<24],a=this.x64Multiply(a,l),a=this.x64Rotl(a,31),a=this.x64Multiply(a,c),r=this.x64Xor(r,a),r=this.x64Rotl(r,27),r=this.x64Add(r,o),r=this.x64Add(this.x64Multiply(r,[0,5]),[0,1390208809]),s=this.x64Multiply(s,c),s=this.x64Rotl(s,33),s=this.x64Multiply(s,l),o=this.x64Xor(o,s),o=this.x64Rotl(o,31),o=this.x64Add(o,r),o=this.x64Add(this.x64Multiply(o,[0,5]),[0,944331445]);switch(a=[0,0],s=[0,0],n){case 15:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+14)],48));case 14:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+13)],40));case 13:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+12)],32));case 12:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+11)],24));case 11:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+10)],16));case 10:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+9)],8));case 9:s=this.x64Xor(s,[0,e.charCodeAt(u+8)]),s=this.x64Multiply(s,c),s=this.x64Rotl(s,33),s=this.x64Multiply(s,l),o=this.x64Xor(o,s);case 8:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+7)],56));case 7:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+6)],48));case 6:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+5)],40));case 5:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+4)],32));case 4:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+3)],24));case 3:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+2)],16));case 2:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+1)],8));case 1:a=this.x64Xor(a,[0,e.charCodeAt(u)]),a=this.x64Multiply(a,l),a=this.x64Rotl(a,31),a=this.x64Multiply(a,c),r=this.x64Xor(r,a)}return r=this.x64Xor(r,[0,e.length]),o=this.x64Xor(o,[0,e.length]),r=this.x64Add(r,o),o=this.x64Add(o,r),r=this.x64Fmix(r),o=this.x64Fmix(o),r=this.x64Add(r,o),o=this.x64Add(o,r),("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)}},e}),window.twttr=function(e,t,n){var i,r,o=e.getElementsByTagName(t)[0];if(!e.getElementById(n))return r=e.createElement(t),r.id=n,r.src="https://platform.twitter.com/widgets.js",o.parentNode.insertBefore(r,o),window.twttr||(i={_e:[],ready:function(e){i._e.push(e)}})}(document,"script","twitter-wjs"),DS.value("$",jQuery),function(e,t){function n(e,t,n){var i=e+":",r=document.createElement("test"),o=r.style;return n?o.cssText=i+t:o.cssText=i+["-webkit-","-moz-","-ms-","-o-",""].join(t+";"+i)+t+";",o[e].indexOf(t)!==-1}function i(e){return parseInt(e,10)||0}var r=0,o={classes:{plugin:"fixedsticky",active:"fixedsticky-on",inactive:"fixedsticky-off",clone:"fixedsticky-dummy",withoutFixedFixed:"fixedsticky-withoutfixedfixed"},keys:{offset:"fixedStickyOffset",position:"fixedStickyPosition",id:"fixedStickyId"},tests:{sticky:n("position","sticky"),fixed:n("position","fixed",!0)},getScrollTop:function(){var t="pageYOffset",n="scrollTop";return e?t in e?e[t]:e.document.documentElement[n]:e.document.body[n]},bypass:function(){return o.tests.sticky&&!o.optOut||!o.tests.fixed||e.FixedFixed&&!t(e.document.documentElement).hasClass("fixed-supported")},update:function(e){function n(){var e=f+s;return d<e&&e+u<=y+b}function r(){return d+(u||0)>f+g-l&&f+g-l>=y+(u||0)}if(e.offsetWidth){var a,s,l,c=t(e),u=c.outerHeight(),d=c.data(o.keys.offset),f=o.getScrollTop(),h=c.is("."+o.classes.active),p=function(e){c[e?"addClass":"removeClass"](o.classes.active)[e?"removeClass":"addClass"](o.classes.inactive)},g=t(window).height(),m=c.data(o.keys.position),v=c.parent(),y=v.offset().top,b=v.outerHeight();void 0===d&&(d=c.offset().top,c.data(o.keys.offset,d),c.after(t("<div>").addClass(o.classes.clone).height(u))),m||(a="auto"!==c.css("top")||"auto"!==c.css("bottom"),a||c.css("position","fixed"),m={top:"auto"!==c.css("top"),bottom:"auto"!==c.css("bottom")},a||c.css("position",""),c.data(o.keys.position,m)),s=i(c.css("top")),l=i(c.css("bottom")),m.top&&n()||m.bottom&&r()?h||p(!0):h&&p(!1)}},destroy:function(n){var i=t(n);if(!o.bypass())return i.each(function(){var n=t(this),i=n.data(o.keys.id);t(e).unbind(".fixedsticky"+i),n.removeData([o.keys.offset,o.keys.position,o.keys.id]).removeClass(o.classes.active).removeClass(o.classes.inactive).next("."+o.classes.clone).remove()})},init:function(n){var i=t(n);if(!o.bypass())return i.each(function(){var n=this,a=r++;t(this).data(o.keys.id,a),t(e).bind("scroll.fixedsticky"+a,function(){o.update(n)}).trigger("scroll.fixedsticky"+a),t(e).bind("resize.fixedsticky"+a,function(){i.is("."+o.classes.active)&&o.update(n)})})}};e.FixedSticky=o,t.fn.fixedsticky=function(e){if("function"==typeof o[e])return o[e].call(o,this);if("object"!=typeof e&&e)throw new Error("Method `"+e+"` does not exist on jQuery.fixedsticky");return o.init.call(o,this)},e.FixedFixed||t(e.document.documentElement).addClass(o.classes.withoutFixedFixed),FixedSticky.tests.sticky=!1}(window,jQuery),function(e){if(!e.support.cors&&e.ajaxTransport&&window.XDomainRequest){var t=/^https?:\/\//i,n=/^get|post$/i,i=new RegExp("^"+location.protocol,"i"),r=/text\/html/i,o=/\/json/i,a=/\/xml/i;e.ajaxTransport("* text html xml json",function(s,l,c){if(s.crossDomain&&s.async&&n.test(s.type)&&t.test(s.url)&&i.test(s.url)){var u=null,d=(l.dataType||"").toLowerCase();return{send:function(t,n){u=new XDomainRequest,/^\d+$/.test(l.timeout)&&(u.timeout=l.timeout),u.ontimeout=function(){n(500,"timeout")},u.onload=function(){var t="Content-Length: "+u.responseText.length+"\r\nContent-Type: "+u.contentType,i={code:200,message:"success"},s={text:u.responseText};try{if("html"===d||r.test(u.contentType))s.html=u.responseText;else if("json"===d||"text"!==d&&o.test(u.contentType))try{s.json=e.parseJSON(u.responseText)}catch(l){i.code=500,i.message="parseerror"}else if("xml"===d||"text"!==d&&a.test(u.contentType)){var c=new ActiveXObject("Microsoft.XMLDOM");c.async=!1;try{c.loadXML(u.responseText)}catch(l){c=void 0}if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw i.code=500,i.message="parseerror","Invalid XML: "+u.responseText;s.xml=c}}catch(f){throw f}finally{n(i.code,i.message,s,t)}},u.onprogress=function(){},u.onerror=function(){n(500,"error",{text:u.responseText})};var i="";l.data&&(i="string"===e.type(l.data)?l.data:e.param(l.data)),u.open(s.type,s.url),u.send(i)},abort:function(){u&&u.abort()}}}})}}(jQuery),jQuery.extend({stringify:function(e){if("JSON"in window)return JSON.stringify(e);var t=typeof e;if("object"!=t||null===e)return"string"==t&&(e='"'+e+'"'),String(e);var n,i,r=[],o=e&&e.constructor==Array;for(n in e)i=e[n],t=typeof i,e.hasOwnProperty(n)&&("string"==t?i='"'+i+'"':"object"==t&&null!==i&&(i=jQuery.stringify(i)),r.push((o?"":'"'+n+'":')+String(i)));return(o?"[":"{")+String(r)+(o?"]":"}")}}),$.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},"undefined"==typeof window.nymag&&(window.nymag={}),"undefined"==typeof window.nymag.pageurl&&(window.nymag.pageurl={}),window.nymag.pageurl.parseQueryString=function(e){e||(e=window.location.search.substring(1));for(var t={},n=e.split(/&/),i=n.length,r=0;r<i;r++){var o=n[r],a=o.split(/=/);a[0]&&(t[a[0]]=a[1])}return t},window.nymag.pageurl.query=window.nymag.pageurl.parseQueryString(),"undefined"==typeof window.nymag.livefyre&&(window.nymag.livefyre={getShareType:function(){var e=window.nymag.pageurl.query.hubRefSrc;return e?"livefyre_"+e:null}}),"undefined"==typeof window.NYM&&(window.NYM={}),"undefined"==typeof window.NYM.loginReg&&(window.NYM.loginReg={}),NYM.filesLoadedAsync=[],NYM.readCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null},NYM.setCookie=function(e,t,n,i){if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o=";expires="+r.toGMTString()}else o="";if(i)var a=";domain="+i;else a="";document.cookie=e+"="+t+o+a+";path=/;"},NYM.eraseCookie=function(e,t){NYM.setCookie(e,"",-1,t)},NYM.isFunction=function(e){return typeof e==typeof Function},NYM.IsJsonString=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},NYM.loadJsCss=function(e,t,n){if("js"===t){var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",e)}else if("css"===t){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e)}"undefined"!=typeof i&&(n?document.getElementById(n).appendChild(i):document.getElementsByTagName("head")[0].appendChild(i))},NYM.checkloadjscssfile=function(e,t,n){$.inArray(e,NYM.filesLoadedAsync)===-1&&(NYM.loadJsCss(e,t,n),NYM.filesLoadedAsync.push(e))},NYM.getQueryVariable=function(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]==e)return r[1]}return!1};var utility={symbolsToEntities:function(e){var t="";for(i=0;i<e.length;i++){var n=e.charCodeAt(i);t+=n>256?"&#"+n+";":e.charAt(i)}return t}},originalViewportContent;document.querySelector("meta[name='viewport']")&&(originalViewportContent=document.querySelector("meta[name='viewport']").content),envConfigs(),function(){function e(e){var t="http://qa.nymag.com",n="logout",i="",r=getClickURL();r=r.replace(/\#.*/,""),"production"===NYM.loginReg.domainEnv&&(t=NYM.loginReg.secureDomain),e&&(n="login",i="&username="+e.username+"&session_id="+e.session_id+"&remember_me="+e.remember_me+"&userId="+e.userId),window.location=t+"/account/"+n+"/cookie?origin="+r+i}function t(){var e=NYM.getQueryVariable("account_activation"),t=NYM.getQueryVariable("reset-password");e&&(0==e?NYM.loginReg.openActivateModal="newsletterForm":1==e?NYM.loginReg.openActivateModal="activatedInvalid":2==e&&(NYM.loginReg.openActivateModal="activatedValidated")),t&&(NYM.loginReg.openActivateModal="resetPwdForm")}NYM.loginReg.clientId=NYM.readCookie("nyma"),NYM.loginReg.cmd=[],NYM.loginReg.afterLoginCallback=[],NYM.loginReg.openActivateModal=!1,NYM.loginReg.alreadyHasModal=!1,NYM.loginReg.login=function(t){e(t)},NYM.loginReg.logout=function(){e()},NYM.loginReg.isLoggedInUser=function(){var e=NYM.readCookie("nymag_session"),t=NYM.readCookie("nymag_session_user");return!(!e||!t)},NYM.loginReg.getUserName=function(){var e=unescape(NYM.readCookie("nymag_session_user"));return NYM.loginReg.isLoggedInUser()?e:""},NYM.loginReg.initMembership=function(e){},NYM.loginReg.checkMemberStatus=function(e){return!!NYM.loginReg.isLoggedInUser()||(NYM.loginReg.loadLoginForm(),NYM.isFunction(e)&&e(),!1)},NYM.loginReg.updateNavInfo=function(){function e(){var e=$("#sub_nav_mynewyork").css({position:"relative",left:0}),t=NYM.loginReg.getUserName();e.load("/media/sub_nav_mynewyork.txt",function(){var n=$("ul",e).hide();$("a",n).each(function(){var e=$(this).attr("href").replace("{profile}",t);$(this).attr("href",e)}),$("#user_name").html(t).show(),$(".mynewyork").hover(function(){n.toggle()},function(){n.toggle()}),e.on("click","#utility_logout",function(e){e.preventDefault(),NYM.loginReg.logout()})})}NYM.loginReg.isLoggedInUser()?($("#logged_out_bar").hide(),$("#logged_in_bar").show(),e()):($("#logged_out_bar").show(),$("#logged_in_bar").hide(),$("#sub_nav_mynewyork, #user_name").empty())},NYM.loginReg.getFBLoginStatus=function(e){FB.getLoginStatus(function(t){"connected"==t.status&&(NYM.loginReg.FBLoginStatus=!0,NYM.isFunction(e)&&e())})},NYM.loginReg.openModal=function(e,t,n){NYM.loginReg.alreadyHasModal?NYM.loginReg.display(e,t,n):NYM.loginReg.cmd.push(function(){NYM.loginReg.display(e,t,n),NYM.loginReg.alreadyHasModal=!0}),NYM.checkloadjscssfile("/media/newLoginRegister.css","css"),NYM.checkloadjscssfile("/media/loginRegisterForms.js","js")},NYM.loginReg.loadLoginForm=function(e){NYM.loginReg.openModal("loginForm","validateForm")},NYM.loginReg.initNewsletterSignUp=function(e,t,n){function i(e,t){e.val(t).addClass("error").effect("highlight",{color:"#ffe400"},1200).focus(function(){this.value="",e.removeClass("error")})}function r(e,t){e.val(t).addClass("success").effect("highlight",{color:"#ffe400"},1200).focus(function(){this.value="",e.removeClass("success")})}var o=jQuery(e),a=jQuery(t);o.length<1||a.length<1||o.origValidate({form:t,searchText:"Enter your e-mail address",errorMsg:"E-mail address is required",onError:i,onSubmit:function(){var e=a.find("input:checkbox"),t=e.filter(":checked"),s=o.val().trim(),l=/^[^@]+@[^@]+$/.exec(s);if(l)if(e.length>0&&t.length<1)i(o,"Please check a newsletter");else{var c=window.nymag.domains.domain+"/newsletter/subscribe/new";n&&nymag_recordLink(this,n),jQuery.ajax({url:c,method:"GET",data:a.serialize(),success:function(){r(o,"Newsletter Subscription Successful")}})}else i(o,"Please enter valid email");return!1}})},t()}(),$(document).ready(function(){function e(){var e=localStorage.getItem("socialUser");"resetPwdForm"===NYM.loginReg.openActivateModal?NYM.loginReg.openModal(NYM.loginReg.openActivateModal,"validateForm",function(){var e=NYM.getQueryVariable("code"),t=NYM.getQueryVariable("email");$("#oldP","#resetPwdForm").val(e),$("#id","#resetPwdForm").val(t)}):"newsletterForm"==NYM.loginReg.openActivateModal?(NYM.loginReg.openModal("newsletterForm","validateForm"),"undefined"!=typeof G&&G.readOmnitureOnPageView(this,"","Registration/NYMag/newsletters")):NYM.loginReg.openActivateModal?NYM.loginReg.openModal(NYM.loginReg.openActivateModal,!1):e&&(e=jQuery.parseJSON(e),e.newRegister&&(NYM.loginReg.openModal("newsletterForm","validateForm"),localStorage.removeItem("socialUser"),"undefined"!=typeof G&&G.readOmnitureOnPageView(this,"","Registration/Facebook/newsletters")))}$("#user_name").hide(),setInterval(function(){$.ajax({type:"POST",url:"/account/alive",data:{session_id:NYM.readCookie("nymag_session")}})},15e5),NYM.loginReg.updateNavInfo(),$(".register-lightbox").on("click",function(e){e.preventDefault(),NYM.loginReg.openModal("registrationForm","validateForm")}),$(".login-lightbox").on("click",function(e){e.preventDefault(),NYM.loginReg.openModal("loginForm","validateForm")}),e()}),$(function(){NYM.loginReg.isLoggedInUser()||($(document).on("change","#review-submit-form input",function(){NYM.loginReg.openModal("loginForm","validateForm")}),$(document).on("focus","#id_review_title, #id_review_text",function(){NYM.loginReg.openModal("loginForm","validateForm")}))}),NYM.loginReg.loadLogin=function(){NYM.loginReg.openModal("loginForm","validateForm")};var isLoggedInUser=function(){return NYM.loginReg.isLoggedInUser()},readCookie=function(e){return NYM.readCookie(e)},eraseCookie=function(e,t){NYM.eraseCookie(e,t)},setCookie=function(e,t,n,i){NYM.setCookie(e,t,n,i)};$(function(){var e={qa:"api.qa.nymetro.com",stg:"api.stg.nymetro.com",production:"api.nymag.com"},t={"daily-intelligencer":{size:8,site:"/dailyintel/",dataObj:"dailyintelligencer",template:"htmlTemplate"},thecut:{size:5,site:"/thecut/",dataObj:"thecut",header:"<h1>Most Popular</h1>",template:"htmlTemplateTheCut"},vulture:{size:8,site:"/vulture/",dataObj:"vulture",template:"htmlTemplate"},scienceofus:{size:8,site:"/scienceofus/",dataObj:"scienceofus",header:"<h1>Lastest News</h1>",template:"htmlTemplate"},nymag:{size:10,site:"/dailyintel/",dataObj:"nymag.com",header:"<h4>Last 24 Hours</h4>",template:"htmlTemplateKrang"},grubstreet:{size:8,site:"/",template:"htmlTemplate"}},n={htmlTemplate:function(e){for(var t=e,n=0,i="",r="",o=$("<ul></ul>"),a=0;a<t.length;a++)n=a+1,r=n==t.length?"last":"",i='<li id="number-'+n+'" class="'+r+'"><span class="num">'+n+'.</span><a name="&amp;lpos=undefined: Story: Most Popular: Most Viewed" href="'+t[a].canonicalUrl+'" class="hed">'+t[a].entryTitle+"</a></li>",$(i).appendTo(o);$("#tab-viewed").empty(),o.appendTo($("#tab-viewed"))},htmlTemplateTheCut:function(e){var t=e,n=0,r="",o="",a=$("<ol></ol>");$(i.header).appendTo($("#most-popular"));for(var s=0;s<t.length;s++)n=s+1,o=n==t.length?"last":"",r='<li><a href="'+t[s].canonicalUrl+'" sl-processed="1">'+t[s].entryTitle+"</a></li>",$(r).appendTo(a);a.appendTo($("#most-popular"))},htmlTemplateKrang:function(e){var t=e,n=0,r="",o="",a=$("<ol></ol>");$("#most-viewed").empty(),$(i.header).appendTo($("#most-viewed"));for(var s=0;s<t.length;s++)n=s+1,o=n==t.length?"last":"",r='<li><a href="'+t[s].canonicalUrl+'" sl-processed="1">'+t[s].entryTitle+"</a></li>",$(r).appendTo(a);a.appendTo($("#most-viewed"))}},i=t[NYM.loginReg.currentSite];"undefined"==typeof NYM.urls&&(NYM.urls={api:"//"+e[NYM.loginReg.domainEnv],secure:NYM.loginReg.secureDomain,asset:NYM.loginReg.frontEndAssetURL,current:$('link[rel="canonical"]').attr("href"),rendition:function(e,t,n,i){if(e){var r=".w"+t+".h"+n;return i&&(r=".nocrop"+r),e.replace(/(\.[^.]+)$/,r+"$1")}return e}});var r="//"+e[NYM.loginReg.domainEnv]+"/content"+i.site+"mostviewed/lastday?size="+i.size;($("#most-popular").length>0||$("#mostpopular").length>0)&&$.ajax({url:r,dataType:"jsonp"}).done(function(e){n[i.template](e.results)})}),$(document).keyup(function(e){switch(e.which){case 27:$(".overlayed").remove(),$("html").removeClass("overlay")}}),function(){function e(e){this.message=e}var t="undefined"!=typeof exports?exports:this,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var i,r,o=String(t),a=0,s=n,l="";o.charAt(0|a)||(s="=",a%1);l+=s.charAt(63&i>>8-a%1*8)){if(r=o.charCodeAt(a+=.75),r>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");i=i<<8|r}return l}),t.atob||(t.atob=function(t){var i=String(t).replace(/=+$/,"");if(i.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,a=0,s=0,l="";o=i.charAt(s++);~o&&(r=a%4?64*r+o:o,a++%4)?l+=String.fromCharCode(255&r>>(-2*a&6)):0)o=n.indexOf(o);return l})}(),DS.service("abstract-slideout",["_","$document","$window","$visibility","social",function(e,t,n,i,r){"use strict";var o=this,a=n.localStorage,s=864e5,l="data-track-custom-prefix",c=600;this.isSmallScreen=function(){return n.screen.width<c},this.hasTimesWithinDays=function(t,n,i,r){return e.where(t,function(e){return n-s*r<e}).length>=i},this.neverShowAgain=function(e){a.setItem(e,JSON.stringify({disabled:!0}))},this.rememberTime=function(t,n){n=n||5;var i=JSON.parse(a.getItem(t))||{},r=i.track||[];i&&!i.disabled&&(r.unshift((new Date).getTime()),a.setItem(t,JSON.stringify({track:e.take(r,n)})))},this.triggerCustomOmnitureTrackingEvent=function(e,t,i){i=i||"4",t=t||"",n.G&&e&&(n.G.readOmnitureOnPageView(!0,i,t+e),n.ga("send","event","Vulture, Feature","Slideout",e))},this.stopWatching=function(t){e.invoke(t,"destroy")},this.isDirectlyFrom=function(t){return e.any(t,function(e){return n.location.href.indexOf("mid="+e)!==-1})},this.closeAndRemove=function(e){var t=e.classList;t.contains("on")?(t.add("off"),t.remove("on"),setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},500)):e.parentNode&&e.parentNode.removeChild(e)},this.waitUntilSelectorsVisible=function(t,n){var r=i.watchForAny(t,n);return e.any(r,"seen")&&n(),r},this.isListPage=function(){return t.querySelectorAll(".shows-list,.valuable-stars").length>0},this.StandardSlideout={initializeSlideoutProperties:function(e,t){this.el=e,this.componentName=t},close:function(){o.stopWatching(this.whenVisible),o.closeAndRemove(this.el)},onCloseClick:function(){var e=this.el;this.close(),o.rememberTime(this.componentName),o.triggerCustomOmnitureTrackingEvent("promo close",e.getAttribute(l))},onFacebookUnlike:function(e,t){var n=this.el;n.querySelector(".fb-like")===t&&(this.untilClose&&clearTimeout(this.untilClose),o.triggerCustomOmnitureTrackingEvent("facebook",n.getAttribute(l)))},onFacebookLike:function(e,t){var n=this.el;n.querySelector(".fb-like")===t&&(o.triggerCustomOmnitureTrackingEvent("facebook",n.getAttribute(l)),o.neverShowAgain(this.componentName),this.untilClose=setTimeout(this.close.bind(this),2e3))},onTwitterClick:function(e){var t=this.el;t.querySelector(".twitter-follow-button")===e.target&&(o.triggerCustomOmnitureTrackingEvent("twitter",t.getAttribute(l)),o.neverShowAgain(this.componentName),this.untilClose=setTimeout(this.close.bind(this),2e3))},showWhenSelectorsVisible:function(e){this.whenVisible=o.waitUntilSelectorsVisible(e,this.show.bind(this))},showWhenScrollBelowThreshold:function(i){var r=e.throttle(function(){t.body.scrollTop>i&&(n.removeEventListener("scroll",r),this.show())}.bind(this),200);this.whenVisible=[],n.addEventListener("scroll",r)},show:e.once(function(){var e=this.el,t=JSON.parse(e.getAttribute("data-follow"));o.triggerCustomOmnitureTrackingEvent("promo load",e.getAttribute(l)),o.stopWatching(this.whenVisible),e.classList.add("on"),t.indexOf("facebook")>-1&&(r.on("facebook-like",this.onFacebookLike.bind(this)),r.on("facebook-unlike",this.onFacebookUnlike.bind(this))),t.indexOf("twitter")>-1&&r.on("twitter-click",this.onTwitterClick.bind(this))})}}]);const USER_PERCENTAGE=1;DS.service("nymab",["bab",function(e){this.detection=new e({checkOnLoad:!0,resetOnEnd:!0,debug:!1}),this.doesClientIdQualifyForResponse=function(e){var t=parseInt(e.split(".")[1])%1/USER_PERCENTAGE;return 0==t}}]),DS.service("affix",["$window","_",function(e,t){"use strict";function n(e){e.fn(e)}function i(e){var t=e.el,n=e.container,i=t.style,r=t.classList,u=t.getBoundingClientRect(),d=n.getBoundingClientRect();i.position===a?d.top>0&&d.bottom>u.height?(i.position=s,i.bottom=o,i.top="0",r.remove(l)):d.bottom<u.height&&(i.position=s,i.top=o,i.bottom="0",r.remove(l),r.add(c)):u.top<0&&u.bottom<d.bottom&&d.bottom>u.height?(i.position=a,i.top="0",i.bottom=o,r.add(l),r.remove(c)):u.top>0&&d.top<0&&(i.position=a,i.top="0",i.bottom=o,r.add(l),r.remove(c))}var r=[],o="auto",a="fixed",s="absolute",l="affixed-fixed",c="affixed-below";e.addEventListener("scroll",function(){t.each(r,n)}),this.stickyWithinContainer=function(e,t){e.style.top="0",e.style.position=s,t.style.position="relative",r.push({el:e,fn:i,container:t})}}]),DS.service("algorithms",function(){"use strict";function e(e){var t,n=0,i=0,r=e.length;if(0===r)return n;for(;i<r;i++)t=e.charCodeAt(i),n=(n<<5)-n+t,n&=n;return n}function t(e){for(var t,n,i=e.length;i;)n=Math.floor(Math.random()*i--),t=e[i],e[i]=e[n],e[n]=t;return e}function n(e,t,i,r){r=r||1e3;var o;try{o=!!e[t]}finally{o?i():setTimeout(n.bind(null,e,t,i,r))}}this.when=n,this.hashCode=e,this.shuffle=t}),DS.service("click",["$window","$document","dom",function(e,t,n){"use strict";function i(e){return"string"==typeof e?e.replace(/(?:\r\n|\r|\n)/g," ").trim().substr(0,h):""}function r(e){var t=e.linkEl.target,n=e.e,i="_blank"===t||"_new"===t,r=n.metaKey||n.shiftKey||n.ctrlKey;return i||r}function o(t){e.location.href=t.navigateUrl}function a(e){var t=e.toLowerCase();return 0===t.indexOf("http:")||0===t.indexOf("https:")}function s(e){return e.isLink&&!e.e.defaultPrevented&&a(e.navigateUrl)}function l(e,t){var n=f.length,i=function(){--n||t()};f.forEach(function(t){t(e,i)})}function c(e){var r,o,a=1===e.which,s=n.closest(e.target,"[data-track]"),l=s&&"A"===s.tagName&&s.href,c=t.querySelector("[data-layout]"),u=n.closest(s?s:e.target,"[data-component]");return l?r=s:(r=n.closest(e.target,"a"),l=r&&r.href),o=!!l,{componentName:u&&(u.getAttribute("data-component-name")||u.getAttribute("data-component"))||"",e:e,hasDataTrack:s&&a,isLeftClick:a,isLink:o,trackEl:s,trackLabel:s&&s.getAttribute("data-track")||"",layoutName:c&&c.getAttribute("data-layout")||"",linkEl:r,linkText:i(o&&r.textContent),linkUrl:l,navigateUrl:l}}function u(e){return e.length>1}var d=[],f=[],h=140,p=300;t.addEventListener("click",function(t){var n,i=c(t),a=s(i);d.forEach(function(e){e(i)}),a&&(t.preventDefault(),r(i)?(a=!1,e.open(i.navigateUrl)):n=e.setTimeout(function(){a=!1,o(i)},p)),l(i,function(){a&&(e.clearTimeout(n),o(i))})}),this.addHandler=function(e){u(e)?f.push(e):d.push(e)}}]),DS.service("components",["$document","$module",function(e,t){"use strict";var n=e.body.querySelectorAll("[data-component]");n=Array.prototype.filter.call(n,function(e){return"ad"!==e.getAttribute("data-component")});for(var i=0;i<n.length;i++){var r=n[i],o=r.getAttribute("data-component");if(t.definitions[o]){t.get(o,r)}}this.components=n}]),setTimeout(function(){DS.get("components")},0),DS.service("dom",["$document",function(e){this.find=function(t,n){return n||(n=t,t=e),t.querySelector(n)},this.findAll=function(t,n){return n||(n=t,t=e),t.querySelectorAll(n)},this.getFirstChildElement=function(e){for(var t=e.firstChild;t&&1!==t.nodeType;)t=t.nextSibling;return t},this.prependChild=function(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},this.insertAfter=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},this.clearChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},this.removeElement=function(e){e.parentNode.removeChild(e)},this.preventDefault=function(e){e&&e.preventDefault&&e.preventDefault()},this.replaceElement=function(e,t){var n=e.parentNode;n&&n.replaceChild(t,e)},this.matches=function(t,n){var i,r,o;if(t.matches)return t.matches(n);for(i=t.parentElement||e,r=i.querySelectorAll(n),o=0;r[o]&&r[o]!==t;)o++;return!!r[o]},this.closest=function(e,t){for(var n=e;n&&!this.matches(n,t);)n=n.parentElement||n.parentNode;return n?n:null},this.getPos=function(e){var t=e.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;return{top:t.top+n,bottom:t.top+t.height+n,height:t.height}}}]),DS.service("history",["$window",function(e){var t=!(!e.history||!history.pushState);this.pushState=function(e,n){t&&(n=n||{},history.pushState(n,"",e))},this.replaceState=function(e,n){t&&(n=n||{},history.replaceState(n,"",e))},this.getState=function(){return t?history.state:{}}}]),DS.service("$keyboard",["$document","Eventify",function(e,t){var n={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"windows",93:"rightclick",96:"numpad0",97:"numpad1",98:"numpad2",99:"numpad3",100:"numpad4",101:"numpad5",102:"numpad6",103:"numpad7",104:"numpad8",105:"numpad9",106:"numpad*",
107:"numpad+",109:"numpad-",110:"numpad.",111:"numpad/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock",182:"mycomputer",183:"mycalculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:'"'},i=t.enable();return e.addEventListener("keydown",function(e){"body"===document.activeElement.tagName.toLowerCase()&&i.trigger(n[e.which]+":keydown")}),e.addEventListener("keypress",function(e){"body"===document.activeElement.tagName.toLowerCase()&&i.trigger(n[e.which]+":keypress")}),e.addEventListener("keyup",function(e){"body"===document.activeElement.tagName.toLowerCase()&&(i.trigger(n[e.which]+":keyup"),i.trigger(n[e.which]))}),i}]),DS.service("$ooyala",["$document",function(e){function t(){o.map(function(e){i(e.elementId,e.videoId,e.playerParameters)}),o=[]}function n(e,t){return e.map(function(e){return 0===e.indexOf("/media/")&&(e=t+e),e})}function i(e,t,n){OO.ready(function(){var i=OO.Player.create(e,t,n);setTimeout(function(){!i.isPlaying()&&n.autoplay&&i.play()},1e3)})}function r(t,n){var i=e.createElement("script"),o=t[0];o?e.querySelectorAll('script[src="'+o+'"]').length>0?r(t.slice(1),n):(i.setAttribute("type","text/javascript"),i.setAttribute("src",o),i.onload=function(){r(t.slice(1),n)},e.getElementsByTagName("head")[0].appendChild(i)):n()}var o=[],a="initialized",s="loading",l="loaded",c=a,u="4.4.11",d=["//player.ooyala.com/static/v4/stable/"+u+"/core.min.js","/media/html5-skin.min.js","//player.ooyala.com/static/v4/stable/"+u+"/video-plugin/main_html5.min.js","//player.ooyala.com/static/v4/stable/"+u+"/other-plugin/discovery_api.min.js","//player.ooyala.com/static/v4/stable/"+u+"/ad-plugin/google_ima.min.js"];this.addVideo=function(e,i,u,f){o.push({elementId:e,videoId:i,playerParameters:u}),c===a?(c=s,r(n(d,f),function(){c=l,t()})):c===l&&t()}}]),DS.service("popupService",["$window","$document","screenSize",function(e,t,n){"use strict";var i,r,o;i={fb:{},twit:{width:550,height:572},gplus:{width:520,height:485},pinterest:{width:1015,height:630},tumblr:{width:520,height:312},linkedin:{width:520,height:450}},r=Object.keys(i),o={width:520,height:304},this.findSupportedClass=function(e,t){var n,i,o;for(t=t||[],n=0,i=r.length;n<i;n++)if(o=r[n],e.contains(o)&&t.indexOf(o)===-1)return o},this.popup=function(t,r){var a,s,l,c,u,d,f;i[t]?a=i[t]:(console.warn("Using popup service on a class not supported."),a={}),r.toLowerCase().indexOf("twitter.com/intent")===-1&&(s=a.width||o.width,l=a.height||o.height,c=n.dualScreenLeft(),u=n.dualScreenTop(),d=Math.floor(Math.max(n.getWidth()/2-s/2+c,0)),f=Math.floor(Math.max(n.getHeight()/2-l/2+u,0)),e.open(r,"_blank","width="+s+",height="+l+",top="+f+",left="+d+",menubar=no,toolbar=no,location=no,scrollbars=yes,status=yes"))}}]),DS.service("screenSize",["$window","$document",function(e,t){"use strict";var n=function(){var n=t.documentElement,i=t.body;return e.innerWidth||n.clientWidth||i.clientWidth},i=function(){var n=t.documentElement,i=t.body;return e.innerHeight||n.clientHeight||i.clientHeight},r=function(){return e.screenLeft||0},o=function(){return e.screenTop||0};this.getWidth=n,this.getHeight=i,this.dualScreenLeft=r,this.dualScreenTop=o,this.getScreen=function(){var e=n();return e<600?"mobile":e<1024?"tablet":"desktop"}}]),DS.service("siteLayout",["$document",function(e){"use strict";var t=e.querySelector("body").className,n=e.querySelector('meta[name="application-name"]').getAttribute("content"),i=e.querySelector("body div").id;this.getSite=function(){return t},this.getSiteName=function(){return n},this.getLayout=function(){return i}}]),DS.service("social",["$window","Eventify","algorithms",function(e,t,n){"use strict";function i(){u.trigger.apply(u,["facebook-like"].concat(Array.prototype.slice.call(arguments,0)))}function r(){u.trigger.apply(u,["facebook-unlike"].concat(Array.prototype.slice.call(arguments,0)))}function o(){u.trigger.apply(u,["twitter-follow"].concat(Array.prototype.slice.call(arguments,0)))}function a(){u.trigger.apply(u,["twitter-loaded"].concat(Array.prototype.slice.call(arguments,0)))}function s(){u.trigger.apply(u,["twitter-rendered"].concat(Array.prototype.slice.call(arguments,0)))}function l(){u.trigger.apply(u,["twitter-tweet"].concat(Array.prototype.slice.call(arguments,0)))}function c(){u.trigger.apply(u,["twitter-click"].concat(Array.prototype.slice.call(arguments,0)))}var u=this;t.enable(u),n.when(e,"FB",function(){FB.Event.subscribe("edge.create",i),FB.Event.subscribe("edge.remove",r)}.bind(this)),twttr.ready(function(e){e.events.bind("loaded",a),e.events.bind("rendered",s),e.events.bind("tweet",l),e.events.bind("follow",o),e.events.bind("click",c)})}]),DS.service("visit",["$window","click",function(e,t){"use strict";function n(e){return parseInt(d.getItem(e)||0,10)}function i(){return n(f)}function r(){d.setItem(f,i()+1)}function o(e){d.setItem(h,e)}function a(e){return e-p>n(h)}function s(e){g=a(e)}function l(){g&&r()}function c(){var e=Date.now(),t=!a(e);t&&o(e)}function u(){var e=Date.now();s(e),l(),o(e),t.addHandler(function(e,t){c(),t()})}var d=e.localStorage,f="visitServiceCount",h="visitServicePreviousTimestamp",p=18e5,g=!1;u(),this.extendVisit=c,this.getVisitCount=i,this.isNewVisit=function(){return g}}]),DS.service("visitor",["_","$document","$window","Eventify","nymab","store",function(e,t,n,i,r,o){"use strict";function a(t){return e.reduce(t,function(e,t,n){return e+(e?"&":"?")+encodeURIComponent(n)+"="+encodeURIComponent(t)},"")}function s(e){var n={nyma:e,referer:encodeURIComponent(t.referrer)};r.detection.onDetected(function(){var i=o("forceNymabResponse")||!o("lastSeenNymabResponseOn")&&r.doesClientIdQualifyForResponse(e);n.detectedNymabOn=Date.now(),n.desktopBlock="on",n.nymabMessage="None";var a=t.getElementsByClassName("nymab-response");if(i&&a.length){var s=a[0],c=s.getAttribute("data-variation");s.classList.remove("display-none"),n.nymabMessage=c,o("lastSeenNymabResponseOn",Date.now()),o("lastSeenNymabVariation",c),s.hasAttribute("data-click-to-track")&&(s.removeAttribute("data-click-to-track"),s.click())}l(n)}),r.detection.onNotDetected(function(){n.detectedNoNymabOn=Date.now(),n.desktopBlock="off",o("lastSeenNymabResponseOn")&&!o("nymabConversionOn")&&(n.successfulConversionOn=n.detectedNoNymabOn,n.successfulConversationVariation=o("lastSeenNymabVariation")||"None",o("nymabConversionOn",n.detectedNoNymabOn)),l(n)})}function l(e){var n=t.createElement("IMG"),i=t.getElementById("bottom"),r=a(e);n.src="/eiilmu/pixel.gif"+r,n.style.display="none",i.appendChild(n)}function c(){var e=n.NYM;return e&&e.loginReg&&e.loginReg.clientId}function u(){return p}function d(e){var t=n.NYM;t&&t.setCookie("nyma",e,3650),p=e,g.trigger("clientIdSet",e)}function f(e){var t=u();t?e(t):g.once("clientIdSet",e)}function h(){var e=c(),t=e&&e.length&&e.indexOf(".")>-1;t?d(e):new n.NYMA({excludeJsFonts:!0,excludeFlashFonts:!0,excludeCanvas:!0,excludeWebGL:!0}).get(function(t){e=t+"."+Date.now(),d(e)}),f(s)}var p,g=this;i.enable(g),g.init=h,g.onceClientIdIsReady=f}]),setTimeout(function(){"use strict";var e=DS.get("visitor");e.init()},0),DS.controller("ad-recirc",["$window","$document","_","screenSize","siteLayout",function(e,t,n,i,r){"use strict";var o=t.getElementById("ad-splash"),a=function(e){this._el=e,this._offsetTop=t.getElementById("top"),this._offsetBottom=t.querySelector(".tags"),this._offsetTop=this._offsetTop.offsetTop+this._offsetTop.getBoundingClientRect().height;try{this._offsetBottom=this._offsetBottom.offsetTop-60}catch(n){}this._offsetBottom&&this.init()};return a.prototype={transitionToMostPopular:function(n){o.style.height=o.getBoundingClientRect().height+"px",o.setAttribute("data-old-size",o.style.height),e.setTimeout(function(){o.classList.add("is-transitionable"),n._el.classList.contains("is-relative")||(o.style.height=n._el.querySelector(".ad-recirc-article").getBoundingClientRect().height+"px",o.querySelector(".ad.vp-0-480").classList.add("is-transparent"),n._el.classList.add("is-visible"),n.checkScrollDepthFn=function(){n.checkScrollDepth(n)},t.addEventListener("scroll",n.checkScrollDepthFn,!1),e.G.readOmnitureOnPageView("","",r.getSite()+": article: ad-recirc: sticky-mobile-ad: most-popular-impression"))},3500)},checkFirstScroll:function(n){var i;t.removeEventListener("scroll",n.checkFirstScrollFn,!1),o.classList.add("is-shadowed"),n._el&&(n._topAds[0].childElementCount>0||n._topAds[1].childElementCount>0)?n.transitionToMostPopular(n):i=e.setInterval(function(){(n._topAds[0].childElementCount>0||n._topAds[1].childElementCount>0)&&(n.transitionToMostPopular(n),e.clearInterval(i))},200)},atScrollDepth:function(t,n){var i=e.scrollY;return"<="===n?i<=t:">="===n?i>=t:void 0},testRetractAd:function(n){(n.atScrollDepth(n._offsetTop+10,"<=")||n.atScrollDepth(n._offsetBottom,">="))&&(n.atScrollDepth(n._offsetTop+10,"<=")?e.setTimeout(function(){n._el.classList.add("is-relative")},300):n._el.classList.add("is-relative"),o.classList.remove("is-transitionable"),o.style.height=o.getAttribute("data-old-size"),o.style.top=+o.getAttribute("data-old-size").replace(/px/gi,"")*-1+"px",o.classList.remove("is-shadowed"),t.removeEventListener("scroll",n.checkScrollDepthFn,!1))},setTopAds:function(e){"vulture"===r.getSite()?e._topAds=t.querySelectorAll('#ad-splash > div[data-name*="mobile"]'):e._topAds=t.querySelectorAll('#ad-splash > div[data-name*="Mobile"]')},init:function(){var e=this;e.checkFirstScrollFn=function(){e.checkFirstScroll(e)},e.checkScrollDepth=n.throttle(e.testRetractAd,250),"mobile"===i.getScreen()&&o&&(e.setTopAds(e),t.addEventListener("scroll",e.checkFirstScrollFn,!1))}},a}]),DS.controller("ad-repeat",["$","$window","$document","$module","adService",function(e,t,n,i,r){"use strict";function o(e){if(e){var i=e.getBoundingClientRect(),r=t.pageYOffset||n.documentElement.scrollTop||n.body.scrollTop;return{top:i.top+r,bottom:i.top+i.height+r,height:i.height}}return!1}function a(e){var t,i,r,a,s,l,c,u,d,f=o(e);return!!f&&(t=0,i=0,d={marginTop:0,height:0,heightFilledWithAds:0},a=e.getAttribute("data-top-constraint"),r=n.querySelector('[data-component="'+a+'"]'),s=o(r),s&&(t=s.top,i=s.bottom),c=e.getAttribute("data-bottom-constraint"),l=n.querySelector('[data-component="'+c+'"]'),u=o(l),u&&(i=u.bottom),!(f.top>i)&&(f.top<t&&(d.marginTop=t-f.top,f.top=t),d.height=Math.max(0,i-f.top),d))}function s(e,t){var r,o,a,s,l,c=t.gap,u=t.adHeight,d=t.dimensions,f=t.parentContainer;if(d.height>c){for(r=n.createDocumentFragment(),o=Math.floor(d.height/(c+u)),d.heightFilledWithAds=o*(c+u),a=f.querySelectorAll(".ad").length;a<o;a++)r.appendChild(e.cloneNode(!1),a);for(f.appendChild(r),f.classList.add("visible"),s=f.querySelectorAll(".ad"),a=0;a<s.length;a++)l=s[a],l.getAttribute("id")||i.get("ad",l);f.style.height=d.height/10+"rem",f.style.top=d.marginTop/10+"rem"}}var l=function(t){var i,r,o,l,c,u=getComputedStyle(t);"block"===u.display&&(i=a(t),r=parseInt(t.getAttribute("data-gap")),o=t.querySelector(".ad"),l=parseInt((o.getAttribute("data-sizes")||"0").replace(/[0-9]+x/g,"").split(",").sort(function(e,t){return e-t})[0]),c=o.cloneNode(!1),c.removeAttribute("id"),s(c,{gap:r,adHeight:l,dimensions:i,parentContainer:t}),e(n).on("nym.heightChange",function(){var e=a(t);e.height-i.heightFilledWithAds>=r&&(i=e,s(c,{gap:r,adHeight:l,dimensions:i,parentContainer:t}))}),e(n).on("nym.refreshAdRepeat",function(){c&&(e(t).empty(),i=a(t),s(c,{gap:r,adHeight:l,dimensions:i,parentContainer:t}))}))};return l}]),DS.controller("ad-sticky",["$window","$document","_","$visibility","siteLayout",function(e,t,n,i,r){"use strict";function o(e){var t=e.parentNode,n=document.createElement("div");n.classList.add("ad-sticky-buffer"),n.style.height=0,t.appendChild(n)}function a(e,t){var n="fixed",i=e.parentNode.querySelector(".ad-sticky-buffer"),r=getComputedStyle(e).height;t?(e.classList.add(n),i.style.height=r):(e.classList.remove(n),i.style.height=0)}function s(){this.timer&&(this.observer&&this.observer.disconnect(),a(this.el,!1),e.removeEventListener("scroll",this.throttledScroll))}function l(n){var i,o;o="vulture"===r.getSite()?t.querySelectorAll('.ad-sticky div[data-name*="mobile"]'):t.querySelectorAll('.ad-sticky div[data-name*="Mobile"]'),o&&o.length&&(i=setInterval(function(){(o[0].childElementCount>0||o[1].childElementCount>0)&&(e.clearInterval(i),e.setTimeout(a,1e3,n,!0))},200))}function c(i){var r=i.getAttribute("data-delay"),s=i.getAttribute("data-until-component"),c=i.querySelector(".ad-wrapper"),u=n.throttle(this.onScroll.bind(this),200),d=e.MutationObserver||e.WebKitMutationObserver,f=t.querySelector(".ad-sticky");this.untilComponent=s.length?s:null,this.delay=1e3*parseFloat(r),this.el=i,this.adEl=c,this.beforeTimer=!0,o(i),d&&!this.observer?(this.observer=new d(function(){a(f,!0)}),this.observer.observe(t,{childList:!0,subtree:!0})):l(i),this.throttledScroll=u,e.addEventListener("scroll",u)}return c.prototype.onScroll=function(){var t=(this.el,this.delay),n=this.untilComponent,r=n&&document.querySelector('[data-component="'+n+'"]');this.beforeTimer&&(this.timer=e.setTimeout(s.bind(this),t),this.beforeTimer=!1),r&&i.isElementInViewport(r)&&(s.call(this),e.clearTimeout(this.timer),this.timer=null)},c}]),DS.controller("authorfeed",function(){"use strict";var e=function(e){this.el=e.querySelector(".bio")};return e.prototype={events:{".read-more click":"readMore"},readMore:function(){var e=this.el;e.classList.toggle("show")}},e}),DS.controller("awards-insider",function(){"use strict";var e=document.getElementById("bannerToggle"),t=document.getElementById("dropdownToggle"),n=function(){e.classList.add("collapsed"),t.classList.add("arrow-down")};return n.prototype={events:{".dropdown click":"expand"},expand:function(n){n.preventDefault(),e.classList.toggle("collapsed"),0!==e.offsetHeight?(t.classList.remove("arrow-down"),t.classList.add("arrow-up")):(t.classList.add("arrow-down"),t.classList.remove("arrow-up"))}},n}),DS.controller("beta-messaging",["_","$window",function(e,t){"use strict";var n,i,r,o,a,s;return i=document.querySelector(".beta-messaging"),r=document.querySelector("[data-layout]"),r.style.marginTop=i.scrollHeight/10+"rem",s=t.matchMedia("(min-width: 1024px)"),s.addListener(function(){r.style.marginTop=i.scrollHeight/10+"rem"}),n=function(){},o=function(e){var n=t.scrollY,r=30,o="beta-messaging-scrolled",a="scroll"===e.type,s="click"===e.type;a?n>r&&!i.classList.contains(o)?i.classList.add(o):n<r&&i.classList.contains(o)&&i.classList.remove(o):s&&(e.preventDefault(),i.classList.contains(o)&&i.classList.remove(o))},a=function(e){var n=i.getAttribute("data-site-id"),r=i.getAttribute("data-site-url"),o=new Date,a=8;o.setMonth(o.getMonth()+a),e.preventDefault(),document.cookie=n+"BetaOptOut=true;expires="+o.toUTCString()+";path=/;",t.location=r},t.addEventListener("scroll",e.throttle(o,100)),n.prototype={events:{".beta-messaging-text-outro a click":"minimizeToggle",".beta-messaging-btn-opt click":"optOut"},minimizeToggle:o,optOut:a},n}]),function(){"use strict";var e,t,n,i;n=document.querySelector(".beta-messaging"),n&&(i=n.getAttribute("data-accent"),e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src="//widget.uservoice.com/mKyEyw91EdUMgj8QnJyjvA.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t),e.onload=function(){window.UserVoice=window.UserVoice||[],window.UserVoice.push(["set",{accent_color:i||"#00bcf1",screenshot_enabled:!1,smartvote_enabled:!1,post_suggestion_enabled:!1,strings:{contact_menu_label:"What do you like or dislike about this homepage?",contact_title:"What do you like or dislike about this homepage?",contact_message_placeholder:"Type your answer"}}]),window.UserVoice.push(["addTrigger","#beta-messaging-trigger"])})}(),DS.controller("column-subscribe",["$","$window","$document",function(e,t,n){"use strict";var i=t.localStorage,r="signUpColumnStatus",o=t.sessionStorage,a="signUpColumn",s=e(".column-subscribe"),l=e('meta[property="og:site_name"]').attr("content"),c=s.find('input[name="newsletterId"]').attr("data-tag"),u=s.find('input[name="newsletterId"]').eq(0).val(),d=s.find('input[name="source"]').eq(0).val(),f=function(){var e,n=Object.keys(i),l=[];for(e=0;e<n.length;e++)n[e].indexOf(r+u)>-1&&l.push(n[e]);0===l.length&&(s.addClass("on"),o&&o.setItem(a,"displayed"),setTimeout(function(){s.addClass("fade-in")},1e3)),t.addEventListener("unload",function(){sessionStorage.removeItem(a)})};return s.hasClass("on")&&(t.G?t.G.readOmnitureOnPageView(this,"",l+": article: column-subscribe: "+c+": load"):window.setTimeout(function(){t.G.readOmnitureOnPageView(this,"",l+": article: column-subscribe: "+c+": load")},2e3)),f.prototype={events:{"form submit":"submitForm"},submitForm:function(n){var o,a,f,h=e(n.target),p=h.children(".return-message").first(),g=h.children('input[type="email"]').first(),m=g.val(),v=m.search(/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/i)>=0,y=h.attr("action"),b=y+"?source="+d+"&newsletterId="+u+"&email="+m,w=/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")!==-1,S=e("meta[name=viewport]"),k=S.attr("content"),C=k+",maximum-scale=1, user-scalable=no";f=function(){w&&S.attr("content",C),n.preventDefault()},f(),a=function(e,t){p.text(e).addClass("on"),g.addClass("on"),"success"===t?h.removeClass("error").addClass("success"):h.removeClass("success").addClass("error")},g.focus().keydown(function(){p.removeClass("on"),g.removeClass("on")}),v?e.ajax(b,{error:function(){a("An error occurred. Please try again.","error")},success:function(){var n=e(this).data("success");n&&""!==n||(n="Thank you for signing up!"),a(n,"success"),h.addClass("hide"),setTimeout(function(){s.addClass("fade-out")},2500),setTimeout(function(){s.removeClass("on")},5e3),i&&i.setItem(r+u.toString(),"success"),t.G.readOmnitureOnPageView(this,"",l+": article: column-subscribe: "+c+": sign up")}}):(o=e(this).attr("data-error-msg"),o&&""!==o||(o="Please enter a valid email address",n.preventDefault()),a(o,"error"),n.preventDefault()),n.preventDefault()}},f}]),function(){function e(e,t){var n=new XMLHttpRequest;"string"!=typeof e&&e||(e={method:"GET",url:e}),n.open(e.method,e.url,!0),e.headers&&"object"==typeof e.headers&&Object.keys(e.headers).forEach(function(t){n.setRequestHeader(t,e.headers[t])}),n.send(e.data),n.addEventListener("load",function(n){var i=n.currentTarget||n.target;4===i.readyState&&i.status<400?e.dataType&&"json"==e.dataType?t(null,JSON.parse(i.responseText)):t(null,i):t(i.status)},!1),n.addEventListener("error",function(e){t(e)},!1),n.addEventListener("abort",function(e){t(e)},!1)}function t(){var e={};e.nymag_session_user_id=NYM.readCookie("nymag_session_user_id"),e.nymag_session_user=NYM.readCookie("nymag_session_user"),e.nymag_session=NYM.readCookie("nymag_session");var t="nymag_livefyre_"+NYM.loginReg.livefyreSiteId;return e.livefyreToken=NYM.readCookie(t),e.expires=(new Date).getTime()+432e5,e}function n(e){return e&&e.nymag_session_user_id&&e.nymag_session_user&&e.nymag_session}function i(t,r){if(n(t)){var o={domain:NYM.loginReg.livefyreNetwork,user_id:t.nymag_session_user_id,expires:t.expires,display_name:t.nymag_session_user};o=JSON.stringify(o),e({method:"POST",url:"/livefyre/signature/sign?session_id="+t.nymag_session,headers:{"Content-Type":"application/json; charset=UTF-8"},dataType:"json",data:o},function(e,n){t.livefyreToken=n.token,r(null,t)})}else t.nymag_session_user_id&&isNaN(Number(t.nymag_session_user_id))?e({method:"GET",url:NYM.loginReg.secureDomain+"/livefyre/profile/username/"+nymag_session_user+"/id",dataType:"json"},function(e){t.nymag_session_user_id=e,i(t,r)}):r("Missing NYM credentials")}function r(){document.activeElement.blur();for(var e=document.querySelectorAll("input"),t=document.querySelectorAll("textarea"),n=0;n<e.length;n++)e[n].blur();for(var i=0;i<t.length;i++)t[i].blur()}function o(e,o,a,s){var l=t();if(!n(l)){var c="nymag_livefyre_"+NYM.loginReg.livefyreSiteId;return NYM.eraseCookie(c),e.logout(),void(o&&(r(),NYM.loginReg.loadLoginForm({articleId:a})))}return n(l)&&!l.livefyreToken?void i(l,function(t,n){s?s(null,{livefyre:n.livefyreToken}):e.authenticate({livefyre:n.livefyreToken})}):void(n(l)&&l.livefyreToken&&(s?s(null,{livefyre:l.livefyreToken}):e.authenticate({livefyre:l.livefyreToken})))}function a(){var e="nymag_livefyre_"+NYM.loginReg.livefyreSiteId;NYM.eraseCookie(e);var i=t();n(i)&&NYM.loginReg.logout()}function s(e,t,n){var i,r,o,a,s,l,c,u,d,f,h=0;if(i=n&&n.comment,!i){r=document.getElementsByClassName("fyre-comment-article");for(var p=0;p<r.length;p++)if(r[p].dataset.messageId==e){i=r[p];break}}o=i.querySelector("span.fyre-comment-like-count"),o.childNodes[0]&&o.childNodes[0].nodeValue&&!isNaN(o.childNodes[0].nodeValue)&&(h+=parseInt(o.childNodes[0].nodeValue)),a=i.querySelector(".fyre-comment-like-btn"),s=a&&a.childNodes[0].nodeValue,l="Unlike"===s,c=document.createElement("span"),c.setAttribute("class","fyre-comment-like-msg"),u=l?"You ":"",h>2?(u+=l?"and "+(h-1):h,u+=l?" others like this.":" people like this."):2==h?u+=l?" and 1 other like this.":"2 people like this.":1==h&&(u+=l?" like this.":"1 person likes this."),d=document.createTextNode(u),oldmsg=i.querySelector("span.fyre-comment-like-msg"),oldmsg?oldmsg.childNodes[0].textContent=d.textContent:(f=i.querySelector("span.fyre-comment-like"),c.appendChild(d),f&&f.appendChild(c)),l?a&&a.classList.add("fyre-comment-liked-btn"):a&&a.classList.remove("fyre-comment-liked-btn")}function l(e,t){var n,i,r;if(e.matches)return e.matches(t);for(n=e.parentElement||$document,i=n.querySelectorAll(t),r=0;i[r]&&i[r]!==e;)r++;return!!i[r]}function c(e,t){for(var n=e;n&&!l(n,t);)n=n.parentElement||n.parentNode;return n?n:null}function u(){var e=document.querySelectorAll("span.fyre-comment-like");x=e.length;for(var t=0;t<e.length;t++){var n=c(e[t],"[data-message-id]");n&&s(n.dataset.messageId,!0)}}function d(){var e=document.querySelector("div.fyre-editor");e.setAttribute("class",e.className+" hidden");var t=0,n=document.querySelector("div.fyre-comment-count span");n&&n.childNodes.length>0&&(t=parseInt(n.childNodes[0].nodeValue));var i=new CustomEvent("livefyre-comment-count",{detail:{count:t}});if(document.dispatchEvent(i),t>1){var r=document.querySelector("div.fyre-stream-more-container"),o=r.childNodes[0];o.textContent="Show More"}else{var a=document.createElement("div");a.setAttribute("class","fyre-add-a-comment"),a.onclick=f;var s=document.createTextNode("Add a Comment");a.appendChild(s);var l=document.querySelector("div.fyre-stream-stats");l.appendChild(a)}var c=document.querySelector("div.fyre-stream-content"),d={attributes:!1,childList:!0,characterData:!1},h=new MutationObserver(function(e){e.forEach(function(e){var t=document.querySelectorAll("span.fyre-comment-like");x=t.length,L<x&&(L=x,u())})});h.observe(c,d)}function f(){var e=document.querySelector("div.fyre-editor"),t=document.getElementsByClassName("fyre-auth")[0],n=document.getElementsByClassName("fyre-stream-header")[0];e.className=e.className.replace(/hidden/,""),n.setAttribute("style","display:block;"),t.setAttribute("style","display:block;")}function h(e,t){Livefyre.require(["fyre.conv#3","auth"],function(n,i){i.delegate({login:function(e){o(i,!0,null,e)},logout:function(e){a(),e(null)},viewProfile:function(e){}}),new n(e,[t],function(e){e.on("initialRenderComplete",function(e){d(),u(),S()}),e.on("showMore",function(e){f()}),e.on("commentPosted",function(){try{window.mixpanel.people.increment("Total Comments")}catch(e){}}),o(i,!1,t.articleId),g()})})}function p(){var e=NYM.comments.canonicalUrl,t=NYM.loginReg.livefyreSiteId,n=NYM.comments.articleTitle,i=MD5(e),r={postAsButton:"Post Comment",signIn:"Sign in to comment",postEditButton:"Update",commentCountLabel:"%s Comment",commentCountLabelPlural:"%s Comments",featuredCommentsTag:"Editors' Pick",moderator:"Staff",follow:"+ Follow This Conversation",unfollow:" Unfollow This Conversation",showMore:"Leave a Comment"},o={network:"nymedia.fyre.co"},a={url:e,articleId:i,type:"livecomments",title:n,siteId:t};m(a,function(e){var n={siteId:t,articleId:i,el:"livefyre",collectionMeta:e,disableAvatars:!0,initialNumVisible:1,strings:r,disableThirdPartyAnalytics:!0};h(o,n)})}function g(){var e,t=document.getElementsByClassName("fyre-editor"),n=document.getElementsByClassName("fyre-mention-button");t&&t.length>0&&n&&1==n.length?(t[0].insertAdjacentHTML("beforeend",'<a id=\'testId1\' href="http://nymag.com/newyork/commentguidelines"title="Read our commenting guidelines" target="_blank" class="fyre-editor-links fyre-editor-guidelines">Commenting Guidelines</a>'),t[0].insertAdjacentHTML("beforeend",'<a id=\'testId2\' href="http://community.nymag.com/nymag"title="Problem? Tell us about it" target="_blank" class="fyre-editor-links fyre-editor-problems">Report Problem</a>'),window.clearTimeout(e)):e=window.setTimeout(g,100)}function m(t,n){e({method:"POST",url:"/livefyre/metadata/sign",headers:{"Content-Type":"application/json; charset=UTF-8"},dataType:"json",data:JSON.stringify(t)},function(e,t){collectionMeta=t.token,n(collectionMeta)})}function v(){if(k=document.getElementsByClassName(C),k=k.length>0?k[0]:null,(!k||!T)&&k){var e=k.getBoundingClientRect(),t=window.innerHeight;e.top<t+100&&(T=!0,A.forEach(function(e){e()}))}}function y(){v();var e=window.onscroll;"function"==typeof e?window.onscroll=function(){v(),e()}:window.onscroll=v}function b(){p()}function w(){var e;e=document.createElement("script"),e.src="//cdn.livefyre.com/Livefyre.js",e.onload=b,document.body.appendChild(e)}function S(){var e,t,n,i;e=document.querySelector(".fyre-comment-stream"),e.addEventListener("click",function(e){e.target.classList.contains("fyre-comment-like-btn")?(t=c(e.target,".fyre-comment-article"),s(null,!1,{comment:t})):"fyre-comment-username"===e.target.parentNode.className?(n=e.target.innerText,i="http://my.nymag.com/"+n,window.open(i,"_blank")):e.target.classList.contains("fyre-comment-author-tag")&&(authorTagText=e.target.dataset.fyreAuthorTag,"Vulture Insider"===authorTagText&&(window.open("http://www.vulture.com/insiders","_blank"),window.G.readOmnitureOnPageView("",null,"Vulture: article: comments: insider badge")))})}var k,C="taboola",T=!1,x=0,L=0,A=[];A.push(w),y()}(),DS.controller("contextual-fb-promo",["$window","$document","siteLayout","social",function(e,t,n,i){"use strict";var r=t.querySelector('meta[property="og:title"]').getAttribute("content"),o=[n.getSiteName(),r,"contextual-promo","Facebook"].join(": ");return function(t){i.on("facebook-like",function(){e.G.readOmnitureOnPageView(t,"",o)})}}]),function(){"use strict";if($("body").hasClass("thecut")){var e=$(".cut-feature-nav .nav-mobile"),t=$(".cut-feature-nav .search"),n=t.find(".searchtext"),i=t.find(".text-query"),r=t.find(".search-icon"),o=function(e){e&&e.preventDefault(),n&&n.hide(),t.addClass("on"),i.fadeIn(300).focus()},a=function(){n&&$(window).width()>=1024&&n.stop(!0,!0).delay(300).fadeIn(200),i.hide(),t.removeClass("on")};e.on("click",function(){e.toggleClass("on"),$(".dropdown").toggleClass("on"),$(this).blur()}),t.on("click",function(e){t.hasClass("on")||o(e)}),t.on("keyup",function(e){t.hasClass("on")||9===e.which||(o(e),i.attr("value",String.fromCharCode(e.which).toLowerCase()),i[0].setSelectionRange(1,1))}),r.on("mousedown",function(e){e.stopPropagation(),e.preventDefault()}).on("click",function(e){t.hasClass("on")||o(e)}),i.on("keypress",function(e){e.stopPropagation()}),i.on("blur",function(){a()})}}(),function(){"use strict";function e(e){e&&(i.toggleClass("is-active"),r.toggleClass("menu-open"),t.toggleClass("nav-open"),i.hasClass("is-active")?(o.focus(),t.attr("aria-expanded","true"),n.attr("aria-expanded","true")):(t.attr("aria-expanded","false"),n.attr("aria-expanded","false")))}if($("body").hasClass("thecut")){var t=$("#dt-menu-btn"),n=$("#mobile-menu-btn"),i=$(".cut-header .right"),r=$(".cut-header .left"),o=$("#expanded-nav"),a=$("body"),s=$(".cut-header .nav");t.on("click",e),n.on("click",e),a.on("click",function(t){!$.contains(s[0],t.target)&&t.target!==n&&i.hasClass("is-active")&&e()}),document.onkeydown=function(t){var n=t||window.event;27===n.keyCode&&i.hasClass("is-active")&&e()}}}(),$(".embed").on("click",function(e){$(this).addClass("on").off(e)}),DS.controller("fb-promo",["$","$window",function(e,t){"use strict";function n(e){f.setItem(p+e,g)}function i(e){f.setItem(p+e,m)}function r(e,t){f.setItem(v+e,t)}function o(e,t){h.setItem(y+e,t)}function a(e){return f.getItem(p+e)===g}function s(e){return f.getItem(p+e)===m}function l(e){var t=parseInt(f.getItem(v+e)||0,10),n=parseInt(h.getItem(y+e)||0,10);return n+=1,o(e,n),1!==n||S||(t+=1,r(e,t)),{visits:t,sessionViews:n}}function c(t,n){var i=0,r="scroll.promo"+n,o=e(window);S||o.on(r,function(){i+=1,2!==i||S||(t.className+=w,o.off(r))})}function u(e,t,n){a(t)||s(t)||1===n.visits&&(c(e,t),1===n.sessionViews?(e.className+=" first-view-of-session",setTimeout(function(){e.className+=b},0)):e.className+=b)}var d,f=t.localStorage,h=t.sessionStorage,p="promoStatus",g="success",m="closed",v="promoVisits",y="promoViews",b=" desktop-on",w=" mobile-on",S=t.sessionStorage.getItem("signUpColumn");return d=function(t){if(f||h){var n=t.querySelector("a.fb");n=n?n.getAttribute("data-handle"):null,n&&(this.componentJQ=e(t),this.promoId=n.toString(),this.history=l(this.promoId),u(t,this.promoId,this.history))}},d.prototype={events:{"svg click":"svgClick",".fb-promo > div click":"launchFacebook"},launchFacebook:function(e){var t=this.componentJQ,i=this.promoId,r=function(){t.addClass("exit").removeClass(b+w)};setTimeout(r,2e3),n(i),e.preventDefault()},svgClick:function(){this.componentJQ.addClass("exit").removeClass(b+w),i(this.promoId)}},d}]),function(){var e=780,t=500;$(".follow a").click(function(n){var i=$(this),r=i.data("handle")||"",o=void 0!==window.screenLeft?window.screenLeft:screen.left,a=void 0!==window.screenTop?window.screenTop:screen.top,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,l=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=Math.floor(Math.max(s/2-e/2+o,0)),u=Math.floor(Math.max(l/2-t/2+a,0));i.hasClass("fb")?window.open("https://facebook.com/"+r,"Follow "+r+" on Facebook","width="+e+",height="+t+",top="+u+",left="+c):i.hasClass("twitter")?window.open("https://twitter.com/intent/follow?screen_name="+r+"&tw_p=followbutton&variant=2.0","Follow "+r+" on Twitter","width="+e+",height="+t+",top="+u+",left="+c):i.hasClass("instagram")?window.open("http://www.instagram.com/"+r,"Follow "+r+" on Instagram","width="+e+",height="+t+",top="+u+",left="+c):i.hasClass("pinterest")&&window.open("http://www.pinterest.com/"+r,"Follow "+r+" on Pinterest","width="+e+",height="+t+",top="+u+",left="+c),n.preventDefault()})}(),function(){"use strict";if($("body").hasClass("grubstreet")){var e=$(".gs-nav"),t=e.find(".search"),n=e.find(".text-query"),i=e.find(".nav-mobile"),r=e.find(".primary-nav"),o=e.find(".search-icon"),a=$(window),s=$("#article").length>0,l=function(e){e&&e.preventDefault(),a.width()<899.9?(t.addClass("on"),n.fadeIn(300).focus()):s&&t.addClass("on")},c=function(){a.width()<899.9?(n.hide(),t.removeClass("on")):s&&t.removeClass("on")};t.on("click.toggleSearch touchend.toggleSearchTouch",function(e){!t.hasClass("on")&&(a.width()<899.9||s)&&l(e)}).on("keyup",function(e){!t.hasClass("on")&&9!==e.which&&(a.width()<899.9||s)&&(l(e),n.attr("value",String.fromCharCode(e.which).toLowerCase()),n[0].setSelectionRange(1,1))}),o.on("mousedown",function(e){e.stopPropagation(),e.preventDefault()}).on("click",function(e){!t.hasClass("on")&&(a.width()<899.9||s)&&l(e)}),n.on("keypress",function(e){e.stopPropagation()}).on("focus",function(){disableZoom&&disableZoom(null),n.prop("placeholder","")}).on("blur",function(){enableZoom&&enableZoom(null),n.prop("placeholder","Search"),c()}),e.find(".newsletter").on("click",function(e){
$(this).parents().siblings(".sign-up").first().addClass("on"),e.preventDefault()}),e.find("input[type='email']").on("focus",function(){$(this).prop("placeholder","")}).on("blur",function(){$(this).prop("placeholder","Enter your email")}),i.on("click.mobileNavClick touchend.mobileNavTouch",function(e){e.preventDefault(),n.blur(),i.toggleClass("on"),r.toggleClass("on")})}}(),DS.controller("header-strategist",[function(){function e(e){this.mobileNavButton=e.querySelector(".nav-mobile"),this.mobileNav=e.querySelector(".primary-nav")}return e.prototype={events:{".nav-mobile click":"toggleNav"},toggleNav:function(){var e=this.mobileNav,t=this.mobileNavButton;e.classList.toggle("on"),t.classList.toggle("on")}},e}]),function(){"use strict";function e(e){var t,n,i,r,o,a,s,l,u;t=1015,n=630,i=void 0!==window.screenLeft?window.screenLeft:screen.left,r=void 0!==window.screenTop?window.screenTop:screen.top,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,s=Math.floor(Math.max(o/2-t/2+i,0)),l=Math.floor(Math.max(a/2-n/2+r,0)),u="//pinterest.com/pin/create/button/?url="+document.location+"%3Fmid%3Dpinterest-img-share-"+c+"&"+$(this).attr("data-href"),window.open(u,"_blank","width="+t+",height="+n+",top="+l+",left="+s+",menubar=no,toolbar=no,location=no,scrollbars=yes,status=yes"),e.preventDefault()}function t(e){var t,n,i,r,o,a,s;i=e.target,r=i.parentNode.parentNode.parentNode.parentNode.querySelector("img"),t=document.querySelector('meta[property="og:url"]').getAttribute("content"),n=document.querySelector('meta[property="og:title"]').getAttribute("content"),o=r&&r.src,s=(t.indexOf("?")!==-1?"&":"?")+"mid=fb-image-share-",o||(o=document.querySelector('meta[property="og:image"]').getAttribute("content")),a=document.querySelector('meta[property="og:description"]').getAttribute("content"),"//"===o.substr(0,2)&&(o="http:"+o),FB.ui({method:"feed",link:t+s+c,picture:o,name:n,caption:" ",description:a},function(e){}),e.preventDefault()}var n,i,r,o,a,s,l,c;o=$(window),a=$("html"),s=$("body"),l=document.querySelector("figure[data-site-id]"),c=l?l.getAttribute("data-site-id"):"",r=$(".img"),n=r.find(".buffer"),n&&n.length>0&&0===n.position().left&&n.hide(),i=function(e,t){return e===t?"square":e>t?"horizontal":e<t?"vertical":void 0},r.find(".pinterest").on("click",e),r.find(".fb").on("click",t),r.find(".enlarge").on("click",function(){function n(){var e,t,n,r,a,s;return e=o.width(),t=o.height(),n=i(l,c),r=i(e,t),a=e,s=t,"square"===n&&n===r||(l>c?s=Math.round(c*e/l):a=Math.round(l*t/c)),{width:a,height:s}}var r,l,c,u,d,f,h,p,g,m;m=$(this),a.addClass("overlay"),r=m.parents(".img").find("img"),l=r.width(),c=r.height(),u=m.parents(".img").clone().removeClass().addClass("img enlarged overlayed"),d=u.find('[itemprop="contentUrl"]').attr("src"),f=n(),h=f.width,p=f.height,d=d.replace(/\.w[0-9]*\./,".w"+h+"."),d=d.replace(/\.h[0-9]*\./,".h"+p+"."),g=new Image,g.onload=function(){function n(){var e,t,n,i,r,a;e=parseInt(g.height),t=parseInt(g.width),n=e/t,i=o.height()*f,e>i?(r=i,a=Math.round(r/n)):t>c&&(a=c,r=Math.round(a*n)),a>c&&(a=c,r=c*n),r&&a&&l.css({height:r+"px",width:a+"px"})}var i,r;s.prepend(u),u.find(".pinterest").on("click",e),u.find(".fb").on("click",t),i=$(".enlarged"),r=i.find('[itemprop="contentUrl"]'),i.find("figcaption").appendTo(i.find("div")),r.attr("src",d),r.removeAttr("srcset"),i.css("top",o.scrollTop());var l=r.parent(),c=parseInt(l.css("maxWidth"))||0,f=(parseInt(l.css("maxHeight"))||90)/100;l.css("maxHeight").indexOf("%")===-1&&(f=.9),n(),o.on("resize.enlarge",function(){n()}),r.css("opacity",1),$(".enlarged, .enlarged .close").on("click",function(e){($(e.currentTarget).hasClass("close")||$(e.currentTarget).hasClass("enlarged"))&&($(".overlayed").remove(),a.removeClass("overlay"),o.off("resize.enlarge"))})},g.src=d+"?v="+Math.random()})}(),DS.controller("img-block",["$visibility",function(e){"use strict";var t=function(t){var n;n=new e.Visible(t,{shownThreshold:.2}),n.on("shown",function(){this.el.classList.contains("invisible")&&(this.el.classList.add("viewable"),this.el.classList.remove("invisible"))})};return t.prototype={},t}]),DS.controller("img-group",["$visibility",function(e){"use strict";var t=function(t){var n;n=new e.Visible(t,{shownThreshold:.2}),n.on("shown",function(){this.el.classList.contains("invisible")&&(this.el.classList.add("viewable"),this.el.classList.remove("invisible"))})};return t.prototype={},t}]),DS.controller("interactive-lists",["$","_","$document","$window","siteLayout","screenSize",function(e,t,n,i,r,o){"use strict";function a(t){e.ajax({type:"POST",url:"http://www.vulture.com/account/vote/quiz",data:JSON.stringify(t),contentType:"application/json"})}function s(e,t,n,i){var r,o,a,s,l=0;for(a=0;a<t;a++){var c=e[a].name,u=Math.round(e[a].percentage),d=!1;for(l++,o=u===r?'<span class="tie">Tie!</span>':l,s=0;s<i.length;s++)i[s]===c&&(d=!0);a<10?d===!0?n.append('<li><span class="display-count">'+o+'</span><p class="user-selection"><span class="user-pick">'+c+'</span><span class="your-pick">Your pick</span></p><div class="percent-bar" style="width: '+u+'%;"></div></li>'):n.append('<li><span class="display-count">'+o+'</span><p class="user-selection"><span class="user-pick">'+c+'</span></p><div class="percent-bar" style="width: '+u+'%;"></div></li>'):d===!0?n.append('<li class="full-list"><span class="display-count">'+o+'</span><p class="user-selection"><span class="user-pick">'+c+'</span><span class="your-pick">Your pick</span></p><div class="percent-bar" style="width: '+u+'%;"></div></li>'):n.append('<li class="full-list"><span class="display-count">'+o+'</span><p class="user-selection"><span class="user-pick">'+c+'</span></p><div class="percent-bar" style="width: '+u+'%;"></div></li>'),r=u}}function l(t,n,i,r){var o="http://www.vulture.com/account/vote/quiz?uid="+n+"&qid="+i;console.log(o),e.ajax({type:"GET",url:o,contentType:"application/json",success:function(n){var i=n.result.rankings[0].ranking,o=i.length,a=e(".top-3-results > ol"),l=t.querySelector(".see-full-list");o<10?s(i,o,a,r):(s(i,o,a,r),l.classList.remove("none"))},error:function(){console.log("Error")}})}var c=(r.getSiteName()+": interactive-lists: ",n.querySelector('link[rel="canonical"]').getAttribute("href")||"",!1),u=[],d=e("meta[name=viewport]"),f=d.attr("content"),h=f+",maximum-scale=1, user-scalable=no",p=function(e){this.uid=NYM.readCookie("optimizelyEndUserId")||Math.floor(8*Math.random()).toString(),this.qid=e.getAttribute("data-qid"),this.tag=e.getAttribute("data-tag"),this.listType=e.getAttribute("data-type"),this.listStyle=e.getAttribute("data-style"),"italic"===this.listStyle&&e.classList.add("italic"),this.top3=e.querySelector(".top-3"),this.resultEl=e.querySelector(".results"),this.shareUrl=n.querySelector('meta[property="og:url"]').getAttribute("content"),this.shareTitle=n.querySelector('meta[property="og:title"]').getAttribute("content"),this.shareImg=n.querySelector('meta[property="og:image"]').getAttribute("content"),this.el=e};return p.prototype={events:{".interactive-lists select click":"mobileFocus",".interactive-lists select change":"unhideSubmit",".submit click":"submitClick",".results .see-full-list click":"showFullList",".twitter-share click":"shareToTwitter",".fb-share click":"shareToFacebook"},mobileFocus:function(){"mobile"===o.getScreen()&&d.attr("content",h)},unhideSubmit:function(e){var t=this.el,n=t.querySelector(".submit");e.target;n.classList.remove("disabled")},submitClick:function(i){var r,s=this.el,c=this.top3,d=this.resultEl,f=c.querySelectorAll("select"),h=(i.target,e("html,body")),p=[],g=parseInt(c.getAttribute("data-level")),m=this.uid,v=this.qid,y=this.tag;i.preventDefault(),"mobile"===o.getScreen()&&h.animate({scrollTop:s.getBoundingClientRect().top+n.body.scrollTop-100},"fast"),t.map(f,function(e){var t=e.options[e.selectedIndex].value;if(""!==t){var n=parseInt(e.getAttribute("data-weight")),i={name:t,weighted:n};p.push(i),u.push(t)}}),r={uid:m,qid:v,votes:p,level:g,tag:y},a(r),c.classList.add("none"),d.classList.remove("none"),l(s,m,v,u)},showFullList:function(i){var r=this.el,a=r.querySelectorAll(".full-list"),s=r.querySelector(".see-full-list"),l=r.querySelector(".see-full-list span"),u=e("html,body");i.target;c===!1?(c=!0,t.map(a,function(e){e.style.display="block",s.classList.add("up"),l.innerHTML="Hide full list"})):(c=!1,"mobile"===o.getScreen()&&u.animate({scrollTop:r.getBoundingClientRect().top+n.body.scrollTop-100},"fast"),t.map(a,function(e){e.style.display="none",s.classList.remove("up"),l.innerHTML="Show full list"}))},shareToTwitter:function(t){var n,r=this.el,o=this.tag,a=u[0],s=u[1],l=u[2],c=this.shareUrl,d=u.length;r.querySelector(".twitter-share");switch(t.preventDefault(),d){case 3:n="My top three "+o+" are "+a+", "+s+" and "+l+". What are yours? "+c;break;case 2:n="My top "+o+" picks are "+a+" and "+s+". What are yours? "+c;break;case 1:n="My top "+o+" pick is "+a+". Whats yours? "+c}i.open("http://twitter.com/intent/tweet?source=tweetbutton&text="+encodeURIComponent(n),"Tweet Your Score","width=600,height=300,left="+Math.ceil(e(window).width()/2-300)+",top="+Math.ceil(e(window).height()/2-127))},shareToFacebook:function(e){var t,n=this.el,i=this.tag,r=u[0],o=u[1],a=u[2],s=this.shareUrl,l=u.length,c=n.querySelector(".fb-share"),d=(c.getAttribute("data-track-custom"),this.shareTitle),f=this.shareImg;switch(e.preventDefault(),l){case 3:t="My top three "+i+" are "+r+", "+o+" and "+a+". What are yours?";break;case 2:t="My top "+i+" picks are "+r+" and "+o+". What are yours?";break;case 1:t="My top "+i+" pick is "+r+". Whats yours?"}FB.ui({method:"feed",link:s,picture:f,name:d,caption:" ",description:t})}},p}]),"undefined"==typeof NYM&&(NYM={}),NYM.interstitial=function(){function e(e,t,n){var i=(new Date).getTime(),r=setInterval(function(){var o=e-((new Date).getTime()-i);o<=0?(clearInterval(r),n()):t(Math.floor(o/1e3))},100)}function t(){o.addClass("close").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).remove()})}function n(e){c=1e3*e+2300}function i(){setTimeout(function(){o.addClass("show"),setTimeout(function(){a.addClass("show")},700)},1e3),e(c>0?c:23e3,function(e){s.html(e)},function(){u||t()})}function r(){o.trigger("click.interacted")}var o=$(".interstitial"),a=o.find("section"),s=o.find(".seconds"),l=o.find("button"),c=0,u=!1;return l.on("click",function(){t(),ga("send","event","Ads, Interstitial","Close Button")}),o.on("click.interacted",function(){u=!0,a.find("span").css("visibility","hidden"),ga("send","event","Ads, Interstitial","Interacted With")}),{showAd:i,setDuration:n,setClicked:r}}(),function(){if($(".latest-news")){var e=$(".latest-news"),t=e.find("button"),n=$(window),i=$(document),r=function(){var n=e.find("div[hidden]");n.first().removeAttr("hidden"),1!==n.length&&0!==n.length||(t.remove(),clearInterval(o))},o=setInterval(function(){!t.is(":visible")&&n.scrollTop()>i.height()-2.5*n.height()&&n.width()>=800&&r()},500);t.on("click",r)}}(),DS.controller("lede-rotator",["$",function(e){function t(e){for(;e&&1!==e.nodeType;)e=e.nextSibling;return e}function n(e){for(var n=e.parentNode,i=t(n.firstChild),r=0;i!==e;)r++,i=t(i.nextSibling);return r}function i(e){e.offsetParent.scrollLeft=e.offsetLeft}function r(t){var n=t.offsetWidth,i=t.offsetLeft-t.offsetParent.scrollLeft,r=i/(Math.abs(i)||1),o=Math.floor(Math.max(Math.abs(i/n)-1,0))*r;Math.abs(i)>n&&(t.offsetParent.scrollLeft+=o*n),e(t.offsetParent).animate({scrollLeft:t.offsetLeft},100)}function o(e){e.parentNode.querySelector("."+l).className="",e.className=l}function a(e){for(var n=e.querySelectorAll("a"),i=n[0],r=i.offsetParent;i&&i.offsetLeft<=r.scrollLeft;)i=t(i.nextSibling);return i||(i=n[0]),i}function s(e){for(var n=e.querySelectorAll("a"),i=n[0],r=i.offsetParent;i&&i.offsetLeft+i.offsetWidth/2<=r.scrollLeft;)i=t(i.nextSibling);return i}var l="active",c=function(e){this.el=e,this.rotationInterval=6e3,this.container=e.querySelector(".link-container"),this.resetInterval()};return c.prototype={events:{".controls > * click":"onControlClick",".link-container mouseover":"resetInterval",".link-container scroll":"onScroll"},resetInterval:function(){var e=this.el,t=this.interval;t&&clearInterval(t),this.interval=setInterval(function(){var t=a(e),o=n(t);0===o?i(t):r(t)},this.rotationInterval)},onControlClick:function(e){var t=this.el,i=e.target,o=n(i),a=t.querySelectorAll("a")[o];r(a)},onScroll:_.throttle(function(e){var t=s(this.el),i=n(t),r=this.el.querySelectorAll(".controls > *")[i];o(r),this.resetInterval(),this.onScrollEnd(e)},50),onScrollEnd:_.debounce(function(){var e=s(this.el);r(e),this.resetInterval()},100)},c}]),!function(e,t){$.fn.jqm=function(e){var t=$.extend({},$.jqm.params,e);return this.each(function(){var e=$(this),n=$(this).data("jqm");n||(n={ID:f++}),e.data("jqm",$.extend(t,n)).addClass("jqm-init"),t.trigger&&$(this).jqmAddTrigger(t.trigger)})},$.fn.jqmAddTrigger=function(e){return this.each(function(){s($(this),"jqmShow",e)||n("jqmAddTrigger must be called on initialized modals")})},$.fn.jqmAddClose=function(e){return this.each(function(){s($(this),"jqmHide",e)||n("jqmAddClose must be called on initialized modals")})},$.fn.jqmShow=function(e){return this.each(function(){!this._jqmShown&&i($(this),e)})},$.fn.jqmHide=function(e){return this.each(function(){this._jqmShown&&r($(this),e)})};var n=function(e){t.console&&t.console.error&&t.console.error(e)},i=function(e,n){var i=e.data("jqm"),n=n||t.event,r=parseInt(e.css("z-index")),r=r>0?r:3e3,o=$("<div></div>").addClass(i.overlayClass).css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":r-1,opacity:i.overlay/100}),a={w:e,c:i,o:o,t:n};if(e.css("z-index",r),i.ajax){var s=i.target||e,c=i.ajax;s="string"==typeof s?$(s,e):$(s),"@"==c.substr(0,1)&&(c=$(n).attr(c.substring(1))),s.html(i.ajaxText).load(c,function(){i.onLoad&&i.onLoad.call(this,a),l(a)})}else l(a)},r=function(e,n){var i=e.data("jqm"),n=n||t.event,r={w:e,c:i,o:e.data("jqmv"),t:n};c(r)},o=function(e){return e.c.overlay>0&&e.o.prependTo("body"),e.w.show(),$.jqm.focusFunc(e.w),!0},a=function(e){return e.w.hide()&&e.o&&e.o.remove(),!0},s=function(e,t,n){return!!e.data("jqm")&&$(n).each(function(){this[t]=this[t]||[],this[t].push(e)}).click(function(){var e=this;return $.each(this[t],function(n,i){i[t](e)}),!1})},l=function(e){var t=e.w,n=e.o,i=e.c;i.onShow(e)!==!1&&(t[0]._jqmShown=!0,i.modal?(!h[0]&&u("bind"),h.push(t)):t.jqmAddClose(n),i.closeClass&&t.jqmAddClose($("."+i.closeClass,t)),i.toTop&&n&&t.before('<span id="jqmP'+i.ID+'"></span>').insertAfter(n),t.data("jqmv",n))},c=function(e){var t=e.w,n=e.o,i=e.c;i.onHide(e)!==!1&&(t[0]._jqmShown=!1,i.modal&&(h.pop(),!h[0]&&u("unbind")),i.toTop&&n&&$("#jqmP"+i.ID).after(t).remove())},u=function(e){$(document)[e]("keypress keydown mousedown",d)},d=function(e){var t=$(e.target).data("jqm")||$(e.target).parents(".jqm-init:first").data("jqm"),n=h[h.length-1].data("jqm");return!(!t||t.ID!=n.ID)||$.jqm.focusFunc(n)},f=0,h=[];$.jqm={params:{overlay:50,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:!1,target:!1,ajaxText:"",modal:!1,toTop:!1,onShow:o,onHide:a,onLoad:!1},focusFunc:function(e){return $(":input:visible:first",e).focus(),!1}}}(jQuery,window);var lbPop=function(e){function t(){return n.jqmHide(),n.remove(),!1}if(!($(window).width()<800)){e=$.extend({name:null,height:null,width:null,divClass:"light-box lbPop",url:null,bg:!0,closeBtn:!1,htmlText:null,overlay:50,overlayBG:null},e||{});$("body");if(e.name||e.height||e.width||e.url||e.htmlText){var n=$("#lb-"+e.name),i=0;window.scrollY?(i=window.scrollY+(window.innerHeight-e.height)/2,i=i<window.scrollY?window.scrollY:i):(i=document.documentElement.scrollTop+(document.documentElement.clientHeight-e.height)/2,i=i<document.documentElement.scrollTop?document.documentElement.scrollTop:i),i<23&&(i=23),e.closeBtn&&(i+=17),n.length||(n=$("<div>").attr("id","lb-"+e.name).addClass(e.divClass).css({height:e.height,width:e.width}),e.bg||n.css({"background-color":"transparent","-moz-box-shadow":"none","-webkit-box-shadow":"none","box-shadow":"none"}),e.htmlText&&n.append(e.htmlText),n.prependTo("body").hide().jqm({overlay:50,overlayClass:"jqmOverlay",onShow:function(i){var r=($(window).width()-e.width)/2;if(r=r<0?0:r,n.css({left:r}),i.w.css("z-index",99999999),i.w.show(),i.o.prependTo("body"),i.o.css({background:"#222","z-index":99999998}),!n.html().length){var o=!1;n.load(e.url,function(){o=!0;var i,r,a=$(this);if(e.dfp){i=new RegExp("(\\%\\%CACHEBUSTER\\%\\%|\\[TIMESTAMP\\])","ig"),r=+new Date;var s=a.find("#intercept-contain a");s.attr("href",e.dfp.clickUrl+s.attr("href").replace(i,r));var l=a.find("#IMPRESSION");l.attr("data-src")?l.attr("src",e.dfp.viewUrl+l.attr("data-src").replace(i,r)):l.attr("src",e.dfp.viewUrl+l.attr("src").replace(i,r)),e.dfp.secondTracker&&a.find("#IMPRESSION2").attr("src",e.dfp.secondTracker)}a.css("background-image","none"),e.closeBtn&&(n.append("<a class='gen-close' href='#'>close</a>"),$("a.gen-close",n).click(function(){t()}).on("keypress.escapeLightboxKey",function(e){27===e.keyCode&&t()})),$(".jqmOverlay").on("click",function(){t()})}),setTimeout(function(){if(!o){o=!0;var i,r,a=n;if(e.dfp){i=new RegExp("(\\%\\%CACHEBUSTER\\%\\%|\\[TIMESTAMP\\])","ig"),r=+new Date;var s=a.find("#intercept-contain a");s.attr("href",e.dfp.clickUrl+s.attr("href").replace(i,r));var l=a.find("#IMPRESSION");l.attr("data-src")?l.attr("src",e.dfp.viewUrl+l.attr("data-src").replace(i,r)):l.attr("src",e.dfp.viewUrl+l.attr("src").replace(i,r)),e.dfp.secondTracker&&a.find("#IMPRESSION2").attr("src",e.dfp.secondTracker)}a.css("background-image","none"),e.closeBtn&&(n.append("<a class='gen-close' href='#'>close</a>"),$("a.gen-close",n).click(function(){t()}).on("keypress.escapeLightboxKey",function(e){27===e.keyCode&&t()})),$(".jqmOverlay").on("click",function(){t()})}},1e3)}}})),n.css({top:i}),n.jqmShow()}}};DS.controller("list",["_","$window","$document","$","adService",function(e,t,n,i,r){"use strict";function o(t){e.each(t.querySelectorAll(".ad"),function(e,t){I[4+10*t]=e.id})}function a(t){e.each(t.querySelectorAll(".ad"),function(e){e.classList.add(x),r.remove(r.getById(e.id))})}function s(e,t){var n=e.parentNode.removeChild(t);e.parentNode.insertBefore(n,e.nextSibling)}function l(t){a(t),e.each(t.querySelectorAll(D+":not(."+x+")"),function(e,n){I[n]&&(s(e,t.querySelector("#"+I[n])),t.querySelector("#"+I[n]).classList.remove(x),r.refresh(r.getById(I[n])))})}function c(t,n){n?(t.querySelector("."+L).classList.add(A),e.each(document.querySelectorAll("."+M),function(e){e.classList.remove(x)})):(t.querySelector("."+L).classList.remove(A),e.each(document.querySelectorAll("."+M),function(e){e.classList.add(x)}))}function u(t,n){var i;e.any(t.querySelectorAll(D),function(t){i=!1,e.any(t.querySelectorAll(".tag"),function(e){e.attributes[C]&&e.attributes[C].value===n&&(i=!0)}),i?t.classList.remove(x):t.classList.add(x)})}function d(e){var t=e.querySelector(".filter-widget ul").lastElementChild.cloneNode(!0);t.classList.add("filter-padding"),e.querySelector(".filter-widget ul").appendChild(t)}function f(t){e.each(t.querySelectorAll(D),function(e){e.classList.remove(x)})}function h(e){var n=e.querySelector("."+L);i(n).height()>i(t).height()?(c(e,!0),t.scrollTo(0,i(e).offset().top+1)):c(e,!1)}function p(e){i("html, body").animate({scrollTop:i(e).offset().top+1},500)}function g(e,t,n){t&&(t=t.toLowerCase(),v(e,e.querySelectorAll("section"),function(e){return parseInt(i(e).attr("data-"+t),10)},!!n))}function m(e,t){var n=e.parentNode,i=e.nextSibling===t?e:e.nextSibling;t.parentNode.insertBefore(e,t),n.insertBefore(t,i)}function v(e,t,n,r){r=!!r;var o,a,s,l,c,u,d,f=i(e),h=f.find(t),p=h.length;for(u=0;u<p;u++){for(a=n(h[u]),o=a,l=u,d=l+1;d<p;d++)s=n(h[d]),s<o!==r&&(o=s,l=d);l!==u&&(m(h[u],h[l]),c=h[u],h[u]=h[l],h[l]=c)}}function y(e,t){e.querySelector("."+E).classList.remove(E),t.classList.add(E),e.querySelector(".drop-down-selected").textContent=t.textContent}function b(e){e.querySelector(".drop-down").classList.remove(_),e.querySelector("ul").classList.add(T),c(e,!1)}function w(e){var t,n;t=new MutationObserver(function(t){n=t.pop(),n.oldValue.indexOf("filter-full-screen")!==-1&&n.oldValue.indexOf("fixedsticky-on")===-1?b(e):1===n.oldValue.split(" ").length&&b(e)}),t.observe(e.querySelector(".fixedsticky"),{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]})}var S,k="data-filter-by-tag",C="data-list-tag",T="hidden-menu",x="hidden",L="fixedsticky",A="filter-full-screen",E="filter-selected",M="filter-padding",D="section",N="drop-down",_="drop-down-open",I={};return S=function(e){this.el=e,i(e).find("."+L).fixedsticky&&i(e).find("."+L).fixedsticky(),d(e),d(e),o(e),MutationObserver&&w(e)},S.prototype={events:{".drop-down click":"toggleFilterDropDown","[data-filter-by-tag] click":"filterByTag"},toggleFilterDropDown:function(){var e=this.el;e.querySelector("."+N).classList.toggle(_),e.querySelector("ul").classList.toggle(T),e.querySelector("."+N).classList.contains(_)?h(e):c(e,!1)},setVisibleIndexToCurrentOrdering:function(){var e=i(this.el);e.find(D+":visible").each(function(e){i(this).find("span.index").text(e+1)})},filterByTag:function(e){var t=e.currentTarget.attributes[k].value,n=this.el;e.preventDefault(),y(n,e.currentTarget),b(n),p(n),g(n,"index"),"none"===t?f(n):u(n,t.toLowerCase()),l(n),this.setVisibleIndexToCurrentOrdering()}},S}]),DS.controller("minimal-nav",["$","siteLayout","$window",function(e,t,n){"use strict";var i=function(e){this.shareUrl=e.getAttribute("data-share-url"),this.shareTitle=e.getAttribute("data-share-title"),this.shareImg=e.getAttribute("data-share-img")};return i.prototype={events:{".twitter-nav click":"shareToTwitter",".fb-nav click":"shareToFacebook"},shareToTwitter:function(t){var i,r=this.shareUrl,o=this.shareTitle;t.preventDefault(),i=o+" @nymag "+r,n.open("http://twitter.com/intent/tweet?source=tweetbutton&text="+encodeURIComponent(i),"Tweet Your Score","width=600,height=300,left="+Math.ceil(e(window).width()/2-300)+",top="+Math.ceil(e(window).height()/2-127))},shareToFacebook:function(e){var n,i=this.shareUrl,r=this.shareTitle,o=this.shareImg;e.preventDefault(),"oneblock"===t.getSite()&&(n="This is the story of One Block in Bed-Stuy, Brooklyn."),FB.ui({method:"feed",link:i,picture:o,name:r,caption:" ",description:n})}},i}]),DS.service("mixpanelService",["$window","$document","_","visitor","visit","click",function(e,t,n,i,r,o){"use strict";function a(){return!!(e.NYM&&e.NYM.loginReg&&e.NYM.loginReg.isLoggedInUser())}function s(e,t){var n={};n[e]=t,F.register(n)}function l(e,t){s(e,(F.get_property(e)||0)+(t||1))}function c(e,t){l(e,t),a()&&F.people.increment(e,t)}function u(e,t){return e&&e.getAttribute(t)||""}function d(e,t,i){return n.includes(i,t)&&!n.includes(e,t)&&e.push(t),e}function f(e,t){return function(n,i){return d(n,u(e,i),t)}}function h(e,t){var i=[],r=e.getAttribute("data-route-name"),o=n.reduce(i,f(t,j),[]);return d(o,r,j)}function p(e){return e?e.split(","):[]}function g(e){return p(e.getAttribute("data-tags"))}function m(e){return p(e.getAttribute("data-author"))}function v(e){return parseInt(e.getAttribute("data-length-int"),10)}function y(e){return"Sponsored"===e.getAttribute("data-source")}function b(){var e=t.querySelector('meta[property="og:title"]');return e?e.content:t.title}function w(){return"visible"===t.visibilityState}function S(e){var n;w()?e():t.addEventListener("visibilitychange",function(){!n&&w()&&(n=!0,e())})}function k(){return n.includes(F.get_property("Page Labels"),B)}function C(){S(function(){c("Total Page Views"),k()&&c("Total Article Views"),r.isNewVisit()?(c(H),s($,1),F.track("Visit")):l($),F.track("Page Viewed")})}function T(e,t){return Math.floor((t-e)/864e5)}function x(e){var t=parseInt(e.substr(e.indexOf(".")+1),10);return t||(t=0),t}function L(e){switch(e.getDay()){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}}function A(e,t,n,i){t?n[e]=!0:i[e]=!1}function E(e){return!n.isEmpty(e)||n.isBoolean(e)||n.isNumber(e)&&!n.isNaN(e)}function M(e,t,n){return E(n)?e[t]=n:F.unregister(t),e}function D(e){return n.reduce(e,function(e,t,n){return E(t)&&(e[n]=t),e},{})}function N(e){var t={},n={};n["First Visit Date"]=e.firstVisitISOString,A("Registered User",e.isLoggedIn,t,n),F.identify(e.clientId),F.people.set(t),F.people.set_once(n)}function _(e){return 1===e.visitCount&&e.firstVisitTimestamp>e.now.getTime()-1728e5}function I(t){var n=t.el,i=t.om,r=t.now,o=t.firstVisitTimestamp,a={};a.Day=L(r),a.debug=!0,a.Domain=e.location.hostname,a.Hour=r.getHours(),a.Site=n.getAttribute("data-site"),a.nyma=t.clientId,a["First Visit Date"]=t.firstVisitISOString,a["Registered User"]=t.isLoggedIn,a["Is New Visit"]=t.isNewVisit,M(a,"Authors",m(i)),M(a,"Days Since First Visit",T(o,r.getTime())),M(a,"Factory Layout",n.getAttribute("data-layout")),M(a,"First Time User",_(t)),M(a,"Page Labels",h(n,i)),M(a,"Paid Content",y(i)),M(a,"Tags",g(i)),M(a,"Title",b()),M(a,"Word Count",v(i)),F.register(a)}function O(e,t,n){var i=x(n),o={clientId:n,el:e,om:t,now:new Date,firstVisitTimestamp:i,firstVisitISOString:new Date(i).toISOString(),visitCount:r.getVisitCount(),isNewVisit:r.isNewVisit(),isLoggedIn:a()};I(o),o.isLoggedIn&&N(o)}function q(){return t.querySelector('[data-component="omniture"]')}function R(t,n,i){O(t,n,i),C(t,n),e.addEventListener("trackPageView",function(){C(t,n)},!1),o.addHandler(function(e,t){var n={};e.hasDataTrack?(n["Component Name"]=e.componentName,n["Link Text"]=e.linkText,n["Link URL"]=e.linkUrl,n.pageX=e.e&&e.e.pageX,n.pageY=e.e&&e.e.pageY,F.track("Click",D(n),t)):t()})}var F,P,B="Article",j=["Homepage","Index","Archive","Tags","Author","Runway Show",B,"Search","Slideshow"],H="Total Visits",$="Page Views in Visit";this.initOnce=function(t){var n=q();F=e.mixpanel,!P&&n&&F&&(P=!0,i.onceClientIdIsReady(function(e){R(t,n,e)}))}}]),DS.controller("mixpanel",["mixpanelService",function(e){"use strict";return function(t){e.initOnce(t)}}]),DS.controller("most-recent",["$",function(e){"use strict";function t(){s.slice(n,i).filter(":visible").each(function(t,n){var i=e(n);(t+1)%11===0&&(c.removeAttr("hidden"),i.after(c[a]),a++)}),n+=22,i+=22}var n=0,i=25,r=25,o=50,a=0,s=e("a.item"),l=e(".most-recent"),c=l.find("div.ad:hidden"),u=e("button.load"),d=function(){s.slice(i).hide(),t()};return d.prototype={events:{"button.load click":"loadMore"},loadMore:function(){s.slice(r,o).show(),t(),r+=25,o+=25,0===e("a.item:hidden").length&&u.remove()}},d}]),DS.controller("most-recent-second",["$",function(e){"use strict";!function(){if(e(".most-recent-seconcd")){var t=e(".most-recent-second"),n=t.find("button"),i=e(window),r=e(document),o=function(){var e=t.find("div[hidden]");e.first().removeAttr("hidden"),1!==e.length&&0!==e.length||(n.remove(),clearInterval(a))},a=setInterval(function(){!n.is(":visible")&&i.scrollTop()>r.height()-2.5*i.height()&&i.width()>=800&&o()},500);n.on("click",o)}}()}]),DS.controller("news-quiz",["adService","_","siteLayout","$","$window","$document","popupService","screenSize",function(e,t,n,i,r,o,a,s){"use strict";function l(e){for(var t=0,n=e.length;t<n;t++)e[t].classList.add("disabled")}function c(e){return e.classList.contains("true")}function u(e,t,i,o,a,s,l){C=n.getSiteName()+": article: news-quiz: "+l+": slide "+E+": correct",e.classList.add("correct"),i[t-1].style.fill="#00bcf1",s[t-1].classList.add("correct"),r.G.readOmnitureOnPageView(!0,"",C),o<10?a.innerHTML="000<span>"+o+"</span>":o<100?a.innerHTML="00<span>"+o+"</span>":o<1e3&&(a.innerHTML="0<span>"+o+"</span>")}function d(e,t,i,o,a){C=n.getSiteName()+": article: news-quiz: "+a+": slide "+E+": wrong",e.classList.add("wrong"),i[t-1].style.fill="#ff234e",o[t-1].classList.add("wrong"),r.G.readOmnitureOnPageView(!0,"",C)}function f(e,t,a,l,c,u){var d=e-1,f=t[d],h=t[e];E=e+1,C=n.getSiteName()+": article: news-quiz: "+u+": slide "+E,r.G.readOmnitureOnPageView(!0,"",C),a.classList.remove("times-up"),a.classList.remove("correct"),a.classList.remove("wrong"),"undefined"!=typeof f&&(f.classList.add("none"),f.classList.remove("current")),h.classList.remove("none"),h.classList.add("current"),l[e].style.fill="#fff",k=(new Date).getTime()/1e3,c.classList.remove("none"),"mobile"===s.getScreen()&&i("html,body").animate({scrollTop:a.getBoundingClientRect().top+o.body.scrollTop},"fast")}function h(e,t,n){for(var i=0;i<t;i++){var r=e[i].position,o=e[i]._id,a=e[i].points;i<3?n.append('<li class="rank-position"><p>'+r+"</p><p>"+o+"</p><p>"+a+"</p></li>"):n.append('<li class="rank-position top-15"><p>'+r+"</p><p>"+o+"</p><p>"+a+"</p></li>")}}function p(){x=T.toString()[0],L="1"===x?"st":"2"===x?"nd":"3"===x?"rd":"th"}function g(e,t){i.ajax({type:"GET",url:t,contentType:"application/json",success:function(t){var n=t.rankings,r=n.length,o=i(".this-week"),a=e.querySelector(".lb-hide"),s=e.querySelector(".show-15"),l=e.querySelector(".your-rank");t.userRanking&&(T=t.userRanking.position,p(),l.textContent=t.userRanking.position),r>2&&r<15?(h(n,r,o),a.style.display="none"):15===r&&(h(n,r,o),a.style.display="none",s.classList.remove("none"))},error:function(){console.log("Error")}})}function m(e,t){i.ajax({type:"GET",url:t,contentType:"application/json",success:function(e){var t=e.rankings,n=t.length,r=i(".this-month");n>2&&n<15?h(t,n,r):15===n&&h(t,n,r)},error:function(){console.log("Error")}})}function v(e,t,n,r,o,a,s,l,c,u,d){var f=e.querySelector(".high-percent"),h=e.querySelector(".low-percent"),p=h.querySelector("span"),g=f.querySelector("span");i.ajax({type:"POST",url:"http://www.vulture.com/account/score/game",data:JSON.stringify(t),contentType:"application/json",success:function(t){var i=100-Math.round(t.rank);i>50?(f.classList.remove("none"),g.textContent=i):(h.classList.remove("none"),p.textContent=i),n(r,e,o,a,s,l,c,u,d)},error:function(){f.classList.remove("none"),g.textContent="62",n(r,e,o,a,s,l,c,u,d)}})}function y(e,t,a,l,c,u,d,f,h){var p=t.querySelector(".show-answers"),v=l.querySelector(".total-score"),y=t.querySelector(".progress .score"),b=t.querySelector(".timer-contain"),w=NYM.readCookie("nymag_session_user");null!==w?(d=d+"&handle="+w,g(t,d),"month"===h&&(f=f+"&handle="+w,m(t,f))):(g(t,d),"month"===h&&m(t,f)),C=n.getSiteName()+": article: news-quiz: "+u+": final slide",r.G.readOmnitureOnPageView(!0,"",C),v.textContent=e,b.classList.add("none"),y.classList.add("none"),p.classList.remove("none"),a.classList.add("none"),l.classList.remove("none"),c.classList.remove("none"),"mobile"===s.getScreen()&&i("html,body").animate({scrollTop:t.getBoundingClientRect().top+o.body.scrollTop},"fast")}function b(e,t){e.style.marginTop=(t.offsetTop+34.5).toString()+"px"}function w(t,n){var i=n.querySelector(".ad"),r=t.id,o=i.id;"mobile"===s.getScreen()?e.refresh(r):"desktop"===s.getScreen()&&e.refresh(o)}function S(e){if(e.parentNode)return e.parentNode.querySelector(".quiz-ad").querySelector("[data-component=ad]")}var k,C,T,x,L,A=0,E=0,M=!1,D=function(e){this.userName=NYM.readCookie("nymag_session_user"),this.uid=NYM.readCookie("optimizelyEndUserId")||Math.floor(8*Math.random()).toString(),this.gid=e.getAttribute("data-gid"),this.rid=e.getAttribute("data-rid"),this.pubDate=e.getAttribute("data-date"),this.lbCurrent=e.getAttribute("data-lb"),null!==this.userName&&e.classList.add("logged-in"),this.monthUrl="http://www.vulture.com/account/score/rank?gids="+this.rid+"&limit=15",this.weekUrl="http://www.vulture.com/account/score/rank?gids="+this.gid+"&limit=15",g(e,this.weekUrl),"month"===this.lbCurrent&&m(e,this.monthUrl),this.startScreen=e.querySelector(".quiz-start"),this.slides=e.querySelectorAll(".quiz-slide"),this.progressBar=e.querySelector(".progress"),this.leaderboard=e.querySelector(".leaderboard"),this.results=e.querySelector(".quiz-results"),
this.shareUrl=o.querySelector('meta[property="og:url"]').getAttribute("content"),this.shareTitle=o.querySelector('meta[property="og:title"]').getAttribute("content"),this.shareImg=o.querySelector('meta[property="og:image"]').getAttribute("content"),this.mobileAd=S(e),this.sidebar=o.querySelector("#tertiary"),this.el=e};return D.prototype={events:{".quiz-start button click":"startQuizClick",".options a click":"onAnswerClick",".timer webkitAnimationEnd":"timesUp",".timer animationend":"timesUp",".show-answers click":"showAnswerkey",".leaderboard .week click":"swapLeaderboard",".leaderboard .month click":"swapLeaderboard",".leaderboard .show-15 click":"openTop15",".twitter-share click":"shareToTwitter",".fb-share click":"shareToFacebook"},startQuizClick:function(){var e=this.el,t=this.leaderboard,n=this.startScreen,r=this.progressBar,o=i(".progress svg"),a=e.querySelector(".timer-contain"),s=e.querySelector(".timer"),l=this.sidebar,c=this.slides,u=0,d=this.pubDate,h=i(".rank-position");n.classList.add("none"),t.classList.add("none"),f(u,c,e,o,s,d),r.classList.remove("none"),a.classList.remove("none"),h.remove(),w(this.mobileAd,l),setTimeout(function(){b(l,e)},200)},onAnswerClick:function(e){var t,n=this.el,i=this.slides,r=e.target.parentNode,o=r.parentNode.parentNode,a=Array.prototype.indexOf.call(i,o),s=a+1,h=this.sidebar,p=this.progressBar,g=n.querySelectorAll(".progress svg"),m=n.querySelectorAll(".answer-key li"),b=p.querySelector("span"),S=n.querySelector(".timer"),C=this.leaderboard,T=this.results,x=this.pubDate,L=this.weekUrl,E=this.monthUrl,M=this.lbCurrent,D=1e3;S.classList.add("pause");var N=(new Date).getTime()/1e3,_=N-k-1;if(r.classList.contains("disabled"))e.preventDefault(),e.stopPropagation();else if(l(o.querySelectorAll(".options a")),r.classList.add("selected"),c(r)?(_<0?A=A+=100:_<10&&(A+=100-Math.round(10*_)),u(n,s,g,A,b,m,x)):d(n,s,g,m,x),s<i.length)setTimeout(function(){S.classList.remove("pause"),S.classList.add("none"),setTimeout(function(){f(s,i,n,g,S,x)},100)},D);else{var I=NYM.readCookie("nymag_session_user");t={uid:this.uid,gid:this.gid,handle:I,point:A},v(n,t,y,A,o,T,C,x,L,E,M)}w(this.mobileAd,h)},showAnswerkey:function(){var e=this.el,t=e.querySelector(".answer-key"),n=e.querySelector(".show-answers");t.classList.contains("none")?(t.classList.remove("none"),n.innerHTML='Hide Answer Key <svg><polyline points="4,0  8,8  0,8"/></svg>'):(t.classList.add("none"),n.innerHTML='Show Answer Key <svg><polyline points="0,0  8,0  4,8"/></svg>',i("html,body").animate({scrollTop:e.getBoundingClientRect().top+o.body.scrollTop},"fast"))},timesUp:function(){var e,t=this.el,i=this.slides,o=t.querySelector(".current"),a=Array.prototype.indexOf.call(i,o),s=a+1,c=this.sidebar,u=t.querySelectorAll(".progress > svg"),d=t.querySelectorAll(".answer-key li"),h=s-1,p=t.querySelector(".timer"),g=this.leaderboard,m=this.results,b=this.pubDate,S=this.weekUrl,k=this.monthUrl,T=this.lbCurrent,x=1e3;if(C=n.getSiteName()+": article: news-quiz: "+b+": slide "+E+": time's up",r.G.readOmnitureOnPageView(!0,"",C),l(o.querySelectorAll(".options a")),t.classList.add("times-up"),u[h].style.fill="#ff234e",d[h].classList.add("wrong"),s<i.length)setTimeout(function(){p.classList.remove("pause"),p.classList.add("none"),setTimeout(function(){f(s,i,t,u,p,b)},100)},x);else{var L=NYM.readCookie("nymag_session_user");e={uid:this.uid,gid:this.gid,handle:L,point:A},v(t,e,y,A,o,m,g,b,S,k,T)}w(this.mobileAd,c)},swapLeaderboard:function(e){var t=this.el,n=e.target,i=t.querySelector(".this-week"),r=t.querySelector(".this-month"),o=t.querySelector(".week"),a=t.querySelector(".month");n.classList.contains("week")?(r.classList.remove("current"),i.classList.add("current"),a.classList.remove("current"),o.classList.add("current")):(i.classList.remove("current"),r.classList.add("current"),o.classList.remove("current"),a.classList.add("current"))},openTop15:function(){var e=this.el,n=e.querySelectorAll(".top-15"),i=e.querySelector(".show-15");M===!1?(M=!0,t.map(n,function(e){e.style.display="flex",i.innerHTML='Hide the top 15 <svg><polyline points="4,0  8,8  0,8"/></svg>'})):(M=!1,t.map(n,function(e){e.style.display="none",i.innerHTML='Show the top 15 <svg><polyline points="0,0  8,0  4,8"/></svg>'}))},shareToTwitter:function(e){var t,n=this.el,o=this.shareUrl;e.preventDefault(),t=n.classList.contains("logged-in")?"I ranked "+T+L+" in @vultures Week in Culture Quiz. Bet you cant beat me. "+o:"I scored "+A+" out of 1,000 in @vultures Week in Culture Quiz. Bet you cant beat me. "+o,r.open("http://twitter.com/intent/tweet?source=tweetbutton&text="+encodeURIComponent(t),"Tweet Your Score","width=600,height=300,left="+Math.ceil(i(window).width()/2-300)+",top="+Math.ceil(i(window).height()/2-127))},shareToFacebook:function(e){var t,n=this.el,i=this.shareUrl,r=this.shareTitle,o=this.shareImg;e.preventDefault(),t=n.classList.contains("logged-in")?"I ranked "+T+L+"  in Vultures Week in Culture Quiz. Bet you cant beat me.":"I scored "+A+" out of 1,000 in Vultures Week in Culture Quiz. Bet you cant beat me.",FB.ui({method:"feed",link:i,picture:o,name:r,caption:" ",description:t})}},D}]),"undefined"==typeof LF&&(LF={}),"undefined"==typeof LF.modules&&(LF.modules={}),LF.modules.CommentCount=function(e){var t="LFCommentCount",n=1e5,i="livefyre.com",r="/api/v1.1/public/comments/ncomments/{hash}.json",o="article_id",a="data-lf-article-id",s="data-lf-site-id",l="livefyre-ncomments",c="livefyre-commentcount",u=500,d=5,f=/(\d+,?\d*|none|no|zero|nada|leave a)/gi,h=/(CommentCount|ncomments)\.js/,p=function(e){var t=e.articles||p.defaults.get_articles(),n=e.replacer;n="undefined"==typeof n?p.defaults.replace_all:p.helpers.make_replacer(n),p.fetch(t,n)};p.helpers={},p.helpers.isArray=function(e){return!!e&&(e.isArray?e.isArray():"[object Array]"===Object.prototype.toString.call(e))},p.helpers.isRegExp=function(e){return!!e&&"[object RegExp]"===Object.prototype.toString.call(e)},p.helpers.contains=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},p.helpers.hash_articles=function(e){var t,n=[],i={};if(p.helpers.isArray(e)||(e=p.helpers.articles_object_to_list(e)),0==e.length)return null;for(var r,o,a=0,s=e.length;a<s;a++)o=e[a],r=i[o.site_id]||[],p.helpers.contains(r,o.article_id)||r.push(o.article_id),i[o.site_id]=r;for(t in i)i.hasOwnProperty(t)&&n.push(t+":"+i[t].join(","));return btoa(n.join("|"))},p.helpers.unhash_articles=function(e){for(var t,n=atob(e).split("|"),i=[],r=0,o=n.length;r<o;r++)t=n[r].split(","),i.push({site_id:t[0],article_id:t[1]});return i},p.helpers.merge_articles_objects=function(){for(var e,t,n,i,r=Array.prototype.slice.call(arguments),o={},a=0,s=r.length;a<s;a++){e=r[a];for(var l in e)if(e.hasOwnProperty(l)){l in o||(o[l]={}),t=e[l],n=o[l];for(var c in t)t.hasOwnProperty(c)&&(c in n||(n[c]={}),i=t[c],n[c]=p.helpers.merge_simple_objects(n[c],i))}}return o},p.helpers.articles_list_to_object=function(e){for(var t,n,i,r,o={},a=null,s=0,l=e.length;s<l;s++)t=e[s],n=t.site_id,r=t.article_id,a=null,n in o||(o[n]={}),i=o[n],o[n][r]=p.helpers.merge_simple_objects(i[r]||{},p.helpers.remove_ids_from_article_object(t));return o},p.helpers.articles_object_to_list=function(e){var t,n,i,r=[];for(var o in e)if(e.hasOwnProperty(o)){t=e[o];for(var a in t)t.hasOwnProperty(a)&&(i=t[a],n=p.helpers.merge_simple_objects({article_id:a,site_id:o},i),r.push(n))}return r},p.helpers.jsonp=function(e,i,r){"undefined"==typeof i&&(i={});var o;o=t+Math.floor(Math.random()*n),window[o]=r,i.callback=o,e.indexOf("?")<1&&(e+="?");for(var a in i)i.hasOwnProperty(a)&&(e=e+"&"+escape(a)+"="+escape(i[a]));var s=document.getElementsByTagName("head")[0],l=document.createElement("script");l.type="text/javascript",l.src=e,s.appendChild(l)},p.helpers.on_window_load=function(e){var t=e;p.loaded===!0?e.call(window):e=function(){t.call(window),p.loaded=!0},window.addEventListener?window.addEventListener("load",e,!1):window.attachEvent&&window.attachEvent("onload",e)},p.helpers.get_script_element=function(){for(var e,t,n=document.getElementsByTagName("script"),i=0,r=n.length;i<r;i++)if(e=n[i],t=e.src,t&&t.match(h))return e},p.helpers.get_domain=function(){var e="nymedia.fyre.co";if(e)return e},p.helpers.memoize=function(e){var t,n="first-time";return t=function(){return"first-time"!==n?n:n=e.apply(this,arguments)}},p.helpers.getElementsByClassName=function(e,t,n){var i;return(i=document.getElementsByClassName?function(e,t,n){n=n||document;for(var i,r=n.getElementsByClassName(e),o=t?new RegExp("\\b"+t+"\\b","i"):null,a=[],s=0,l=r.length;s<l;s+=1)i=r[s],o&&!o.test(i.nodeName)||a.push(i);return a}:document.evaluate?function(e,t,n){t=t||"*",n=n||document;for(var i,r,o=e.split(" "),a="",s="http://www.w3.org/1999/xhtml",l=document.documentElement.namespaceURI===s?s:null,c=[],u=0,d=o.length;u<d;u+=1)a+="[contains(concat(' ', @class, ' '), ' "+o[u]+" ')]";try{i=document.evaluate(".//"+t+a,n,l,0,null)}catch(f){i=document.evaluate(".//"+t+a,n,null,0,null)}for(;r=i.iterateNext();)c.push(r);return c}:function(e,t,n){t=t||"*",n=n||document;for(var i,r,o=e.split(" "),a=[],s="*"===t&&n.all?n.all:n.getElementsByTagName(t),l=[],c=0,u=o.length;c<u;c+=1)a.push(new RegExp("(^|\\s)"+o[c]+"(\\s|$)"));for(var d=0,f=s.length;d<f;d+=1){i=s[d],r=!1;for(var h=0,p=a.length;h<p&&(r=a[h].test(i.className),r);h+=1);r&&l.push(i)}return l})(e,t,n)},p.helpers.replace_innerHTML=function(e,t,n){e.innerHTML=e.innerHTML.replace(t,n)},p.helpers.make_replacer=function(e){var t=e;p.helpers.isRegExp(e)&&(t=function(t,n){p.helpers.replace_innerHTML(t,e,n)});var n;return n=function(e){var n,i,r,o;for(var a in e)if(e.hasOwnProperty(a)){n=e[a];for(var s in n)if(n.hasOwnProperty(s)){i=n[s],r=i.elements,o=i.total||0;for(var l=0,c=r.length;l<c;l++)t(r[l],o)}}}},p.helpers.remove_ids_from_article_object=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&"site_id"!==n&&"article_id"!==n&&(t[n]=e[n]);return t},p.helpers.merge_simple_objects=function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);for(var i in t)t.hasOwnProperty(i)&&(p.helpers.isArray(t[i])&&p.helpers.isArray(n[i])?n[i]=n[i].concat(t[i]):n[i]=t[i]);return n},p.helpers.ensure_correct_articles_object=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];for(var i in n)n.hasOwnProperty(i)&&"object"!=typeof n[i]&&(n[i]={count:n[i]})}return e},p.defaults={},p.defaults.find_elements=function(e){var t=p.helpers.getElementsByClassName(e||c);return t},p.defaults.get_article_id=function(e){return e.getAttribute(a)},p.defaults.get_article_id_legacy=function(e){return e.getAttribute(o)},p.defaults.get_site_id_from_script_src=p.helpers.memoize(function(e){var t=p.helpers.get_script_element();if("undefined"==typeof t)return null;var n=t.src.match("#bn=([^\\&]*)");return n&&n.length>=2?n[1]:null}),p.defaults.get_site_id_from_attribute=function(e){return e.getAttribute(s)},p.defaults.get_articles=function(){for(var e,t,n,i,r=p.defaults.find_elements(),o={},a=0,s=r.length;a<s;a++)e=r[a],t=p.defaults.get_site_id_from_attribute(e)||p.defaults.get_site_id_from_script_src(e),t in o||(o[t]={}),n=o[t],i=p.defaults.get_article_id(e),i in n||(n[i]={elements:[]}),n[i].elements.push(e);return o},p.defaults.get_articles_legacy=function(){for(var e,t,n,i,r=p.defaults.find_elements(l),o={},a=0,s=r.length;a<s;a++)e=r[a],t=p.defaults.get_site_id_from_script_src(e),t in o||(o[t]={}),n=o[t],i=p.defaults.get_article_id_legacy(e),i in n||(n[i]={elements:[]}),n[i].elements.push(e);return o},p.defaults.replace_all=p.helpers.make_replacer(f),p.fetch=function(e,t,n){var o=Array.prototype.slice.call(arguments),a=0;p.loaded=!0,1===o.length&&(t=o[0],e=p.defaults.get_articles()),"function"==typeof e&&(e=e()),p.helpers.isArray(e)||(e=p.helpers.articles_object_to_list(e));var s="http://bootstrap.{domain}{path}",l=p.helpers.hash_articles(e);if(null==l)return void("function"==typeof n&&n());s=s.replace("{domain}",p.helpers.get_domain()||i).replace("{path}",r).replace("{hash}",l);var c=function(n){if(a+=1,"ok"===n.status){var i=p.helpers.articles_list_to_object(e),n=p.helpers.ensure_correct_articles_object(n.data),r=p.helpers.merge_articles_objects(n,i);t.call(null,r)}else 503==n.code&&a<d&&setTimeout(function(){p.helpers.jsonp(s,{},c)},n.data.wait||u)};p.helpers.jsonp(s,{},c)},p.auto_legacy=function(){p.fetch(p.defaults.get_articles_legacy(),p.defaults.replace_all)},p.auto=function(){p.fetch(p.defaults.get_articles(),p.defaults.replace_all)},p.helpers.on_window_load(function(){if(!p.loaded){var e=p.defaults.get_site_id_from_script_src();e?p.auto_legacy():p.auto()}}),p.loaded=!1,p.run=function(){p.loaded||p.auto()},e.CommentCount=p},LF.modules.CommentCount(LF),function(){"use strict";if($(".newsfeed")){var e=$(".newsfeed"),t=e.find("button"),n=$(window),i=$(document),r=!1,o=function(){var n=e.find("div[hidden]");n.first().removeAttr("hidden"),1===n.length&&(t.remove(),clearInterval(a))},a=setInterval(function(){!t.is(":visible")&&n.scrollTop()>i.height()-2.5*n.height()&&n.width()>=1024&&o()},500);t.click(o),LF.CommentCount({replacer:function(e,t){0===t?$(e).remove():e.innerHTML=t,r||(r=!0,$(".livefyre-commentcount").removeAttr("hidden"))}})}}(),DS.controller("newsletter-manage-preferences",["$","$window","$document",function(e,t,n){"use strict";function i(e){for(var t in e)document.getElementById(t)&&(document.getElementById(t).checked=!0)}function r(e){var t=document.querySelector(".profileEmail"),n=document.createTextNode(e);t.appendChild(n)}function o(){return decodeURIComponent(window.location.search.substring(1))}function a(){var t=document.getElementsByClassName("updateForm")[0].getAttribute("data-url"),n=t+"?"+o();e.ajax({type:"GET",url:n,contentType:"application/json",success:function(e){g=e.email,m=e.lists,r(g),i(m)},error:function(){return"error"}})}function s(){var e=document.querySelector(".updatePreferences");e.remove();var t=document.querySelector(".unsubscribe");t.remove();var n=document.createTextNode("THANK YOU! YOUR ACCOUNT HAS BEEN UPDATED."),i=document.createElement("div");i.classList.add("thankYou"),y.appendChild(i),i.appendChild(n),i.appendChild(n)}function l(){var e=document.querySelector(".updatePreferences"),t=document.querySelector(".unsubscribe");e.remove(),t.remove(),y.setAttribute("style","margin-right","20px");var n=document.createTextNode("YOU WILL NO LONGER RECEIVE EMAILS FROM US."),i=document.createElement("div");i.className+="thankYou",y.appendChild(i),i.appendChild(n)}function c(t){var i=n.getElementsByClassName("updateForm")[0].getAttribute("data-url");e.ajax({type:"POST",url:i,data:JSON.stringify(t),contentType:"application/json",success:function(e){s()},error:function(){return"error"}})}function u(t){var i=n.getElementsByClassName("updateForm")[0].getAttribute("data-url");e.ajax({type:"POST",url:i,data:JSON.stringify(t),contentType:"application/json",success:function(e){l()},error:function(){return"error"}})}function d(e){var t=k;t.email=g;for(var n=0;n<e.length;n++)t.lists[e[n]]=!0;c(t)}function f(){b=v.getBoundingClientRect(),w=window.pageYOffset+b.bottom}function h(){var e=window.pageYOffset,t=e+window.innerHeight;return w<=t}function p(){var e=h();e&&!y.classList.contains(S.RELATIVE)?(y.classList.add(S.RELATIVE),y.classList.remove(S.FIXED)):e||y.classList.contains(S.FIXED)||(y.classList.add(S.FIXED),y.classList.remove(S.RELATIVE))}var g,m,v=document.querySelector(".emailFooter"),y=document.querySelector(".sticky"),b=v.getBoundingClientRect(),w=window.pageYOffset+b.bottom,S={FIXED:"fixed_pos",RELATIVE:"relative_pos"},k={email:"",lists:{vulture:!1,intelligencer:!1,thecut:!1,scienceofus:!1,grubstreet:!1,selectall:!1,"fresh-intelligence":!1,"ask-polly":!1,"design-hunting":!1,travels:!1,"news-on-netflix":!1,"real-estate":!1,"new-york-deals":!1,"ny-fyi":!1,weddings:!1,"a-list-invitations":!1,"special-offers":!1}};a(),window.addEventListener("resize",f),window.addEventListener("scroll",p),p();var C=function(e){this.updateButton=e.querySelector(".updatePreferences"),this.unsubscribeButton=e.querySelector(".doNotEmail")};return C.prototype={events:{".updatePreferences click":"submitUpdate",".doNotEmail click":"unsubscribe"},submitUpdate:function(e){e.preventDefault();for(var t=[],n=document.getElementsByClassName("newsletterList"),i=0;i<n.length;i++)1==n[i].checked&&t.push(n[i].value);d(t),e.preventDefault()},unsubscribe:function(e){e.preventDefault();var t=k;t.email=g,t.optout=!0,delete t.lists,u(t)}},C}]),DS.controller("newsletter-sailthru-signup",["$","$window","$document",function(e,t,n){"use strict";function i(e,n){var i=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!e.match(i)){for(;d.firstChild;)d.removeChild(d.firstChild);if(t.innerWidth<=600){var r=document.querySelector(".sticky input");return r.classList.add("invalid-sticky-mobile"),r.value="Please enter a valid email address.","invalid"}var o=document.createTextNode("Please enter a valid email address.");return d.appendChild(o),"invalid"}return"valid"}function r(e){t.dataLayer=t.dataLayer||[],t.dataLayer.push({event:"newsletter",newsletter:"nl sub submit",newsletterId:e})}function o(){var e=document.querySelector(".email"),t=document.querySelector(".signUp");e.remove(),t.remove(),d.remove();var n=document.createTextNode("THANK YOU! YOU ARE NOW SUBSCRIBED."),i=document.createElement("div");i.classList.add("thankYou"),h.appendChild(i),i.appendChild(n),i.appendChild(n)}function a(t){var i=n.getElementsByClassName("signUpForm")[0].getAttribute("data-url"),a=Object.keys(t.lists);e.ajax({type:"POST",url:i,data:JSON.stringify(t),contentType:"application/json",success:function(e){o(),r(a)},error:function(){for(var e=document.createTextNode("Please enter a valid email address.");d.firstChild;)d.removeChild(d.firstChild);h.classList.contains("fixed_pos")?d.appendChild(e):d.appendChild(e)}})}function s(e,t){for(var n={email:t,lists:{}},i=0;i<e.length;i++)n.lists[e[i]]=!0;a(n)}function l(){t.innerWidth>=1024?(p=f.getBoundingClientRect(),g=window.pageYOffset+p.bottom,u()):(h.classList.add(m.RELATIVE),h.classList.remove(m.FIXED))}function c(){if(t.innerWidth>=1024){var e=window.pageYOffset,n=e+window.innerHeight;return g<=n}}function u(){if(t.innerWidth>=1024){var e=c();e&&!h.classList.contains(m.RELATIVE)?(h.classList.add(m.RELATIVE),h.classList.remove(m.FIXED)):e||h.classList.contains(m.FIXED)||(h.classList.add(m.FIXED),h.classList.remove(m.RELATIVE))}}var d=document.querySelector(".invalidEmail"),f=document.querySelector(".emailFooter"),h=document.querySelector(".sticky"),p=f.getBoundingClientRect(),g=window.pageYOffset+p.bottom,m={FIXED:"fixed_pos",RELATIVE:"relative_pos"};window.addEventListener("resize",l),window.addEventListener("scroll",u),u();var v=function(e){this.signUpButton=e.querySelector(".signUp"),this.textInput=e.querySelector('input[type="text"]')};return v.prototype={events:{".signUp click":"submitSignup",'.sticky input[type="text"] click':"clearStyling"},clearStyling:function(e){var t=document.querySelector('.sticky input[type="text"]');t.value="",t.classList.remove("invalid-sticky-mobile")},submitSignup:function(e){e.preventDefault();var t=[],n=document.querySelector(".email").value;if("valid"==i(n,e)){for(var r=document.getElementsByClassName("newsletterList"),o=0;o<r.length;o++)1==r[o].checked&&t.push(r[o].value);s(t,n),e.preventDefault()}else e.preventDefault()}},v}]),DS.controller("newsletter-signup",["$","$window","$document",function(e,t,n){"use strict";function i(e){return c&&"success"===c.getItem(d+e)}function r(e){return c&&"closed"===c.getItem(d+e)}function o(e){var t=parseInt(c.getItem(f+e)||0,10),n=parseInt(u.getItem(h+e)||0,10);return n+=1,u.setItem(h+e,n),1===n&&(t+=1,c.setItem(f+e,t)),{visits:t,sessionViews:n}}function a(e,t,n){A||2!==n.visits||i(t)||r(t)||(s(e,t),1===n.sessionViews?(e.classList.add("first-view-of-session"),setTimeout(function(){e.classList.add(p)},0)):e.classList.add(p))}function s(n,i){var r=0,o="scroll.newsletter"+i,a=e(t);a.on(o,function(){r+=1,2===r&&(n.classList.add(g),a.off(o))})}var l,c=t.localStorage,u=t.sessionStorage,d="signUpStatus",f="signUpVisits",h="signUpViews",p="on",g="slide-up",m=/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")!==-1,v=e("meta[name=viewport]"),y=v.attr("content"),b=y+",maximum-scale=1, user-scalable=no",w=n.body,S=!1,k=0,C=t.getComputedStyle(w),T=C?parseInt(C.marginTop):0,x=w.style.marginTop,L=".lockScroll",A=u.getItem("signUpColumn");return l=function(t){if(c&&u){var n=t.querySelector('input[name="newsletterId"]');n=n?n.value:null,n&&(this.isCheckingForSuccessfulSignup=!1,this.inputs=t.querySelectorAll("input"),this.componentJQ=e(t),this.newsletterId=n.toString(),this.history=o(this.newsletterId),a(t,this.newsletterId,this.history))}},l.prototype={events:{"form submit":"closeAfterSuccess","svg click":"close",'input[type="email"] focus':"lockScroll",'input[type="email"] touchstart':"lockScrollAndFocus"},closeAfterSuccess:function(e){if(!this.isCheckingForSuccessfulSignup){this.isCheckingForSuccessfulSignup=!0;var n,r,o=this;n=function(){i(o.newsletterId)&&(setTimeout(function(){o.animateClose()},2500),t.clearInterval(r),o.isCheckingForSuccessfulSignup=!1,o.unlockScroll())},r=t.setInterval(n,1e3)}e.preventDefault()},addCloseOnBodyClickHandler:function(){var t=this;e("body").on("click"+L+" touchstart"+L,function(n){0===e(n.target).parents(".newsletter-signup").length&&(n.preventDefault(),n.stopPropagation(),t.unlockScroll())})},animateClose:function(){var e=this.componentJQ[0];e.classList.remove("no-transition"),e.offsetHeight,e.classList.remove(p),e.classList.remove(g)},blurAllInputs:function(){var e,t=this.inputs;for(e=0;e<t.length;e++)t[e].blur()},close:function(){c.setItem(d+this.newsletterId,"closed"),this.animateClose(),this.unlockScroll()},lockScrollAndFocus:function(e){this.lockScroll();var t=e.currentTarget;setTimeout(function(){t.focus()},2)},disableZoom:function(){v.attr("content",b)},enableZoom:function(){this.componentJQ[0].offsetHeight,v.attr("content",y)},lockScroll:function(){if(m&&!S){this.disableZoom(),k=t.scrollY,S=!0;var e=this;setTimeout(function(){w.style.marginTop=T-parseInt(k)+"px",w.style.height=Math.max(n.documentElement.clientHeight,t.innerHeight||0)+k+"px",w.classList.add("lock-scroll"),e.addCloseOnBodyClickHandler(),e.componentJQ[0].classList.add("no-transition")},0)}},unlockScroll:function(){if(m&&S){var n=this;S=!1,setTimeout(function(){n.blurAllInputs(),w.style.marginTop=x,w.classList.remove("lock-scroll"),t.scrollTo(0,k),n.enableZoom(),e(w).off(L)},2)}}},l}]),DS.controller("newsletter-standalone",["$","$window","$document",function(e,t,n){"use strict";function i(e){return c&&"success"===c.getItem(d+e)}function r(e){return c&&"closed"===c.getItem(d+e)}function o(e){var t=parseInt(c.getItem(f+e)||0,10),n=parseInt(u.getItem(h+e)||0,10);return n+=1,u.setItem(h+e,n),1===n&&(t+=1,c.setItem(f+e,t)),{visits:t,sessionViews:n}}function a(e,t,n){A||2!==n.visits||i(t)||r(t)||(s(e,t),1===n.sessionViews?(e.classList.add("first-view-of-session"),setTimeout(function(){e.classList.add(p)},0)):e.classList.add(p))}function s(n,i){var r=0,o="scroll.newsletter"+i,a=e(t);a.on(o,function(){r+=1,2===r&&(n.classList.add(g),a.off(o))})}var l,c=t.localStorage,u=t.sessionStorage,d="signUpStatus",f="signUpVisits",h="signUpViews",p="on",g="slide-up",m=/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")!==-1,v=e("meta[name=viewport]"),y=v.attr("content"),b=y+",maximum-scale=1, user-scalable=no",w=n.body,S=!1,k=0,C=t.getComputedStyle(w),T=C?parseInt(C.marginTop):0,x=w.style.marginTop,L=".lockScroll",A=u.getItem("signUpColumn");return l=function(t){if(c&&u){var n=t.querySelector('input[name="newsletterId"]');n=n?n.value:null,n&&(this.isCheckingForSuccessfulSignup=!1,this.inputs=t.querySelectorAll("input"),this.componentJQ=e(t),this.newsletterId=n.toString(),this.history=o(this.newsletterId),a(t,this.newsletterId,this.history))}},l.prototype={events:{"form submit":"closeAfterSuccess","svg click":"close",'input[type="email"] focus':"lockScroll",'input[type="email"] touchstart':"lockScrollAndFocus",".social-links > a click":"mobileClickHandler"},closeAfterSuccess:function(e){if(!this.isCheckingForSuccessfulSignup){this.isCheckingForSuccessfulSignup=!0;var n,r,o=this;n=function(){i(o.newsletterId)&&(setTimeout(function(){o.animateClose()},2500),t.clearInterval(r),o.isCheckingForSuccessfulSignup=!1,o.unlockScroll())},r=t.setInterval(n,1e3)}e.preventDefault()},addCloseOnBodyClickHandler:function(){var t=this;e("body").on("click"+L+" touchstart"+L,function(n){0===e(n.target).parents(".newsletter-signup").length&&(n.preventDefault(),n.stopPropagation(),t.unlockScroll())})},animateClose:function(){var e=this.componentJQ[0];e.classList.remove("no-transition"),e.offsetHeight,e.classList.remove(p),e.classList.remove(g)},blurAllInputs:function(){var e,t=this.inputs;for(e=0;e<t.length;e++)t[e].blur()},close:function(){c.setItem(d+this.newsletterId,"closed"),this.animateClose(),this.unlockScroll()},lockScrollAndFocus:function(e){this.lockScroll();var t=e.currentTarget;setTimeout(function(){t.focus()},2)},disableZoom:function(){v.attr("content",b)},enableZoom:function(){this.componentJQ[0].offsetHeight,v.attr("content",y)},lockScroll:function(){if(m&&!S){this.disableZoom(),k=t.scrollY,S=!0;var e=this;setTimeout(function(){w.style.marginTop=T-parseInt(k)+"px",w.style.height=Math.max(n.documentElement.clientHeight,t.innerHeight||0)+k+"px",w.classList.add("lock-scroll"),e.addCloseOnBodyClickHandler(),e.componentJQ[0].classList.add("no-transition")},0)}},mobileClickHandler:function(e){t.open(e.currentTarget.getAttribute("href"),"_blank"),e.preventDefault()},unlockScroll:function(){if(m&&S){var n=this;S=!1,setTimeout(function(){n.blurAllInputs(),w.style.marginTop=x,w.classList.remove("lock-scroll"),t.scrollTo(0,k),n.enableZoom(),e(w).off(L)},2)}}},l}]),DS.controller("next-subnav",function(){var e=function(e){this.navMobile=e.querySelector(".nav-mobile"),this.primaryNav=e.querySelector(".primary-nav"),this.signUp=e.querySelector(".sign-up")};return e.prototype={events:{".nav-mobile click":"toggleDropdown","a.newsletter click":"toggleSignup"},toggleDropdown:function(e){var t=this.navMobile,n=this.primaryNav;t.classList.toggle("on"),n.classList.toggle("on"),t.blur(),e.preventDefault()},toggleSignup:function(e){var t=this.signUp;t.classList.add("on"),e.preventDefault()}},e}),DS.controller("nym-nav",function(){var e=function(e){this.el=e};return e.prototype={events:{".primary-nav h2 click":"onHeaderClick"},onHeaderClick:function(){this.el.querySelector(".primary-nav").classList.toggle("on")}},e}),DS.controller("nymab-response",[function(){var e=function(e){this.el=e};return e.prototype={events:{".close-tab click":"onCloseTabClick"},hideResponse:function(){this.el.remove()},onCloseTabClick:function(e){e.preventDefault(),this.hideResponse()}},e}]),Visitor.getInstance=function(e,t){var n,i,r=window.s_c_il;if(0>e.indexOf("@")&&(e+="@AdobeOrg"),r)for(i=0;i<r.length;i++)if((n=r[i])&&"Visitor"==n._c&&(n.marketingCloudOrgID==e||t&&n.namespace==t))return n;return new Visitor(e,t)},AppMeasurement.getInstance=s_gi,window.s_objectID||(window.s_objectID=0),s_pgicq(),DS.controller("omniture",["visitor","click","nymab",function(e,t,n){"use strict";function i(e){return function(n){function i(e){e.currentYear=(new Date).getYear()+1900,e.prop7=e.getTimeParting("d","-5"),e.prop8=e.getTimeParting("h","-5"),e.prop21=e.getDaysSinceLastVisit("o_dslv"),e.prop21=e.getAndPersistValue(e.prop21,"o_dslv",0),e.eVar6=e.prop21,e.prop30=e.getQueryValue("q").toLowerCase(),e.prop36=e.getQueryValue("mid")||e.getQueryValue("email"),e.eVar12=e.prop36,e.eVar28=e.getQueryValue("mid"),e.prop37=e.getQueryValue("rid"),e.eVar27=e.prop37,e.campaign||(e.campaign=e.getQueryValue("cmp_id")),e.campaign=e.getValOnce(e.campaign,"ctc",0),e.eVar1=e.campaign,e.prop49=e.getNewRepeat(365,"s_getNewRepeat"),e.eVar26=e.prop49,e.prop47=e.getVisitNum(30)>=4?"Loyal":"non loyal"}var o=window.location.hostname.split(".").slice(-2).join("."),a=new Visitor("newyorkmagazine");a.trackingServer="stats."+o,a.trackingServerSecure="sstats."+o;var s=new AppMeasurement;s.visitorNamespace="newyorkmagazine",s.visitor=Visitor.getInstance("newyorkmagazine"),s.trackingServer="stats."+o,s.trackingServerSecure="sstats."+o,s.trackDownloadLinks=!0,s.trackInlineStats=!0,s.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",s.linkLeaveQueryString=!1,s.currencyCode="USD",s.charSet="UTF-8",s.linkTrackVars="prop34,prop39,eVar1,eVar8,eVar12",s.linkTrackEvents="event20",s.events="event1",s.linkInternalFilters="localhost,nymag.com,nymetro.com,vulture.com,grubstreet.com,bedfordandbowery.com";var l=window.location.hostname.toLowerCase();s.linkInternalFilters+=","+l,s.trackExternalLinks="true"===e.getAttribute("data-externalLinks"),s.pageName=e.getAttribute("data-pageName"),s.eVar2=s.pageName,s.channel=e.getAttribute("data-hierarchy"),s.eVar3=s.channel,s.prop1=e.getAttribute("data-hierarchyTitle"),s.prop2=e.getAttribute("data-type"),s.eVar19=s.prop2,s.prop3=e.getAttribute("data-subtype"),s.prop4=e.getAttribute("data-title"),s.prop5=(e.getAttribute("data-tags")||"").split(",").slice(0,15).join(","),s.prop6=e.getAttribute("data-hierarchy"),s.prop12=e.getAttribute("data-source"),s.eVar29=s.prop12,s.prop40=e.getAttribute("data-video"),s.eVar17=s.prop40,s.prop42=e.getAttribute("data-form"),s.prop48=e.getAttribute("data-featureName"),s.prop26=window.location.href,s.eVar20=window.location.href,s.prop60=e.getAttribute("data-relatedStories");var c=e.getAttribute("data-rsid");s.account=c,s.hier1=s.channel&&s.channel.split(":").join(","),s.a1=s.hier1&&s.hier1.split(","),s.a1&&s.a1[0]&&(s.eVar14=s.a1[0],s.prop31=s.a1[0]),s.a1&&s.a1[1]&&(s.eVar15=s.a1[1],s.prop32=s.a1[1]),s.a1&&s.a1[2]&&(s.eVar16=s.a1[2],s.prop33=s.a1[2]),s.prop18=n,s.prop34=window.location.href,s.eVar8=s.prop34,s.eVar20=s.prop34,s.prop41=e.getAttribute("data-author"),s.prop52=function(){try{return NYM.loginReg.isLoggedInUser()?"Logged in":"Anonymous"}catch(e){return"Login not set up."}}(),s.prop53=e.getAttribute("data-length"),s.prop54=1,r&&(s.prop54=9),s.usePlugins=!0,s.doPlugins=i,s.getQueryValue=function(e){for(var t={},n=0;n<e.length;++n){var i=e[n].split("=");2==i.length&&(t[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")))}return function(e){return t.hasOwnProperty(e)?t[e]:""}}(window.location.search.substr(1).split("&")),s.getTimeParting=new Function("t","z","var s=this,cy;dc=new Date('1/1/2000');if(dc.getDay()!=6||dc.getMonth()!=0){return'Data Not Available'}else{;z=parseFloat(z);var dsts=new Date(s.dstStart);var dste=new Date(s.dstEnd);fl=dste;cd=new Date();if(cd>dsts&&cd<fl){z=z+1}else{z=z};utc=cd.getTime()+(cd.getTimezoneOffset()*60000);tz=new Date(utc + (3600000*z));thisy=tz.getFullYear();var days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];if(thisy!=s.currentYear){return'Data Not Available'}else{;thish=tz.getHours();thismin=tz.getMinutes();thisd=tz.getDay();var dow=days[thisd];var ap='AM';var dt='Weekday';var mint='00';if(thismin>30){mint='30'}if(thish>=12){ap='PM';thish=thish-12};if (thish==0){thish=12};if(thisd==6||thisd==0){dt='Weekend'};var timestring=thish+':'+mint+ap;if(t=='h'){return timestring}if(t=='d'){return dow};if(t=='w'){return dt}}};"),s.getAndPersistValue=new Function("v","c","e","var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if(v)s.c_w(c,v,e?a:0);return s.c_r(c);"),s.getDaysSinceLastVisit=new Function("c","var s=this,e=new Date(),es=new Date(),cval,cval_s,cval_ss,ct=e.getTime(),day=24*60*60*1000,f1,f2,f3,f4,f5;e.setTime(ct+3*365*day);es.setTime(ct+30*60*1000);f0='Cookies Not Supported';f1='First Visit';f2='More than 30 days';f3='More than 7 days';f4='Less than 7 days';f5='Less than 1 day';cval=s.c_r(c);if(cval.length==0){s.c_w(c,ct,e);s.c_w(c+'_s',f1,es);}else{var d=ct-cval;if(d>30*60*1000){if(d>30*day){s.c_w(c,ct,e);s.c_w(c+'_s',f2,es);}else if(d<30*day+1 && d>7*day){s.c_w(c,ct,e);s.c_w(c+'_s',f3,es);}else if(d<7*day+1 && d>day){s.c_w(c,ct,e);s.c_w(c+'_s',f4,es);}else if(d<day+1){s.c_w(c,ct,e);s.c_w(c+'_s',f5,es);}}else{s.c_w(c,ct,e);cval_ss=s.c_r(c+'_s');s.c_w(c+'_s',cval_ss,es);}}cval_s=s.c_r(c+'_s');if(cval_s.length==0) return f0;else if(cval_s!=f1&&cval_s!=f2&&cval_s!=f3&&cval_s!=f4&&cval_s!=f5) return '';else return cval_s;"),
s.getNewRepeat=new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),s.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),s.getVisitNum=new Function("var s=this,e=new Date(),cval,cvisit,ct=e.getTime(),c='s_vnum',c2='s_invisit';e.setTime(ct+30*24*60*60*1000);cval=s.c_r(c);if(cval){var i=cval.indexOf('&vn='),str=cval.substring(i+4,cval.length),k;}cvisit=s.c_r(c2);if(cvisit){if(str){e.setTime(ct+30*60*1000);s.c_w(c2,'true',e);return str;}else return 'unknown visit number';}else{if(str){str++;k=cval.substring(0,i);e.setTime(k);s.c_w(c,k+'&vn='+str,e);e.setTime(ct+30*60*1000);s.c_w(c2,'true',e);return str;}else{s.c_w(c,ct+30*24*60*60*1000+'&vn=1',e);e.setTime(ct+30*60*1000);s.c_w(c2,'true',e);return 1;}}"),s.getValOnce=new Function("v","c","e","t","var s=this,a=new Date,v=v?v:'',c=c?c:'s_gvo',e=e?e:0,i=t=='m'?60000:86400000;k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e==0?0:a);}return v==k?'':v");try{window.optimizely=window.optimizely||[],window.optimizely.push(["activateSiteCatalyst"])}catch(u){}var d=s.t();d&&document.write(d),window.G=window.G||{},window.G.readOmnitureOnPageView||(window.G.readOmnitureOnPageView=function(e,t,n){var i="event1",r={events:s.events?s.events:"",pe:s.pe?s.pe:"",pev2:s.pev2?s.pev2:"",prop39:s.prop39?s.prop39:"",linkTrackEvents:s.linkTrackEvents?s.linkTrackEvents:""};s.pe="link_o",s.pev2=n,s.prop39=n,t&&""!==t&&(i="event"+t),s.linkTrackEvents=s.events=i,s.tl(!e||e,"o"),s.events=r.events,s.pe=r.pe,s.pev2=r.pev2,s.prop39=r.prop39,s.linkTrackEvents=r.linkTrackEvents}),window.G.triggerPageView=function(){var e;s.t();try{ga("send","pageview")}catch(t){}e=document.createEvent("Event"),e.initEvent("trackPageView",!0,!0),window.dispatchEvent(e)},$("body").on("click","[data-pageview]",window.G.triggerPageView);var f=$("meta[name='application-name']").attr("content")||"";f=f?f+": ":"",t.addHandler(function(e,t){var n=e.trackEl,i=e.trackLabel,r=e.layoutName,o=": "+(e.componentName||"Undefined"),a=i?": "+i:"",l=f+r+o+a;e.hasDataTrack?(s.prop39=l,s.tl(n,"o",l,null,t),s.prop39=""):t()});for(var h=document.querySelectorAll("[data-click-to-track]"),p=0;p<h.length;p++){var g=h[p];"none"!=window.getComputedStyle(g).display&&(g.click(),g.removeAttribute("data-click-to-track"))}}}var r=!1;return function(t){n.detection.onDetected(function(){r=!0,e.onceClientIdIsReady(i(t,r))}),n.detection.onNotDetected(function(){r=!1,e.onceClientIdIsReady(i(t,r))})}}]),DS.controller("oneblock-stoops",["$","$window","$document","_",function(e,t,n,i){"use strict";function r(e){var t=e.getBoundingClientRect(),n=document.documentElement;return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||n.clientHeight)&&t.right<=(window.innerWidth||n.clientWidth)}function o(){r(a)?a.play():a.pause()}var a,s,l,c=(n.querySelector("#oneblock-index"),n.querySelector("#article-minimal")),u=n.querySelector("#h-447"),d=n.querySelectorAll(".quote"),f=n.querySelectorAll(".slide"),h=e("#stoops .wrap"),p=h.find(".slide"),g=1,m="linear",v=350,y=258,b=0;c?(s=n.querySelector("#footnote-load"),l=s.getAttribute("data-active")):l=p.eq(0);var w=function(e){if(c)i.map(d,function(e){var t=e.getAttribute("id");t===l&&(e.style.display="block")}),i.map(f,function(e){var t=e.getAttribute("data-quote");if(t===l){var n=e.getElementsByTagName("video");i.map(n,function(e){e.setAttribute("id","currentVideo"),n=e}),e.classList.add("active")}});else{var t=f[0],n=t.getElementsByTagName("video");t.classList.add("active"),n[0].setAttribute("id","currentVideo"),u.style.display="block",a=n[0]}h.css({width:p.length*y,left:b}),this.el=e};return w.prototype={events:{".prev click":"moveLeft",".next click":"moveRight",".oneblock-stoops video mouseover":"videoHover",".oneblock-stoops img mouseover":"imgHover"},moveLeft:function(){h.animate({left:h.position().left+p.outerWidth(!0),easing:m,step:g},v,function(){e(".slide:last").detach().prependTo(h),h.css("left",b)})},moveRight:function(){h.animate({left:h.position().left-p.outerWidth(!0),easing:m,step:g},v,function(){e(".slide:first").detach().appendTo(h),h.css("left",b)})},videoHover:function(e){var t=this.el,n=e.target,r=n.parentNode,o=r.getAttribute("data-quote"),a=t.querySelector("#"+o);n.play(),i.map(d,function(e){e.style.display="none"}),a.style.display="block"},imgHover:function(e){var t=this.el,n=e.target,r=n.parentNode,o=r.getAttribute("data-quote"),a=t.querySelector("#"+o);i.map(d,function(e){e.style.display="none"}),a.style.display="block"}},t.addEventListener("scroll",o,!1),t.addEventListener("resize",o,!1),w}]),DS.controller("package-nav",["$window","$document","_",function(e,t,n){"use strict";function i(t,n){var i,r,o,a;return i=0,t&&(o=t.getBoundingClientRect())?(i=o.right-o.left,n&&(a=e.getComputedStyle(t),r=parseInt(a.marginLeft)||0+parseInt(a.marginRight)||0,r=a.marginLeft.toString().indexOf("rem")!==-1?10*r:r,i+=r),i):i}var r,o,a=t.querySelector(".package-nav"),s=a.offsetTop;return e.onscroll=n.throttle(function(){var e=t.documentElement&&t.documentElement.scrollTop||t.body.scrollTop;e>=s?a.classList.add("stick"):a.classList.contains("stick")&&a.classList.remove("stick")},400),r=function(e){var t,n,r;r=this,r.frameWidth=i(e.querySelector(".items-wrapper")),r.container=e.querySelector(".items"),r.containerWidth=i(r.container),t=i(e.querySelector(".item"),!0),n=Math.floor(r.frameWidth/t),r.widthToScroll=t*n,r.currentPositionX=0,r.farLeft=0,r.farRight=r.frameWidth-r.containerWidth,r.componentClassList=e.classList,r.containerWidth<=r.frameWidth&&r.componentClassList.add("is-end")},r.prototype={events:{".buttons .prev click":"slideRight",".buttons .next click":"slideLeft"},isEnd:function(){return o=this,o.currentPositionX<=o.farRight},isBeginning:function(){return o=this,o.currentPositionX>=o.farLeft},displayButtons:function(){o=this,o.isBeginning()||o.containerWidth<=o.frameWidth?o.componentClassList.add("is-beginning"):o.componentClassList.remove("is-beginning"),o.isEnd()||o.containerWidth<=o.frameWidth?o.componentClassList.add("is-end"):o.componentClassList.remove("is-end")},slide:function(){o=this,o.isBeginning()?o.currentPositionX=o.farLeft:o.isEnd()&&(o.currentPositionX=o.farRight),o.container.style.marginLeft=o.currentPositionX+"px"},slideRight:function(e){o=this,e.preventDefault(),o.currentPositionX+=o.widthToScroll,o.displayButtons(),o.slide()},slideLeft:function(e){o=this,e.preventDefault(),o.currentPositionX-=o.widthToScroll,o.displayButtons(),o.slide()}},r}]),DS.controller("prev-next",["$keyboard",function(e){function t(e,t){e&&e.getAttribute("href").length&&(t?e.classList.add("on"):(e.classList.remove("on"),window.location.href=e.getAttribute("href")))}var n=function(n){var i=n.querySelector(".prev > a"),r=n.querySelector(".next > a");e.once("left:keydown",t.bind(null,i,!0)),e.once("left:keyup",t.bind(null,i,!1)),e.once("right:keydown",t.bind(null,r,!0)),e.once("right:keyup",t.bind(null,r,!1))};return n}]),$(window).load(function(){setTimeout(function(){$(".promo-follow").addClass("on")},2e3)}),function(){"use strict";$(".pubexchange .item-link").on("mousedown",function(){var e=$(this);e.prop("href",e.attr("data-pub"))})}(),DS.controller("pull-quote",["$visibility",function(e){"use strict";var t=function(t){var n;n=new e.Visible(t,{shownThreshold:.2}),n.on("shown",function(){this.el.classList.contains("invisible")&&(this.el.classList.add("viewable"),this.el.classList.remove("invisible"))})};return t.prototype={},t}]),DS.controller("quiz",["adService","_","siteLayout","$","$window","$document","popupService","screenSize",function(e,t,n,i,r,o,a,s){"use strict";function l(e,n,i){for(var r=i.querySelectorAll(n);e&&!t.contains(r,e);)e=e.offsetParent;return e}function c(e){for(var t=0,n=e.length;t<n;t++)e[t].classList.add("disabled")}function u(e){return e.classList.contains("true")}function d(e,t){var n=t.querySelector(".checkmark");t.classList.add("correct"),t.classList.add("fadeIn"),e.appendChild(n.cloneNode(!0)),e.classList.add("correct-answer")}function f(e,t,n){var i=t.querySelector(".x-icon"),r=t.querySelector(".checkmark").cloneNode(!0);t.classList.add("wrong"),t.classList.add("fadeIn"),e.appendChild(i.cloneNode(!0)),setTimeout(function(){r.classList.add("block"),n.appendChild(r)},1e3)}function h(e,t,n){var i=e-1,r=t[i],o=t[e];n.classList.remove("correct"),n.classList.remove("wrong"),n.classList.remove("fadeIn"),r.classList.add("none"),o.classList.remove("none")}function p(e,t){i.ajax({type:"POST",url:"http://www.vulture.com/account/score/game",data:JSON.stringify(t),contentType:"application/json",success:function(t){var n=100-Math.round(t.rank);e.textContent=n},error:function(){e.textContent="62"}})}function g(e){return e>=.5}function m(e,t,r,a,l){var c=e/t,u=a.querySelector(".result-slide"),d=u.querySelector(".total-score"),f=u.querySelector(".comment-good"),h=u.querySelector(".comment-bad");r.classList.add("none"),a.querySelector("header").classList.add("none"),a.classList.remove("correct"),a.classList.remove("wrong"),d.textContent=e,g(c)?f.classList.remove("none"):(h.classList.remove("none"),"vulture"===n.getSite()&&(u.querySelector("h3").classList.add("none"),u.querySelector(".social-network").classList.add("none"))),u.classList.add("block"),"mobile"===s.getScreen()&&i("html,body").animate({scrollTop:a.getBoundingClientRect().top+o.body.scrollTop},"fast")}function v(e,t){e.style.marginTop=(t.offsetTop+34.5).toString()+"px"}function y(t,n){var i=n.querySelector(".ad"),r=t.id,o=i.id;"mobile"===s.getScreen()?e.refresh(r):"desktop"===s.getScreen()&&e.refresh(o)}function b(e){if(e.parentNode)return e.parentNode.querySelector(".quiz-ad").querySelector("[data-component=ad]")}var w=function(e){this.uid=NYM.readCookie("optimizelyEndUserId")||Math.floor(8*Math.random()).toString(),this.gid=e.getAttribute("data-gid"),this.type=e.getAttribute("data-type"),this.subtype=e.getAttribute("data-subtype"),this.timeCorrect=parseInt(e.getAttribute("data-time-correct"))||2e3,this.timeWrong=parseInt(e.getAttribute("data-time-wrong"))||3500,this.score=0,this.slides=e.querySelectorAll(".quiz-slide"),this.shareUrl=e.querySelector(".social-network").getAttribute("data-share-url"),this.shareTitle=e.querySelector(".social-network").getAttribute("data-share-title"),this.mobileAd=b(e),this.sidebar=o.querySelector("#tertiary"),this.el=e};return w.prototype={events:{".option button click":"onAnswerClick",".result-slide a.replay click":"replayQuiz",".twitter-share click":"shareToTwitter",".fb-share click":"shareToFacebook"},onAnswerClick:function(e){var i,r,o,a=this.subtype,s=this.el,g=this.score,b=this.slides,w=this.sidebar,S=this.type,k=l(e.target,".quiz-slide",s),C=l(e.target,".option button",k),T=Array.prototype.indexOf.call(b,k),x=T+1,L=s.querySelector(".percent-better-than");C.classList.contains("disabled")?(e.preventDefault(),e.stopPropagation()):(c(k.querySelectorAll(".option button")),"photo-reveal"===a?t.map(k.querySelectorAll(".answer"),function(e){e.classList.add("visible")}):"mc-reveal"===a&&k.querySelector(".reveal").classList.add("block"),u(C)?(d(C,s),r=this.timeCorrect,g++):(i=k.querySelector(".true"),f(C,s,i),r=this.timeWrong),x<b.length?setTimeout(function(){h(x,b,s)},r):("vulture"===n.getSite()&&(o={uid:this.uid,gid:this.gid,score:{correct:g,total:b.length},tag:"5050"},p(L,o)),setTimeout(function(){m(g,b.length,k,s,S)},r))),y(this.mobileAd,w),setTimeout(function(){v(w,s)},200),this.score=g},replayQuiz:function(e){var n=this.el,i=this.subtype;this.score=0,n.classList.remove("fadeIn"),n.querySelector("header").classList.remove("none"),n.querySelector(".result-slide").classList.remove("block"),n.querySelector(".comment-bad").classList.add("none"),n.querySelector(".comment-good").classList.add("none"),n.querySelector(".quiz-slide:nth-of-type(1)").classList.remove("none"),t.map(n.querySelectorAll(".quiz-slide"),function(e){"photo-reveal"===i?t.map(e.querySelectorAll(".answer"),function(e){e.classList.remove("visible")}):"mc-reveal"===i&&e.querySelector(".reveal").classList.remove("block"),t.map(e.querySelectorAll("button"),function(e){e.classList.remove("disabled"),e.classList.remove("correct-answer"),t.map(e.querySelectorAll("span"),function(e){e.classList.add("none")})})}),e.preventDefault()},shareToTwitter:function(e){var t=this.el,n=this.score,i=this.slides.length,r=this.shareUrl,s=this.shareTitle,c=l(e.target,".twitter-share",t),u=c.getAttribute("href"),d=o.querySelector('meta[name="twitter:site"]').getAttribute("content"),f="I got "+n+" out of "+i+" on "+d+"'s "+s+". #BeatThat "+r;u=u+"?source=tweetbutton&text="+encodeURIComponent(f),a.popup("twit",u),e.preventDefault()},shareToFacebook:function(e){var t=this.score,n=this.slides.length,i=this.shareUrl,r=this.shareTitle,a=o.querySelector('meta[property="og:image"]').getAttribute("content"),s="I got "+t+" out of "+n+". What can you do?";FB.ui({method:"feed",link:i,picture:a,name:r,caption:" ",description:s}),e.preventDefault()}},w}]),DS.controller("quote-quiz",["adService","$","$window","screenSize",function(e,t,n,i){function r(){var n=t("#tertiary .ad").eq(0),r=n.attr("id");"desktop"===i.getScreen()&&e.refresh(r)}function o(){var e=t(".quote-quiz").position();t("#tertiary").css({top:e.top}).fadeIn("fast")}function a(){function e(r){if(t.inArray(r.keyCode,l)>-1)return void r.preventDefault();var o=String.fromCharCode(r.keyCode),c=!1;return t.inArray(o,x)>-1?void t.each(n,function(e,n){o===n&&(t(".answer [letter="+n+"]").addClass("used"),setTimeout(function(){t(".answer [letter="+n+"]").removeClass("used")},300))}):(x.push(o),t.each(n,function(n,r){o===r&&(t(".answer [letter="+r+"]").text(r).addClass("letter-correct"),c=!0,(T+=1)===u&&(t(".correct").removeClass("none"),"mobile"===i.getScreen()&&t(".letter").addClass("used"),t(document).unbind("keydown",e),h++,setTimeout(function(){f===d?s():a()},3e3)))}),void(c||(0===(b-=1)&&(t(".wrong").removeClass("none"),t(".answer .letter").each(function(){var e=t(this).attr("letter");t(this).text(e).addClass("letter-wrong")}),t(document).unbind("keydown",e),setTimeout(function(){f===d?s():a()},4e3)),w++,t(".ltr-used div:nth-of-type("+w+")").html(o).addClass("wrong-used"))))}r(),0===f&&setTimeout(function(){o()},800),t(".slide-"+f).addClass("none"),f++,t(".slide-"+f).removeClass("none"),g.removeClass("none"),m.addClass("none"),v.removeClass("hint-open"),t(".ltr-used div").removeClass("wrong-used").empty(),p.empty(),t(".wrong").addClass("none"),t(".correct").addClass("none"),t(".letter").removeClass("letter-wrong letter-correct");var n=t(".slide-"+f+" .answer").attr("data-quote").split(""),u=n.length,b=3,w=0,S=0,k=0,C=0,T=0,x=[];t.each(n,function(e,n){k+=1,C+=1," "===n?(S+=1,p.append('<div id="blank-'+S+'" class="blank">&nbsp;</div>'),u-=1,C=0):t.inArray(n,c)>-1?(p.append('<div class="xtra">'+n+"</div>"),u-=1):p.append('<div class="letter" letter="'+n+'">&nbsp;</div>'),k===y&&(t("<br />").insertAfter("#blank-"+S),t("#blank-"+S).addClass("none"),k=C)}),t(document).keydown(e)}function s(){v.blur();var e=h/d;t(".quiz-slide").addClass("none"),t(".result-slide").removeClass("none"),t(".total-score").html(h),e>=.5?t(".result-slide .good").removeClass("none"):t(".result-slide .bad").removeClass("none"),r()}var l=[8,9,13,16,17,18,19,20,27,32,33,34,35,36,37,38,39,40,45,46,58,59,91,92,93,96,97,98,99,100,186,187,188,189,190,191,219,220,221,222,224],c=[":",",",".","'","-",'"',"?","!","@","$","&","%"],u=t(".quiz-slide"),d=u.length,f=0,h=0,p=t(".answer"),g=t(".hint"),m=t(".hint-overlay"),v=t(".m-focus"),y=15,b=t('meta[property="og:url"]').attr("content"),w=t('meta[property="og:image"]').attr("content"),S=t('meta[property="og:title"]').attr("content"),k=t('meta[name="twitter:site"]').attr("content"),C=(t('meta[property="og:site_name"]').attr("content"),t("meta[name=viewport]")),T=C.attr("content"),x=T+",maximum-scale=1, user-scalable=no",L=function(){function e(n){var i=t("#tertiary");i.hasClass("adFade")||(i.fadeOut("fast"),setTimeout(function(){i.addClass("adFade")},200));var s=["P","L","A","Y"],l=String.fromCharCode(n.keyCode);t.inArray(l,o)>-1||(o.push(l),t.each(s,function(e,n){l===n&&(t(".play [letter="+n+"]").text(n).addClass("letter-correct"),r++)}),4===r&&(t(".quiz-start").addClass("none"),t(".slide-1").removeClass("none"),a(),t(document).unbind("keydown",e)))}var n=navigator.userAgent.toLowerCase();if(n.indexOf("android")>-1)t(".quote-quiz").html('<p class="android-alert">Sorry, this is not a supported device.</p>');else if("mobile"===i.getScreen())t(".quiz-start").addClass("none"),t(".slide-1").removeClass("none"),setTimeout(function(){a()},200);else if(0===f){var r=0,o=[];t(document).keydown(e)}};return L.prototype={events:{".quiz-start click":"mobileFocus",".quiz-slide click":"mobileFocus",".skip click":"skipSlide",".hint click":"openHint",".hint-close click":"closeHint",".twitter-share click":"shareToTwitter",".fb-share click":"shareToFacebook"},mobileFocus:function(){"mobile"===i.getScreen()&&C.attr("content",x),v.focus()},skipSlide:function(e){a(),e.preventDefault()},openHint:function(){m.removeClass("none"),g.addClass("none"),v.addClass("hint-open")},closeHint:function(){g.removeClass("none"),m.addClass("none"),v.removeClass("hint-open")},shareToTwitter:function(e){e.preventDefault();var i="I got "+h+" out of "+d+" on "+k+"'s "+S+". #BeatThat "+b;n.open("http://twitter.com/intent/tweet?source=tweetbutton&text="+encodeURIComponent(i),"Tweet Your Score","width=600,height=300,left="+Math.ceil(t(window).width()/2-300)+",top="+Math.ceil(t(window).height()/2-127))},shareToFacebook:function(e){var t=b,n=S,i=w,r="I got "+h+" out of "+d+". What can you do?";FB.ui({method:"feed",link:t,picture:i,name:n,caption:" ",description:r}),e.preventDefault()}},L}]),DS.controller("recaps",["$",function(e){"use strict";function t(e){for(e=e.firstChild;1!=e.nodeType&&e.nextSibling;)e=e.nextSibling;return 1==e.nodeType&&e}function n(e,n){var o=e.querySelector(a),l=o.scrollLeft,c=t(o),u=c.offsetWidth,d=r(e)*u*.8;n===s?i(e,l-d):i(e,l+d)}function i(t,n){var i=t.querySelector(a);e(i).stop(!0,!1).animate({scrollLeft:n},c,"swing",function(){o(t)})}function r(e){var n=e.querySelector(a),i=t(n);return Math.floor(n.offsetWidth/i.offsetWidth)}function o(e){var t=e.querySelector(s),n=e.querySelector(l),i=e.querySelector(a);0===i.scrollLeft?t.classList.add(u):t.classList.remove(u),i.scrollLeft>=i.scrollWidth-i.clientWidth?n.classList.add(u):n.classList.remove(u)}var a=".items",s=".prev",l=".next",c=600,u="disabled",d=function(e){this.el=e,o(e)};return d.prototype={events:{".prev click":"prev",".next click":"next"},prev:function(e){var t=this.el,i=t.querySelector(s);i.classList.contains(u)&&e.preventDefault(),n(t,s)},next:function(e){var t=this.el,i=t.querySelector(l);i.classList.contains(u)&&e.preventDefault(),n(t,l)}},d}]),function(){"use strict";var e=$(".restaurant-search");e.find("input[name='tx']").on("focus",function(){"undefined"!=typeof disableZoom&&disableZoom(null),$(this).prop("placeholder","")}).on("blur",function(){"undefined"!=typeof enableZoom&&enableZoom(null),$(this).prop("placeholder","Babbo, Red Rooster, etc.")}),e.find("select").on("change",function(){var e=$(this).find("option:selected").attr("data-src");""!==e?window.location.href=e:"undefined"!=typeof enableZoom&&enableZoom(null)}).on("click",function(){"undefined"!=typeof disableZoom&&disableZoom(null)}).on("blur",function(){"undefined"!=typeof enableZoom&&enableZoom(null)})}(),DS.controller("runway-collection-finder",["$window",function(e){"use strict";var t=function(){};return t.prototype={events:{"select change":"changeSelect"},changeSelect:function(t){var n=t.target.getAttribute("data-msg");e.G.readOmnitureOnPageView(null,"",n),e.setTimeout(function(){e.location.href=t.target.value},200)}},t}]),DS.controller("runway-collection-search",["$window",function(e){"use strict";var t=function(e){this.navItems=e.querySelectorAll("nav li"),this.allShows=e.querySelector("ul.all"),this.latestShows=e.querySelector("ul.latest"),this.silo=e.querySelector(".silo"),this.key=e.querySelector(".key")};return t.prototype={events:{"nav li click":"switchPanel","section nav select change":"changeSelect"},switchPanel:function(e){for(var t=0;t<this.navItems.length;t++)this.navItems[t].classList.remove("selected");e.target.classList.add("selected"),"all"===e.target.getAttribute("data-action")?(this.allShows.classList.add("active"),this.key.classList.add("active"),this.latestShows.classList.remove("active"),this.silo.classList.remove("active")):(this.latestShows.classList.add("active"),this.silo.classList.add("active"),this.key.classList.remove("active"),this.allShows.classList.remove("active"))},changeSelect:function(t){e.location.href=t.target.value,t.target.selectedIndex=0}},t}]),DS.controller("runway-lede",["$window","_",function(e,t){"use strict";function n(e){t.forEach(e,function(e){e.querySelector("a").setAttribute("style","height: "+1.5*e.offsetWidth/10+"rem")})}function i(e){return"parentNode"in e?e.parentNode.getAttribute("id"):void 0}function r(e){return"runway-show-opener"===i(e)||"runway"===i(e)}function o(e){var t=document.querySelector(".runway-nav-overlay");e.preventDefault(),r(t)&&document.body.classList.add("runway-nav-overlay-on")}function a(e){e.preventDefault()}var s=document.querySelectorAll(".runway-lede .runway-item"),l=function(){n(s)};return l.prototype={events:{".runway-lede-nav-trigger click":"showShow",".share a":"clickyBits"},showShow:o,closeOverlay:a,clickyBits:function(e){e.preventDefault()}},window.addEventListener("resize",t.throttle(n.bind(this,s),500)),l}]),DS.controller("runway-nav",["$window","_","$",function(e,t,n){"use strict";function i(e,t,n){return n=n||document,e instanceof HTMLElement?e.getAttribute(t).trim():n.querySelector(e).getAttribute(t).trim()}function r(e,t){for(var n,i=e.parentNode;!n&&i!==document.body;)i.classList.contains(t)?n=i:i=i.parentNode;return n}function o(e){var n=[];return e.cities=t.sortBy(e.cities,"city"),t.forEach(e.cities,function(e){n.push(e.designers)}),{city:"All Cities",designers:t.sortBy(t.flatten(n),"name")}}function a(e,n){var i=document.createElement("ul"),r=document.createElement("li");return i.classList.add("runway-desktop-list","runway-desktop-choose"),i.setAttribute("data-season",n),r.classList.add("runway-desktop-list-city","runway-item-on"),r.setAttribute("data-value","All Cities"),r.innerHTML="All Cities",r.addEventListener("click",h),i.appendChild(r),t.reduce(e,function(e,t){var n=document.createElement("li");return n.classList.add("runway-desktop-list-city"),n.setAttribute("data-value",t.city),n.innerHTML=t.city,n.addEventListener("click",h),e.appendChild(n),e},i)}function s(e,n,i){var o=e.target,s=o.getAttribute("data-value"),l=r(o,"runway-nav-choose"),c=o.parentNode.querySelector("."+i),u=l.querySelector(".runway-desktop-city ."+n),d=l.querySelector('[data-season="'+s+'"]');return c&&c.classList.remove(i),o.classList.add(i),d?(u.classList.remove(n),void d.classList.add(n)):v.then(function(e){var n=t.find(e,function(e){return e.seasonTitle.toLowerCase()===s});if(n)return a(n.cities,n.seasonTitle)}).then(function(e){u&&u.classList.remove(n),e.classList.add(n),l.querySelector(".runway-desktop-city").appendChild(e)})}function l(e,n,i){var r=document.createElement("ul");return r.classList.add("runway-desktop-list","runway-desktop-choose"),r.setAttribute("data-city-season",n+" "+i),t.reduce(e,function(e,t){var n=document.createElement("li");return t.openerPath?(n.classList.add("runway-desktop-list-collection"),n.setAttribute("data-url",t.openerPath.replace("/thecut","")),n.innerHTML=t.title,n.addEventListener("click",g),e.appendChild(n),e):e},r)}function c(e,n,i){var a=e.target.classList.contains("runway-desktop-list-city")?e.target:r(e.target,"runway-nav").querySelector('.runway-desktop-city [data-value="All Cities"]'),s=a.getAttribute("data-value"),c=r(a,"runway-nav-choose"),u=(c.querySelector(".runway-desktop-city ."+i),c.querySelector(".runway-desktop-season ."+i).getAttribute("data-value")),d=c.querySelector(".runway-desktop-collection ."+n),f=c.querySelector('[data-city-season="'+s+" "+u+'"]');return f?(d.classList.remove(n),void f.classList.add(n)):v.then(function(e){var n,i;if("All Cities"===s?(n=t.find(e,function(e){return e.seasonTitle.toLowerCase()===u}),i=o(n)):(n=t.find(e,function(e){return e.seasonTitle.toLowerCase()===u}),i=t.find(n.cities,function(e){return e.city===s})),i&&n)return l(i.designers,i.city,n.seasonTitle)}).then(function(e){d&&d.classList.remove(n),e.classList.add(n),c.querySelector(".runway-desktop-collection").appendChild(e)})}function u(e,t){var n=document.createElement("option");return n.value=t.title.toLowerCase(),n.setAttribute("data-url",t.openerPath.replace("/thecut","")),n.innerHTML=t.title,e.appendChild(n),e}function d(e,n){var i,r=document.createElement("select"),o=document.createElement("option");return o.innerHTML="Choose a Collection",o.setAttribute("value","default"),r.setAttribute("name",n),r.classList.add("runway-nav-collection"),r.addEventListener("change",p),i=t.reduce(e,function(e,n){return t.reduce(n.designers,u,e)},r),i.insertBefore(o,i.firstChild),i}function f(e){var n=e.target,i=n.value,r="runway-nav-on",o=n.parentNode,a=o.querySelector("."+r),s=o.querySelector('[name="'+i+'"]');return s?(a.classList.remove(r),void s.classList.add(r)):v.then(function(e){var o,s=t.find(e,function(e){return e.seasonTitle===i});s&&(o=d(s.cities,s.seasonTitle)),n.parentNode.appendChild(o),a.classList.remove(r),o.classList.add(r)})}function h(e){var t,n="runway-nav-on",i="runway-item-on",o=e.target.classList;o.contains("runway-desktop-list-season")?(s(e,n,i),c(e,n,i)):o.contains("runway-desktop-list-city")&&(t=r(e.target,n).querySelector("."+i),c(e,n,i),t&&t.classList.remove(i),e.target.classList.add(i))}function p(t){var n,r=t.target;n=i('[value="'+r.value+'"]',"data-url",r),e.open(n,"_self")}function g(t){var n,r=t.target;n=i(r,"data-url"),e.open(n,"_self")}function m(e){document.body.classList.contains("runway-nav-overlay-on")&&document.body.classList.remove("runway-nav-overlay-on"),e.preventDefault()}var v=n.getJSON("https://api.nymag.com/v1/content/slideshows/fashion-shows/navigation?origin-app=client").then(function(e){return e.navigation.filter(function(e){if(e.cities)return e})}),y=function(e){var n,i,r,s,c,u="runway-item-on",d="runway-nav-on",f=e.querySelector(".runway-desktop-city"),h=e.querySelector(".runway-desktop-collection");i=this.isRunwayOpenerPage()?document.querySelector(".runway-collection-search").getAttribute("data-collection"):document.querySelector(".runway-lede").getAttribute("data-collection"),s=e.querySelector('.runway-desktop-list [data-value="'+i+'"]'),v.then(function(e){s&&(c=t.find(e,function(e){return e.seasonTitle.toLowerCase()===i}),s.classList.add(u),n=a(c.cities,i),n.classList.add(d),n.firstChild.classList.add(u),f.appendChild(n),r=l(o(c).designers,"All Cities",c.seasonTitle),r.classList.add(d),h.appendChild(r))})};return e.addEventListener("click",function(e){e.target.classList.contains("runway-nav-overlay")&&m(e)}),y.prototype={events:{"#runway-mobile-season change":"mobileOptionChange",".runway-desktop-list-season click":"optionClick",".runway-nav-overlay-close click":"closeOverlay"},mobileOptionChange:f,optionClick:h,selectShow:g,closeOverlay:m,isRunwayOpenerPage:function(){return e.location.href.indexOf("/runway")>-1}},y}]),DS.controller("runway-pagination",["$keyboard",function(e){"use strict";function t(e,t){e&&e.getAttribute("href").length&&(t?e.classList.add("on"):(e.classList.remove("on"),window.location.href=e.getAttribute("href")))}var n=function(n){var i=n.querySelector(".runway-pagination-prev"),r=n.querySelector(".runway-pagination-next");e.once("left:keydown",t.bind(null,i,!0)),e.once("left:keyup",t.bind(null,i,!1)),e.once("right:keydown",t.bind(null,r,!0)),e.once("right:keyup",t.bind(null,r,!1))};return n}]),DS.controller("runway-recirc",[function(){"use strict";var e="runway-recirc-at-start",t="runway-recirc-at-end",n=function(e){this.collection=e.querySelector(".runway-recirc-collection"),this.buttons=e.querySelector(".runway-recirc-buttons"),this.collectionItems=this.collection.querySelectorAll(".runway-item"),this.currentPos=0,this.collectionWidth=this.collection.offsetWidth,this.frameWidth=function(){return 4*this.collectionItems[0].offsetWidth+20},this.isAtEnd=function(){return this.currentPos<=this.frameWidth()-this.collectionWidth},this.isAtBeginning=function(){return 0===this.currentPos}};return n.prototype={events:{".runway-recirc-next click":"slideNext",".runway-recirc-prev click":"slidePrev"},currentPos:0,slideNext:function(e){e.preventDefault(),this.isAtEnd()||(this.currentPos-=this.frameWidth(),this.collection.setAttribute("style","transform:translate3d("+this.currentPos+"px, 0, 0)")),this.checkButtons()},slidePrev:function(e){e.preventDefault(),this.isAtBeginning()||(this.currentPos+=this.frameWidth(),this.collection.setAttribute("style","transform:translate3d("+this.currentPos+"px, 0, 0)")),this.checkButtons()},checkButtons:function(){this.isAtBeginning()?this.buttons.classList.add(e):this.buttons.classList.contains(e)&&this.buttons.classList.remove(e),this.isAtEnd()?this.buttons.classList.add(t):this.buttons.classList.contains(t)&&this.buttons.classList.remove(t)}},n}]),function(){"use strict";$("#txt-results-search").on("click",function(){var e=$(this);e.focus().select()})}(),function(){"use strict";$("#txt-results-search").on("click",function(){var e=$(this);e.focus().select()})}(),DS.controller("share",["$window","$document","popupService","_","screenSize",function(e,t,n,i,r){"use strict";var o=e.navigator.userAgent.toLowerCase().indexOf("iphone")!==-1,a=e.navigator.userAgent.toLowerCase().indexOf("ipad")!==-1,s=!(!o&&!a),l=["email","print","whatsapp","comments"],c=function(n){var i=n.querySelector(".whatsapp");i&&s&&i.classList.add("displayed");var r=e.setInterval(function(){var e,i=t.querySelector(".fyre-comment-count");i&&(e=t.querySelector(".fyre-comment-count").textContent,e.length>0&&n.querySelector(".comments span")&&(n.querySelector(".comments span").textContent=e.split(" ")[0]),clearInterval(r))},3e3);this.el=n};return c.prototype={events:{click:"mobileClickHandler","a click":"linkHandler"},mobileClickHandler:function(){var e,n,i=this.el;r.getWidth()<600&&(t.querySelector(".share-overlay-wrapper")||(e=t.createElement("div"),n=i.cloneNode(!0),e.classList.add("share-overlay-wrapper"),e.classList.add("on"),n.classList.add("overlay"),n.classList.add("on"),e.appendChild(n),t.body.appendChild(e),e.addEventListener("click",function(e){var t=document.getElementsByClassName("share-overlay-wrapper")[0],n=e.target.getAttribute("href");t.parentNode.removeChild(t),n&&window.open(n,"_blank"),e.preventDefault()})))},linkHandler:function(e){if(r.getWidth()>=600){var t,i=n.findSupportedClass(e.currentTarget.classList,l);i&&(t=e.currentTarget.getAttribute("href"),n.popup(i,t),e.preventDefault())}}},c}]),DS.controller("share-feed",["popupService",function(e){"use strict";var t=["email","print","whatsapp","comments"],n=function(){};return n.prototype={events:{"a click":"linkHandler"},linkHandler:function(n){var i=e.findSupportedClass(n.currentTarget.classList,t);if(i){var r=n.currentTarget.getAttribute("href");e.popup(i,r),n.preventDefault()}}},n}]),DS.controller("share-mini",["popupService",function(e){"use strict";var t=[],n=function(){};return n.prototype={events:{"a click":"linkHandler"},linkHandler:function(n){var i=e.findSupportedClass(n.currentTarget.classList,t);if(i){var r=n.currentTarget.getAttribute("href");e.popup(i,r),n.preventDefault()}}},n}]);var ShowsList=function(e){function t(){e(document).trigger("nym.heightChange")}function n(e){return"descending"===e.attr(f)}function i(t,n,i){var r=e(t);
i&&(r=r.filter(i)),r.each(function(t,i){var r=e(i);r.hasClass(n)||r.addClass(n)})}function r(t,n,i){var r=e(t);i&&(r=r.filter(i)),r.each(function(t,i){var r=e(i);r.hasClass(n)&&r.removeClass(n)})}function o(e,t){i(e,g,":gt("+(t-1)+")"),r(e,g,":lt("+t+")")}function a(t,n,o,a){a=!!a;var l=e(t),c=l.find(k),u=s(l,n);r(u,g),i(c,g,":not(:has(span["+p+"="+n+"]))"),i(c.not(":"+g),g,":gt("+(o-1)+")")}function s(t,n){return e(t).find(k).filter(":has(span["+p+"="+n+"])")}function l(e,t){var n=e.parentNode,i=e.nextSibling===t?e:e.nextSibling;t.parentNode.insertBefore(e,t),n.insertBefore(t,i)}function c(t,n,i,r){r=!!r;for(var o,a,s,c,u=e(t),d=u.find(n),f=d.length,h=0;h<f;h++){a=i(d[h]),o=a,c=h;for(var p=c+1;p<f;p++)s=i(d[p]),s<o!==r&&(o=s,c=p);if(c!==h){l(d[h],d[c]);var g=d[h];d[h]=d[c],d[c]=g}}}function u(t,n,i){n&&(n=n.toLowerCase(),c(t,k,function(t){return parseInt(e(t).attr("data-"+n),10)},!!i))}var d="data-sort-by",f="data-sort-direction",h="data-filter-by-tag",p="data-shows-list-tag",g="hidden",m="hidden-menu",v="filter-widget",y="filter-selected",b="drop-down",w="drop-down-open",S="drop-down-selected",k="section",C="click",T=function(t){this.el=t,this.numShowMore=20,this.visibleCount=20;var n=e(t),i=n.find(".fixedsticky"),r=n.find("."+v);n.find("button.show-more-btn").on(C,this.showMore.bind(this)),i.fixedsticky&&i.fixedsticky(),r.find("."+b).on(C,this.toggleFilterDropDown.bind(this)),r.find("["+d+"]").on(C,this.sortBy.bind(this)),r.find("["+h+"]").on(C,this.filterByTag.bind(this))};return T.prototype={getFilterList:function(){return e(e(this.el).find("."+v).find("ul"))},getFilterDropDown:function(){return e(e(this.el).find("."+v).find("."+b))},toggleFilterDropDown:function(){this.getFilterDropDown().toggleClass(w),this.getFilterList().toggleClass(m)},openFilterDropDown:function(){i(this.getFilterDropDown(),w),r(this.getFilterList(),m)},closeFilterDropDown:function(){this.getFilterDropDown();r(this.getFilterDropDown(),w),i(this.getFilterList(),m)},setDropDownSelectionText:function(t){e(this.el).find("."+S).text(t)},scrollToTop:function(){var t=e(this.el);e("html, body").animate({scrollTop:t.offset().top},500)},selectFilter:function(t){var n=e(this.el),i=e(t.currentTarget),r=n.find("."+y);r.removeClass(y),i.addClass(y),this.setDropDownSelectionText(i.text()),this.closeFilterDropDown()},sortBy:function(t){var i,r=e(t.currentTarget),a=r.attr(d),s=e(this.el);this.selectFilter(t),this.scrollToTop(t),this.visibleCount=this.numShowMore,u(this.el,a,n(r)),i=s.find(k),o(i,this.visibleCount),this.updateShowMoreButton()},filterByTag:function(t){var n=e(t.currentTarget).attr(h);t.preventDefault(),this.selectFilter(t),this.scrollToTop(t),this.visibleCount=this.numShowMore,u(this.el,"index"),n&&a(this.el,n,this.visibleCount,!0),this.updateShowMoreButton()},updateShowMoreButton:function(){var t=e(this.el),n=t.find("button.show-more-btn"),o=this.getFilterList().find("."+y),a=o.attr(h);if(a){var l=s(this.el,a).length;l<=this.visibleCount?i(n,g):r(n,g)}else t.find(k+":hidden").length?r(n,g):i(n,g)},showMore:function(){this.visibleCount+=this.numShowMore;var i=this.getFilterList().find("."+y),r=i.attr(h),s=i.attr(d);s&&u(this.el,s,n(i)),r?a(this.el,r,this.visibleCount):o(e(this.el).find(k),this.visibleCount),this.updateShowMoreButton(),t()}},T}(jQuery);$(function(){new ShowsList(".shows-list")}),$(document).ready(function(){$(".shows-list section").on("click",toggleTrack),$(".filter-widget li").on("click",removeFranklin)}),DS.controller("sign-up",["$","$window",function(e,t){"use strict";var n=function(t){e(t).find(".close").click(function(e){t.classList.remove("on"),e.preventDefault()}),e(t).next(".signup-lightbox").click(function(e){t.classList.remove("on"),e.preventDefault()})};return n.prototype={events:{"form submit":"submitForm"},submitForm:function(n){var i,r,o=e(n.target),a=o.children(".return-message").first(),s=o.children('input[type="email"]').first(),l=s.val(),c=l.search(/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/i)>=0,u=o.attr("action"),d=o.children('[name="source"]').first().val(),f=o.children('[name="newsletterId"]').first().val(),h=u+"?source="+d+"&newsletterId="+f+"&email="+l;r=function(e,t){a.text(e).addClass("on"),"success"===t?o.removeClass("error").addClass("success"):o.removeClass("success").addClass("error")},s.focus().keydown(function(){a.removeClass("on")}),c?e.ajax(h,{error:function(){r("An error occurred. Please try again.","error")},success:function(){var n,i=e(this).data("success");i&&""!==i||(i="Thank you for signing up!"),r(i,"success"),setTimeout(function(){s.val(""),e(o).parents(".sign-up").first().removeClass("on")},2500),n=t.localStorage,n&&n.setItem("signUpStatus"+f.toString(),"success")}}):(i=e(this).attr("data-error-msg"),i&&""!==i||(i="Please enter a valid email address"),r(i,"error")),n.preventDefault()}},n}]),DS.controller("skimlinks",["$","$window","$document","click",function(e,t,n,i){"use strict";function r(e){var n=e.getAttribute("data-skimlinks"),i=e.getAttribute("data-skimlinks-tracking");return h=n?"http://go.redirectingat.com/?xs=1&id="+n+(i?"&xcust="+i:"")+"&sref="+encodeURIComponent(t.location.href)+"&url=":void 0,!!n}function o(e){var t=n.querySelector("[name=keywords]");return p=t&&t.content.indexOf("editors picks")!==-1?"editors-picks-20":e.getAttribute("data-amazon"),!!p}function a(e){var t,n=f.length;for(t=0;t<n;t++)if(e.indexOf(f[t])!==-1)return!1;return!0}function s(e){return e&&0!==e.indexOf("mailto:")&&0!==e.indexOf("javascript:")}function l(e){return(e.hostname||e.host||e.href||"").toLowerCase()}function c(e,t){if(p&&t.indexOf("amazon.com")!==-1)return e.match(/\?.*tag=[^&]*/)||(e+=e.indexOf("?")!==-1?"&":"?",e+="tag="+p),e}function u(e){var t=e.indexOf("redirectingat.com")!==-1;return!t&&h?h+encodeURIComponent(e):e}function d(e){var t,n;e.isLink&&(t=e.navigateUrl,n=l(e.linkEl),s(t)&&a(n)&&(t=c(t,n)||u(t),e.navigateUrl=t))}var f,h,p,g;return f=["nymag.com","nymag.biz","nymetro.com","grubstreet.com","thecut.com","vulture.com","bedfordandbowery.com","vult.re","nym.ag","thecut.io","grb.st","shop-links.co"],g=function(e){var t,n;t=r(e),n=o(e),(t||n)&&i.addHandler(d)}}]),DS.controller("slideout",["$window","algorithms","$",function(e,t,n){"use strict";var i,r=e.sessionStorage,o="/components/slideout/"===e.location.pathname?(Math.floor(10*Math.random())+1).toString():e.location.pathname,a=t.hashCode(o).toString();return i=function(i){var o=this,s=[];this.el=i,this.displaySlideout=!0,this.slides=n(i).find(".article-link"),this.shuffledSlideLinkHashes=[],r&&r.setItem(a,"1"),this.slides.each(function(){var e=n(this).attr("href").replace(/http:\/\/(.+?)\//g,"/"),i=t.hashCode(e).toString(),r={el:n(this),hash:i};s.push(r)}),this.shuffledSlideLinkHashes=t.shuffle(s),n("body").on("showslideout",function(){var e,t,a,s,l,c;if(r){if(o.displaySlideout=!(r.getItem("hideSlideout")&&"1"===r.getItem("hideSlideout")),o.displaySlideout&&0===n(i).find(".article-link:visible").length)for(e=0,t=o.shuffledSlideLinkHashes.length;e<t;e++)if(a=o.shuffledSlideLinkHashes[e].hash,s=o.shuffledSlideLinkHashes[e].el,l=!(!r.getItem(a)||"1"!==r.getItem(a)),c=!(!r.getItem("lastslideout")||r.getItem("lastslideout")!==a),!l&&!c){n(i).addClass("on"),s.addClass("on"),r.setItem("lastslideout",a);break}}else 0===n(i).find(".article-link:visible").length&&(n(i).addClass("on"),o.shuffledSlideLinkHashes[0].el.addClass("on"))}).on("hideslideout",function(){n(i).find(".article-link:visible")&&(n(i).removeClass("on"),setTimeout(function(){n(i).find(".article-link:visible").removeClass("on")},200))}),n(e).on("scroll",function(){var e,t=n("[data-component=tags]");t.length&&(e=n("body"),n(this).scrollTop()+n(this).height()>t.position().top+200?e.trigger("showslideout"):e.trigger("hideslideout"))})},i.prototype={events:{".close click":"closeSlideout"},closeSlideout:function(){r&&r.setItem("hideSlideout","1"),n("body").trigger("hideslideout")}},i}]),DS.controller("slideout-follow",["_","$window","abstract-slideout",function(e,t,n){"use strict";function i(e){var i=t.localStorage,r=(new Date).getTime(),a=i&&JSON.parse(i.getItem(o))||{},s=a&&a.track,l=n.isDirectlyFrom(JSON.parse(e.getAttribute("data-follow"))),c=n.isListPage(),u=n.isSmallScreen();return l&&n.neverShowAgain(o),!(a.disabled||l||c||u)&&(!s||!(n.hasTimesWithinDays(s,r,1,2)||n.hasTimesWithinDays(s,r,2,7)||n.hasTimesWithinDays(s,r,4,30)))}var r,o="slideout-follow";return r=function(e){i(e)&&(this.initializeSlideoutProperties(e,o),this.showWhenSelectorsVisible(e.getAttribute("data-for")))},r.prototype={events:{".close click":"onCloseClick"}},e.mixin(r.prototype,n.StandardSlideout),r}]),DS.controller("slideout-follow-mobile",["$document","_","$window","abstract-slideout",function(e,t,n,i){"use strict";function r(e){var t=n.localStorage,r=(new Date).getTime(),o=t&&JSON.parse(t.getItem(a))||{},l=o&&o.track,c=i.isDirectlyFrom(JSON.parse(e.getAttribute("data-follow"))),u=i.isListPage(),d=i.isSmallScreen();return c&&i.neverShowAgain(a),!(s||o.disabled||c||u||!d)&&(!l||!(i.hasTimesWithinDays(l,r,1,2)||i.hasTimesWithinDays(l,r,2,7)||i.hasTimesWithinDays(l,r,4,30)))}var o,a="slideout-follow",s=n.sessionStorage.getItem("signUpColumn");return o=function(t){if(r(t)&&(this.initializeSlideoutProperties(t,a),e.querySelector(".tags"))){var n=e.querySelector(".body").querySelectorAll("p"),i=n[n.length-1],o=e.createElement("span");o.classList.add("endArticleShowSlideout"),i.insertBefore(o,i.children[Math.floor(i.children.length/2)]),this.showWhenSelectorsVisible(".endArticleShowSlideout")}},o.prototype={events:{".close click":"onCloseClick"}},t.mixin(o.prototype,i.StandardSlideout),o}]),function(){if($(".slider")){var e=0,t=$(".slider"),n=t.find(".container figure"),i=t.find(".prev"),r=t.find(".next"),o=n.length-1,a=function(t){var a=e;t?(a<o||0===a)&&e++:(a>0||a===o)&&e--,i.toggleClass("off",0===e),r.toggleClass("off",e===o),n.eq(a).removeClass("on"),n.eq(e).addClass("on")};t.find(".prev,.next").on("click",function(e){e.preventDefault(),a($(this).hasClass("next"))})}}(),DS.controller("sou-nav",function(){var e=function(e){this.navMobile=e.querySelector(".nav-mobile"),this.primaryNav=e.querySelector(".primary-nav"),this.signUp=e.querySelector(".sign-up")};return e.prototype={events:{".nav-mobile click":"toggleDropdown","a.newsletter click":"toggleSignup"},toggleDropdown:function(e){var t=this.navMobile,n=this.primaryNav;t.classList.toggle("on"),n.classList.toggle("on"),t.blur(),e.preventDefault()},toggleSignup:function(e){var t=this.signUp;t.classList.add("on"),e.preventDefault()}},e}),DS.controller("standard-slideshow",["screenSize","$window","$document","history","_","$keyboard","popupService","adService","$visibility",function(e,t,n,i,r,o,a,s,l){"use strict";function c(e){var t,n;e&&(t=e.id,n=s.getById(t),l.isElementNotHidden(e)&&s.refresh(n))}function u(e){var t,n;e&&(t=e.id,n=s.getById(t),s.remove(n))}function d(e,t){for(var n,i,r=0,o=e.length;r<o;r++)n=e[r],n.classList.contains("displayed")&&(u(n.querySelector(".ad")),n.classList.remove("displayed")),t&&t.length&&(i=t[r],u(i.querySelector(".ad")),i.classList.remove("displayed"))}function f(e,t){var n,i,r=t.slides[e];h(t.slides,e),t.slideIndexEl.textContent=e+1,t.captions&&t.captions.length&&(n=t.captions[e],n.classList.add("displayed"),i=n.querySelector(".ad"),c(i),c(t.leaderboardAd)),r.classList.add("displayed")}function h(e,n){var r={slideIndex:n},o=e[n].getAttribute("data-slide-slug"),a=t.location.pathname.replace(/\/slideshow\/(.*)/,"/slideshow/"+o+"/"+t.location.search);i.replaceState(a,r)}function p(e){var t=e.contentWindow;t.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}function g(e,t){for(var n=0,i=e.length;n<i;n++)t?e[n].setAttribute("disabled",!0):e[n].removeAttribute("disabled")}function m(e,t){for(var n=0,i=e.length;n<i;n++)t?e[n].classList.add("pressed"):e[n].classList.remove("pressed")}var v=function(e){var i=e.querySelectorAll(".slide"),a=e.querySelectorAll(".slide-sidebar"),s=e.querySelector(".slide-index"),l=e.querySelectorAll(".prev-slide"),c=e.querySelectorAll(".next-slide");this.connectedArticle=e.querySelector(".back-to-article a").getAttribute("href"),this.adFrequency=parseInt(e.getAttribute("data-ad-frequency")),this.interstitialContainer=e.querySelector(".slideshow-interstitial"),this.slidesViewed=1,this.pagingDirection="forward",this.leaderboardContainer=n.querySelector("#ad-splash"),this.slideIndexEl=s,this.el=e,this.slides=i,this.captions=a,this.mobileOverlay=e.querySelector(".mobile-slide-share-overlay"),this.mobileMenuEl=e.querySelector(".mobile-slideshow-controls-wrapper"),this.isMobileShareOpen=!1,this.slideshowVisible=!0,t.addEventListener("scroll",r.throttle(this.showMobileMenu,100,{leading:!0,trailing:!1}).bind(this)),t.addEventListener("scroll",r.debounce(this.hideMobileMenu,1e3).bind(this)),t.addEventListener("scroll",r.debounce(this.updateSlideUrl,200).bind(this)),o.on("left:keydown",m.bind(null,l,!0)),o.on("left:keyup",this.prevSlide.bind(this)),o.on("right:keydown",m.bind(null,c,!0)),o.on("right:keyup",this.nextSlide.bind(this)),this.prevButtons=l,this.nextButtons=c};return v.prototype={events:{".slide .img img click":"nextSlide",".next-slide click":"nextSlide",".prev-slide click":"prevSlide",".close-slideshow click":"closeSlideshow",".back-to-article a click":"closeSlideshow",".slideshow-interstitial click":"closeInterstitial",".mobile-top click":"goToTop",".mobile-share click":"openMobileShare",".mobile-slide-share-overlay click":"closeMobileShare",".mobile-slide-share .close click":"closeMobileShare",".slide-share a.fb click":"fbShare"},nextSlide:function(t){var n,i=this.el,r=this.prevButtons,o=this.nextButtons,a=this.slidesViewed,s=this.adFrequency,l=this.interstitialContainer,u=l.querySelector(".ad"),h={slides:this.slides,captions:this.captions||[],slideIndexEl:this.slideIndexEl,leaderboardAd:this.leaderboardContainer.querySelector(".ad.vp-1024-plus")},v=i.querySelector(".slide.displayed"),y=Array.prototype.indexOf.call(h.slides,v),b=h.slides.length;return t&&t.target&&Array.prototype.indexOf.call(i.querySelectorAll(".slide .img img"),t.target)!==-1&&t.stopPropagation(),"desktop"!==e.getScreen()?void t.preventDefault():(v.querySelector("iframe")&&p(v.querySelector("iframe")),n=y<b-1?y+1:0,m(o,!1),g(r,0===n),a%s!==0||l.classList.contains("displayed")?l.classList.contains("displayed")&&"backward"===this.pagingDirection?(l.classList.remove("displayed"),void this.slidesViewed++):(l.classList.remove("displayed"),this.slidesViewed++,this.pagingDirection="forward",d(h.slides,h.captions),f(n,h),this.fireKeywee(),void window.G.triggerPageView()):(l.classList.add("displayed"),void c(u)))},prevSlide:function(t){var n,i=this.el,r=this.adFrequency,o=this.slidesViewed,a=this.interstitialContainer,s=a.querySelector(".ad"),l=this.prevButtons,u={slides:this.slides,captions:this.captions||[],slideIndexEl:this.slideIndexEl,leaderboardAd:this.leaderboardContainer.querySelector(".ad.vp-1024-plus")},h=i.querySelector(".slide.displayed"),v=Array.prototype.indexOf.call(u.slides,h);return"desktop"!==e.getScreen()?void t.preventDefault():(h.querySelector("iframe")&&p(h.querySelector("iframe")),n=v>0?v-1:0,m(l,!1),0===v&&a.classList.remove("displayed"),g(l,0===n),o%r!==0||a.classList.contains("displayed")?a.classList.contains("displayed")&&"forward"===this.pagingDirection?(a.classList.remove("displayed"),void this.slidesViewed++):(a.classList.remove("displayed"),this.slidesViewed++,this.pagingDirection="backward",d(u.slides,u.captions),f(n,u),this.fireKeywee(),void window.G.triggerPageView()):(a.classList.add("displayed"),void c(s)))},closeSlideshow:function(e){e.preventDefault(),t.location.href=document.referrer?document.referrer:this.connectedArticle},closeInterstitial:function(){var e=this.interstitialContainer;e.classList.remove("displayed")},goToTop:function(){t.scrollTo(0,0)},openMobileShare:function(){var e=this.mobileOverlay;this.isMobileShareOpen=!0,e.classList.add("displayed")},closeMobileShare:function(){var e=this.mobileOverlay;e.classList.remove("displayed"),this.isMobileShareOpen=!1,this.mobileMenuEl.classList.remove("displayed")},fbShare:function(e){var t=e.currentTarget.getAttribute("href");a.popup("fb",t),e.preventDefault()},showMobileMenu:function(){this.slideshowVisible&&this.mobileMenuEl.classList.add("displayed")},hideMobileMenu:function(){this.isMobileShareOpen||this.mobileMenuEl.classList.remove("displayed")},updateSlideUrl:function(){var i,o,a,s=this.slides,l=this.captions,c=this.slideIndexEl;"desktop"!==e.getScreen()&&(i=t.innerHeight||n.documentElement.clientHeight,o=s[s.length-1].getBoundingClientRect().top,a=r.findIndex(s,function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=i+t.height}),a!==-1&&(d(s,l),f(a,{slides:s,captions:l,slideIndexEl:c})),o<0?this.slideshowVisible=!1:this.slideshowVisible=!0)},fireKeywee:function(){window.snowplowKW&&window.snowplowKW("trackPageView")}},v}]),DS.controller("story",function(){var e=function(e){this.el=e,this.lastInteractionAt=Date.now(),this.sponsoredInfoEl=e.querySelector(".sponsored-info")};return e.prototype={events:{".sponsored-button click":"toggleSponsorModal",".sponsored-button mouseenter":"toggleSponsorModal",".sponsored-button mouseleave":"toggleSponsorModal"},toggleSponsorModal:function(e){var t=Date.now();t-this.lastInteractionAt<100||(this.sponsoredInfoEl.classList.toggle("on"),"mouseleave"===e.type&&this.sponsoredInfoEl.classList.toggle("on",!1),this.lastInteractionAt=t)}},e}),DS.controller("streaming-beta-messaging",["$",function(e){"use strict";var t,n,i,r="betaMessageShown";return t=function(){"1"!==localStorage.getItem(r)&&(document.getElementById("streaming-beta-messaging-slide").style.display="block")},n=function(){e("#streaming-beta-messaging-slide").addClass("down")},i=function(){n(),localStorage.setItem(r,"1")},t.prototype={events:{"button click":"closeOut"},closeOut:i},t}]),function(){"use strict";var e,t,n,i;n=document.querySelector(".streaming-beta-messaging"),n&&(i=n.getAttribute("data-accent"),e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src="//widget.uservoice.com/mKyEyw91EdUMgj8QnJyjvA.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t),e.onload=function(){window.UserVoice=window.UserVoice||[],window.UserVoice.push(["set",{accent_color:i||"#00bcf1",target:"#streaming-beta-messaging-target",screenshot_enabled:!1,smartvote_enabled:!1,post_suggestion_enabled:!1,strings:{contact_menu_label:"What do you like or dislike about What to Stream Now?",contact_title:"What do you like or dislike about What to Stream Now?",contact_message_placeholder:"Type your answer"}}]),window.UserVoice.push(["addTrigger","#streaming-beta-messaging-trigger"])})}(),DS.controller("subnav",function(){var e=function(e){this.navMobile=e.querySelector(".nav-mobile"),this.primaryNav=e.querySelector(".primary-nav"),this.signUp=e.querySelector(".sign-up")};return e.prototype={events:{".nav-mobile click":"toggleDropdown","a.newsletter click":"toggleSignup"},toggleDropdown:function(e){var t=this.navMobile,n=this.primaryNav;t.classList.toggle("on"),n.classList.toggle("on"),t.blur(),e.preventDefault()},toggleSignup:function(e){var t=this.signUp;t.classList.add("on"),e.preventDefault()}},e}),function(){"use strict";$(document).ready(function(){if($(".subnav-slider")){var e=$(".subnav-slider .items").width(),t=$(".item").first().width(),n=5,i=t*n,r=$(".subnav-slider .items"),o=$(".subnav-slider .prev"),a=$(".subnav-slider .next"),s=function(t){t>0?o.removeClass("disabled"):o.addClass("disabled"),t+i<e?a.removeClass("disabled"):t+i>=e&&a.addClass("disabled")},l=function(e){if(o.hasClass("disabled"))return void e.preventDefault();var t=Math.abs(r.offset().left-160),n=t-i;s(n),n>0?r.stop(!0,!1).animate({left:-n},600):r.stop(!0,!1).animate({left:0},600)},c=function(t){if(a.hasClass("disabled"))return void t.preventDefault();var n=Math.abs(r.offset().left-160),o=n+i;s(o),o+i<e?r.stop(!0,!1).animate({left:-o},600):o+i>=e&&r.stop(!0,!1).animate({left:-(e-i)},600)};o.on("click",l),a.on("click",c),s(0)}})}(),DS.controller("subnav-slider-beauty",["$","$window",function(e,t){"use strict";function n(e,n){var i,r,o,a;return i=0,e&&(o=e.getBoundingClientRect())?(i=o.right-o.left,n&&(a=t.getComputedStyle(e),r=parseInt(a.marginLeft)||0+parseInt(a.marginRight)||0,r=a.marginLeft.toString().indexOf("rem")!==-1?10*r:r,i+=r),i):i}var i;return i=function(e){var t,i;this.frameWidth=n(e.querySelector(".items-wrapper")),this.container=e.querySelector(".items"),this.containerWidth=n(this.container),t=n(e.querySelector(".item"),!0),i=Math.floor(this.frameWidth/t),this.widthToScroll=t*i,this.currentPositionX=0,this.farLeft=0,this.farRight=this.frameWidth-this.containerWidth,this.componentClassList=e.classList,this.containerWidth<=this.frameWidth&&this.componentClassList.add("is-end")},i.prototype={events:{".buttons .prev click":"slideRight",".buttons .next click":"slideLeft"},isEnd:function(){return this.currentPositionX<=this.farRight},isBeginning:function(){return this.currentPositionX>=this.farLeft},displayButtons:function(){this.isBeginning()||this.containerWidth<=this.frameWidth?this.componentClassList.add("is-beginning"):this.componentClassList.remove("is-beginning"),this.isEnd()||this.containerWidth<=this.frameWidth?this.componentClassList.add("is-end"):this.componentClassList.remove("is-end")},slide:function(){this.isBeginning()?this.currentPositionX=this.farLeft:this.isEnd()&&(this.currentPositionX=this.farRight),this.container.style.marginLeft=this.currentPositionX+"px"},slideRight:function(e){e.preventDefault(),this.currentPositionX+=this.widthToScroll,this.displayButtons(),this.slide()},slideLeft:function(e){e.preventDefault(),this.currentPositionX-=this.widthToScroll,this.displayButtons(),this.slide()}},i}]),function(){"use strict";document.querySelector(".taboola")&&(window._taboola=window._taboola||[],_taboola.push({article:"auto"}),!function(e,t,n){e.async=1,e.src=n,t.parentNode.insertBefore(e,t)}(document.createElement("script"),document.getElementsByTagName("script")[0],"//cdn.taboola.com/libtrc/nymagazine-vulture/loader.js"),window.innerWidth>=600?_taboola.push({mode:"thumbnails-a",container:"taboola-below-article-thumbnails",placement:"Below Article Thumbnails",target_type:"mix"}):_taboola.push({mode:"thumbnails-e",container:"taboola-mobile-below-article-thumbnails",placement:"Mobile Below Article Thumbnails",target_type:"mix"}),_taboola.push({flush:!0}))}(),function(){"use strict";$(".tags a.more").one("click",function(e){$(".tags a.hide").removeClass("hide"),$(this).remove(),e.preventDefault()})}(),DS.controller("top-stories-desktop",["$","$document","$visibility",function(e,t,n){"use strict";var i=".fb-promo",r=".newsletter-signup",o=function(e){var o=t.querySelector(i),a=t.querySelector(r);setTimeout(function(){o&&n.isElementNotHidden(o)||a&&n.isElementNotHidden(a)?e.classList.add("off"):e.classList.remove("off")},0)};return o.prototype={},o}]),DS.controller("topic-schedule",function(){"use strict";var e=document.getElementById("scheduleToggle"),t=document.getElementById("dropdownScheduleToggle"),n=function(){e.classList.add("collapsed"),t.classList.add("plus-sign")};return n.prototype={events:{".dropdown click":"expand"},expand:function(n){n.preventDefault(),e.classList.toggle("collapsed"),1!==e.offsetHeight?(t.classList.remove("plus-sign"),t.classList.add("minus-sign")):(t.classList.remove("minus-sign"),t.classList.add("plus-sign"))}},n}),DS.controller("tv-recaps",["$",function(e){"use strict";var t=3,n=8,i=e("a.recap-item"),r=e("button.more"),o=function(){i.slice(3).hide()};return o.prototype={events:{"button.more click":"loadMore"},loadMore:function(){i.slice(t,n).show(),t+=5,n+=5,0===e("a.recap-item:hidden").length&&r.remove()}},o}]),DS.controller("tv-recaps-slider",["$window",function(e){"use strict";function t(t,n){var i,r,o,a;return i=0,t&&(o=t.getBoundingClientRect())?(i=o.right-o.left,n&&(a=e.getComputedStyle(t),r=parseInt(a.marginLeft)||0+parseInt(a.marginRight)||0,r=a.marginLeft.toString().indexOf("rem")!==-1?10*r:r,i+=r),i):i}var n;return n=function(e){var n,i;this.frameWidth=t(e.querySelector(".items-wrapper")),this.container=e.querySelector(".items"),this.containerWidth=t(this.container),n=t(e.querySelector(".item"),!0),i=Math.floor(this.frameWidth/n),this.widthToScroll=n*i,this.currentPositionX=0,this.farLeft=0,this.farRight=this.frameWidth-this.containerWidth,this.componentClassList=e.classList},n.prototype={events:{".next click":"slideRight"},isEnd:function(){return this.currentPositionX<=this.farRight},isBeginning:function(){return this.currentPositionX>=this.farLeft},slide:function(){(this.isBeginning()||this.isEnd())&&(this.currentPositionX=this.farLeft),this.container.style.marginLeft=this.currentPositionX+"px"},slideRight:function(e){e.preventDefault(),this.currentPositionX-=this.widthToScroll,this.slide()}},n}]),DS.controller("valuable-stars",["$","$module","affix",function(e,t,n){"use strict";function i(){setTimeout(function(){e(document).trigger("nym.refreshAdRepeat")},0)}function r(e){return!!e&&e.replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})}function o(e){return!!e&&e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}function a(t,n,i){var r=i;"object"==typeof r&&(r=e.extend(r instanceof Array?[]:{},r));for(var o in t)t.hasOwnProperty(o)&&(r=n(r,t[o],o,t));return r}function s(e,t){var n;return function(){var i=arguments,r=this;n&&clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}}function l(t,n){return a(t,function(t,i,r){var a=parseFloat(e(n).attr("data-"+o(r))),s=parseFloat(i);return s=isNaN(s)||s<1?1:s,isNaN(a)||(t+=a*s),t},0)}function c(e){return"descending"===e.attr(x)}function u(t,n,i){var r=e(t);i&&(r=r.filter(i)),r.each(function(t,i){var r=e(i);r.hasClass(n)||r.addClass(n)})}function d(t,n,i){var r=e(t);i&&(r=r.filter(i)),r.each(function(t,i){var r=e(i);r.hasClass(n)&&r.removeClass(n)})}function f(e,t){u(e,E,":gt("+(t-1)+")"),d(e,E,":lt("+t+")")}function h(e){return Math.floor((e-1)/10)}function p(n,r,o){var a=h(o),s=0;n.find("."+H).remove(),r.filter(":visible").each(function(n,i){if((n+1)%10===0&&n>1){var r=e($);s++,s>a&&u(r,E),e(i).after(r),r.each(function(){t.get("ad",this)})}}),i()}function g(t,n,i,r){r=!!r;var o=e(t),a=o.find(P),s=m(a,n),l=v(a,n);d(s,E),r&&p(o,s,i),u(l,E)}function m(t,n){return e(t).filter("."+j+n)}function v(t,n){return e(t).not("."+j+n)}function y(e,t){var n=e.parentNode,i=e.nextSibling===t?e:e.nextSibling;t.parentNode.insertBefore(e,t),n.insertBefore(t,i)}function b(t,n,i,r){r=!!r;for(var o,a,s,l,c=e(t),u=c.find(n),d=u.length,f=0;f<d;f++){a=i(u[f]),o=a,l=f;for(var h=l+1;h<d;h++)s=i(u[h]),s<o!==r&&(o=s,l=h);if(l!==f){y(u[f],u[l]);var p=u[f];u[f]=u[l],u[l]=p}}}function w(t,n,i){n&&(n=n.toLowerCase(),b(t,P,function(t){return parseInt(e(t).attr("data-"+n),10)},!!i))}function S(e,t){var n=!0;t&&"object"==typeof t&&b(e,P,l.bind(null,t),!!n)}function k(t,n){var i=e(t),r=i.find("."+O);for(var a in n)n.hasOwnProperty(a)&&r.find("input[name="+o(a)+"]").val(n[a]).trigger("change")}var C="vultureRankings",T="data-sort-by-property",x="data-sort-direction",L="data-sort-by-preset",A="data-filter-by-tag",E="hidden",M="hidden-menu",D="filter-widget",N="filter-selected",_="filter-item",I="."+_+"."+N+":nth-of-type(1)",O="slider-widget",q="drop-down",R="drop-down-open",F="drop-down-selected",P="section",B="click",j="tag-",H="ad",$='<div data-component="ad" class="ad vp-0-600" data-name="/4088/nym.vulture" data-sizes="300x250"></div><div data-component="ad" class="ad vp-600-1024" data-name="/4088/nym.vulture" data-sizes="300x250"></div>',V=function(t){var i=t.getAttribute("data-presets");if(!i)throw new Error("Missing data-presets attribute");try{this.presets=JSON.parse(atob(i))}catch(r){throw new Error("Bad data in data-presets attribute",r)}this.el=t,this.numShowMore=100,this.visibleCount=100;var o=e(t),a=o.find("."+D),s="."+D+" "+I,l=t.querySelector(".affixed");n.stickyWithinContainer(l,l.parentNode),this.presets[C]&&k(o,this.presets[C]),o.find("section").on(B,this.toggleTargetClass.bind(this,"readless")),a.find("."+q).on(B,this.toggleFilterDropDown.bind(this)),a.find("["+T+"],["+L+"],["+A+"]").on(B,this.sortBy.bind(this)),a.find("."+_).on(B,this.matchClass.bind(this,s,".hidden-except-first-filter",E,!0)),this.allowSliderChangeEvents()};return V.prototype={ignoreSliderChangeEvents:function(e){this.allowSliderChangeEvents(!1);var t=e.apply(null,Array.prototype.slice.call(arguments,1));return this.allowSliderChangeEvents(!0),t},allowSliderChangeEvents:function(t){var n=e(this.el).find("."+O).find("input");t!==!1?n.off("change").on("change",s(this.onSliderChange.bind(this),500)):n.off("change")},toggleTargetClass:function(t,n){e(n.currentTarget).toggleClass(t)},getFilterList:function(){return e(e(this.el).find("."+D).find("ul"))},getFilterDropDown:function(){return e(e(this.el).find("."+D).find("."+q))},toggleFilterDropDown:function(){this.getFilterDropDown().toggleClass(R),this.getFilterList().toggleClass(M)},openFilterDropDown:function(){u(this.getFilterDropDown(),R),d(this.getFilterList(),M)},closeFilterDropDown:function(){d(this.getFilterDropDown(),R),u(this.getFilterList(),M)},setDropDownSelectionText:function(t){e(this.el).find("."+F).text(t)},scrollToTop:function(){var t=e(this.el);e("html, body").animate({scrollTop:t.offset().top},500)},selectFilter:function(t){var n=e(this.el),i=e(t.currentTarget),r=n.find("."+N),o=n.find(".readless");r.removeClass(N),o.removeClass("readless"),i.addClass(N),this.setDropDownSelectionText(i.text()),this.closeFilterDropDown()},sortBy:function(t){var n,o=e(t.currentTarget),a=r(o.attr(T)),s=r(o.attr(L)),l=r(o.attr(A)),u=e(this.el);t.preventDefault(),this.selectFilter(t),this.scrollToTop(t),i(),a?("index"===a&&this.presets[C]&&this.ignoreSliderChangeEvents(function(){k(u,this.presets[C])}.bind(this)),w(u,a,c(o))):s&&this.presets[s]&&this.ignoreSliderChangeEvents(function(){k(u,this.presets[s]),S(e(this.el),this.getSliderValues())}.bind(this)),n=u.find(P),l?g(this.el,r(l),this.visibleCount,!0):f(n,this.visibleCount),p(u,n,this.visibleCount),this.setVisibleIndexToCurrentOrdering()},getSliderValues:function(){var t={},n=e(this.el);return n.find("."+O+" input").each(function(){var n,i=e(this),r=i.attr("name");r&&(n=parseFloat(i.val()),n&&!isNaN(n)&&(t[r]=n))}),t},onSliderChange:function(){S(e(this.el),this.getSliderValues()),this.setVisibleIndexToCurrentOrdering()},setVisibleIndexToCurrentOrdering:function(){var t=e(this.el);t.find(P+":visible").each(function(t){e(this).find("span.index").text(t+1)})},matchClass:function(t,n,i,r){var o=e(this.el),a=o.find(n);!!o.has(t).length!==r?u(a,i):d(a,i)}},V}]),DS.controller("video-embed",["$visibility",function(e){"use strict";var t=function(t){var n;n=new e.Visible(t,{zoneDetection:!0,zoneDetectionInterval:500,zoneExtensionTop:300,zoneExtensionBottom:700}),n.on("preload",function(){var e=t.getElementsByTagName("IFRAME")[0];e.setAttribute("src",e.dataset.src)})};return t.prototype={},t}]),function(){"use strict";if($("body").hasClass("vulture")){var e=$(".nav-mobile"),t=$(".search"),n=t.find(".searchtext"),i=t.find(".text-query"),r=t.find(".search-icon"),o=function(e){e&&e.preventDefault(),n&&n.hide(),t.addClass("on"),i.fadeIn(300).focus()},a=function(){n&&$(window).width()>=1024&&n.stop(!0,!0).delay(300).fadeIn(200),i.hide(),t.removeClass("on")};e.on("click",function(){e.toggleClass("on"),$(".dropdown").toggleClass("on"),$(this).blur()}),t.on("click",function(e){t.hasClass("on")||o(e)}),t.on("keyup",function(e){t.hasClass("on")||9===e.which||(o(e),i.attr("value",String.fromCharCode(e.which).toLowerCase()),i[0].setSelectionRange(1,1))}),r.on("mousedown",function(e){e.stopPropagation(),e.preventDefault()}).on("click",function(e){t.hasClass("on")||o(e)}),i.on("keypress",function(e){e.stopPropagation()}),i.on("blur",function(){a()})}}(),function(){"use strict";var e=$(".vulture-nav-minimal");if(e.length){var t=e.find(".nav-mobile"),n=e.find(".dropdown"),i=e.find(".search"),r=i.find(".searchtext"),o=i.find(".text-query"),a=i.find(".search-icon");
t.off("click"),i.off("click"),i.off("keyup"),a.off("mousedown"),a.off("click"),o.off("keypress"),o.off("blur");var s=function(e){e&&e.preventDefault(),r&&r.hide(),i.addClass("on"),o.fadeIn(300).focus()},l=function(){r&&$(window).width()>=1024&&r.stop(!0,!0).delay(300).fadeIn(200),o.hide(),i.removeClass("on")};t.on("click",function(){t.toggleClass("on"),n.toggleClass("on"),$(this).blur()}),i.on("click",function(e){i.hasClass("on")||s(e)}),i.on("keyup",function(e){i.hasClass("on")||9===e.which||(s(e),o.attr("value",String.fromCharCode(e.which).toLowerCase()),o[0].setSelectionRange(1,1))}),a.on("mousedown",function(e){e.stopPropagation(),e.preventDefault()}).on("click",function(e){i.hasClass("on")||s(e)}),o.on("keypress",function(e){e.stopPropagation()}),o.on("blur",function(){l()})}}(),function(){"use strict";$("#txt-results-search").on("click",function(){var e=$(this);e.focus().select()})}();
//# sourceMappingURL=final.min.c66efc92.js.map
